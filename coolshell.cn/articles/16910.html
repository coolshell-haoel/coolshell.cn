<!DOCTYPE html>
<!--[if IE 8]>
<html id="ie8" dir="ltr" lang="zh-CN"
	prefix="og: https://ogp.me/ns#" >
<![endif]-->
<!--[if !(IE 8) ]><!-->
<html dir="ltr" lang="zh-CN" prefix="og: https://ogp.me/ns#">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<link rel="profile" href="https://gmpg.org/xfn/11" />
<link rel="pingback" href="https://coolshell.cn/xmlrpc.php" />
<link rel="shortcut icon" href="../favicon.png">
<title>Linus：为何对象引用计数必须是原子的 | 酷 壳 - CoolShell</title>

<meta name="robots" content="max-image-preview:large" />
<meta name="keywords" content="atomic,concurrency,linus torvalds,lock-free,parallelism,程序设计,编程语言" />
<link rel="canonical" href="16910.html" />
<meta name="generator" content="All in One SEO (AIOSEO) 4.3.6.1 " />
<meta property="og:locale" content="zh_CN" />
<meta property="og:site_name" content="酷 壳 - CoolShell" />
<meta property="og:type" content="activity" />
<meta property="og:title" content="Linus：为何对象引用计数必须是原子的 | 酷 壳 - CoolShell" />
<meta property="og:url" content="https://coolshell.cn/articles/16910.html" />
<meta property="og:image" content="https://coolshell.cn/wp-content/uploads/2020/04/mini.logo_.png" />
<meta property="og:image:secure_url" content="https://coolshell.cn/wp-content/uploads/2020/04/mini.logo_.png" />
<meta property="og:image:width" content="306" />
<meta property="og:image:height" content="306" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Linus：为何对象引用计数必须是原子的 | 酷 壳 - CoolShell" />
<meta name="twitter:image" content="https://coolshell.cn/wp-content/uploads/2020/04/mini.logo_.png" />
<script type="application/ld+json" class="aioseo-schema">
			{"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"https:\/\/coolshell.cn\/articles\/16910.html#article","name":"Linus\uff1a\u4e3a\u4f55\u5bf9\u8c61\u5f15\u7528\u8ba1\u6570\u5fc5\u987b\u662f\u539f\u5b50\u7684 | \u9177 \u58f3 - CoolShell","headline":"Linus\uff1a\u4e3a\u4f55\u5bf9\u8c61\u5f15\u7528\u8ba1\u6570\u5fc5\u987b\u662f\u539f\u5b50\u7684","author":{"@id":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull#author"},"publisher":{"@id":"https:\/\/coolshell.cn\/#organization"},"image":{"@type":"ImageObject","url":"https:\/\/coolshell.cn\/wp-content\/uploads\/2020\/04\/mini.logo_.png","@id":"https:\/\/coolshell.cn\/#articleImage","width":306,"height":306},"datePublished":"2014-12-31T01:59:33+08:00","dateModified":"2014-12-31T01:59:33+08:00","inLanguage":"zh-CN","commentCount":37,"mainEntityOfPage":{"@id":"https:\/\/coolshell.cn\/articles\/16910.html#webpage"},"isPartOf":{"@id":"https:\/\/coolshell.cn\/articles\/16910.html#webpage"},"articleSection":"\u7a0b\u5e8f\u8bbe\u8ba1, \u7f16\u7a0b\u8bed\u8a00, Atomic, Concurrency, Linus Torvalds, lock-free, Parallelism"},{"@type":"BreadcrumbList","@id":"https:\/\/coolshell.cn\/articles\/16910.html#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"https:\/\/coolshell.cn\/#listItem","position":1,"item":{"@type":"WebPage","@id":"https:\/\/coolshell.cn\/","name":"\u4e3b\u9801","description":"\u4eab\u53d7\u7f16\u7a0b\u548c\u6280\u672f\u6240\u5e26\u6765\u7684\u5feb\u4e50 \u2013 https:\/\/coolshell.cn","url":"https:\/\/coolshell.cn\/"}}]},{"@type":"Organization","@id":"https:\/\/coolshell.cn\/#organization","name":"\u9177\u58f3-CoolShell","url":"https:\/\/coolshell.cn\/","logo":{"@type":"ImageObject","url":"https:\/\/coolshell.cn\/wp-content\/uploads\/2020\/04\/mini.logo_.png","@id":"https:\/\/coolshell.cn\/#organizationLogo","width":306,"height":306},"image":{"@id":"https:\/\/coolshell.cn\/#organizationLogo"}},{"@type":"Person","@id":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull#author","url":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull","name":"Leo","image":{"@type":"ImageObject","@id":"https:\/\/coolshell.cn\/articles\/16910.html#authorImage","url":"https:\/\/secure.gravatar.com\/avatar\/a6e9e679d4d308a570b1e74705c026de?s=96&d=mm&r=g","width":96,"height":96,"caption":"Leo"}},{"@type":"WebPage","@id":"https:\/\/coolshell.cn\/articles\/16910.html#webpage","url":"https:\/\/coolshell.cn\/articles\/16910.html","name":"Linus\uff1a\u4e3a\u4f55\u5bf9\u8c61\u5f15\u7528\u8ba1\u6570\u5fc5\u987b\u662f\u539f\u5b50\u7684 | \u9177 \u58f3 - CoolShell","inLanguage":"zh-CN","isPartOf":{"@id":"https:\/\/coolshell.cn\/#website"},"breadcrumb":{"@id":"https:\/\/coolshell.cn\/articles\/16910.html#breadcrumblist"},"author":{"@id":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull#author"},"creator":{"@id":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull#author"},"datePublished":"2014-12-31T01:59:33+08:00","dateModified":"2014-12-31T01:59:33+08:00"},{"@type":"WebSite","@id":"https:\/\/coolshell.cn\/#website","url":"https:\/\/coolshell.cn\/","name":"\u9177 \u58f3 - CoolShell","description":"\u4eab\u53d7\u7f16\u7a0b\u548c\u6280\u672f\u6240\u5e26\u6765\u7684\u5feb\u4e50 - Coding Your Ambition","inLanguage":"zh-CN","publisher":{"@id":"https:\/\/coolshell.cn\/#organization"}}]}
		</script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript">
			window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-7486123-1", { 'cookieDomain': 'coolshell.cn' } );
			ga('send', 'pageview');
		</script>
<script async src="https://www.google-analytics.com/analytics.js" type="a32ece04d2fa8d303e1b4142-text/javascript"></script>

<link rel="dns-prefetch" href="https://fonts.googleapis.com" />
<link rel="alternate" type="application/rss+xml" title="酷 壳 - CoolShell &raquo; Feed" href="../feed.rss" />
<link rel="alternate" type="application/rss+xml" title="酷 壳 - CoolShell &raquo; 评论Feed" href="../comments/feed.rss" />
<link rel="alternate" type="application/rss+xml" title="酷 壳 - CoolShell &raquo; Linus：为何对象引用计数必须是原子的评论Feed" href="https://coolshell.cn/articles/16910.html/feed" />
<script type="a32ece04d2fa8d303e1b4142-text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/coolshell.cn\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.2"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){p.clearRect(0,0,i.width,i.height),p.fillText(e,0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(t,0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s("\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!s("\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!s("\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!s("\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c\udfff","\ud83e\udef1\ud83c\udffb\u200b\ud83e\udef2\ud83c\udfff")}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="series_font-css" href="../wp-content/plugins/simple-post-series/inc/icomoon/style%EF%B9%96ver=2.4.css" type="text/css" media="all" />
<link rel="stylesheet" id="wp-block-library-css" href="../wp-content/plugins/gutenberg/build/block-library/style%EF%B9%96ver=15.7.0.css" type="text/css" media="all" />
<link rel="stylesheet" id="classic-theme-styles-css" href="../wp-includes/css/classic-themes.min%EF%B9%96ver=6.2.css" type="text/css" media="all" />
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
</style>
<link rel="stylesheet" id="wp-postratings-css" href="../wp-content/plugins/wp-postratings/css/postratings-css%EF%B9%96ver=1.90.1.css" type="text/css" media="all" />
<link rel="stylesheet" id="wp-pagenavi-css" href="../wp-content/plugins/wp-pagenavi/pagenavi-css%EF%B9%96ver=2.70.css" type="text/css" media="all" />
<link rel="stylesheet" id="ez-toc-css" href="../wp-content/plugins/easy-table-of-contents/assets/css/screen.min%EF%B9%96ver=2.0.48.css" type="text/css" media="all" />
<style id="ez-toc-inline-css" type="text/css">div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container nav ul ul li ul li {font-size: %!important;}
.ez-toc-container-direction {direction: ltr;}.ez-toc-counter ul{counter-reset: item;}.ez-toc-counter nav ul li a::before {content: counters(item, ".", decimal) ". ";display: inline-block;counter-increment: item;flex-grow: 0;flex-shrink: 0;margin-right: .2em; float: left;}.ez-toc-widget-direction {direction: ltr;}.ez-toc-widget-container ul{counter-reset: item;}.ez-toc-widget-container nav ul li a::before {content: counters(item, ".", decimal) ". ";display: inline-block;counter-increment: item;flex-grow: 0;flex-shrink: 0;margin-right: .2em; float: left;}
</style>
<link rel="stylesheet" id="bootstrap-css" href="../wp-content/themes/MyNisarg/css/bootstrap%EF%B9%96ver=6.2.css" type="text/css" media="all" />
<link rel="stylesheet" id="nisarg-style-css" href="../wp-content/themes/MyNisarg/style%EF%B9%96ver=6.2.css" type="text/css" media="all" />
<style id="nisarg-style-inline-css" type="text/css">/* Color Scheme */

	/* Accent Color */

	a:active,
	a:hover,
	a:focus {
	    color: #009688;
	}

	.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
		color: #009688;
	}

	
	.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
		color: #009688;			
	}

	@media (min-width: 768px){
		.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
			border-top: 4px solid #009688;
		}		
	}

	.dropdown-menu > .active > a, .dropdown-menu > .active > a:hover, .dropdown-menu > .active > a:focus {	    
	    background-color: #009688;
	}


	.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
		color: #009688;
	}

	.navbar-default .navbar-nav > li > .dropdown-menu > li > a:hover,
	.navbar-default .navbar-nav > li > .dropdown-menu > li > a:focus {
		color: #fff;
		background-color: #009688;
	}

	.navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
		background-color: #fff;
		color: #009688;
	}

	@media (max-width: 767px) {
		.navbar-default .navbar-nav .open .dropdown-menu > li > a:hover {
			background-color: #009688;
			color: #fff;
		}
	}

	.sticky-post{
	    background: #009688;
	    color:white;
	}
	
	.entry-title a:hover,
	.entry-title a:focus{
	    color: #009688;
	}

	.entry-header .entry-meta::after{
	    background: #009688;
	}

	.fa {
		color: #009688;
	}

	.btn-default{
		border-bottom: 1px solid #009688;
	}

	.btn-default:hover, .btn-default:focus{
	    border-bottom: 1px solid #009688;
	    background-color: #009688;
	}

	.nav-previous:hover, .nav-next:hover{
	    border: 1px solid #009688;
	    background-color: #009688;
	}

	.next-post a:hover,.prev-post a:hover{
	    color: #009688;
	}

	.posts-navigation .next-post a:hover .fa, .posts-navigation .prev-post a:hover .fa{
	    color: #009688;
	}


	#secondary .widget-title::after{
		background-color: #009688;
	    content: "";
	    position: absolute;
	    width: 75px;
	    display: block;
	    height: 4px;    
	    bottom: -15px;
	}

	#secondary .widget a:hover,
	#secondary .widget a:focus{
		color: #009688;
	}

	#secondary .widget_calendar tbody a {
	    background-color: #009688;
	    color: #fff;
	    padding: 0.2em;
	}

	#secondary .widget_calendar tbody a:hover{
	    background-color: #009688;
	    color: #fff;
	    padding: 0.2em;
	}	

</style>
<link rel="stylesheet" id="font-awesome-css" href="../wp-content/themes/MyNisarg/font-awesome/css/font-awesome.min%EF%B9%96ver=6.2.css" type="text/css" media="all" />
<link rel="stylesheet" id="nisarggooglefonts-css" href="https://fonts.googleapis.com/css?family=Lato:400,300italic,700%7CSource+Sans+Pro:400,400italic" type="text/css" media="all" />
<link rel="stylesheet" id="enlighterjs-css" href="../wp-content/plugins/enlighter/cache/enlighterjs.min%EF%B9%96ver=0cuVQBPCj0viGB0.css" type="text/css" media="all" />
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-includes/js/jquery/jquery.min%EF%B9%96ver=3.6.3.js" id="jquery-core-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-includes/js/jquery/jquery-migrate.min%EF%B9%96ver=3.4.0.js" id="jquery-migrate-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/plugins/simple-post-series/autohide%EF%B9%96ver=2.4.js" id="series-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" id="ez-toc-scroll-scriptjs-js-after">
jQuery(document).ready(function(){document.querySelectorAll(".ez-toc-section").forEach(t=>{t.setAttribute("ez-toc-data-id","#"+decodeURI(t.getAttribute("id")))}),jQuery("a.ez-toc-link").click(function(){let t=jQuery(this).attr("href"),e=jQuery("#wpadminbar"),i=0;30>30&&(i=30),e.length&&(i+=e.height()),jQuery('[ez-toc-data-id="'+decodeURI(t)+'"]').length>0&&(i=jQuery('[ez-toc-data-id="'+decodeURI(t)+'"]').offset().top-i),jQuery("html, body").animate({scrollTop:i},500)})});
</script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://coolshell.cn/wp-content/themes/MyNisarg/js/html5shiv.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<link rel="https://api.w.org/" href="../wp-json/index.json" /><link rel="alternate" type="application/json" href="../wp-json/wp/v2/posts/16910.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc.php%EF%B9%96rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 6.2" />
<link rel="shortlink" href="16910.html" />
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%EF%B9%96url=https%EF%B9%95%EA%A4%B7%EA%A4%B7coolshell.cn%EA%A4%B7articles%EA%A4%B716910.html.json" />
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%EF%B9%96url=https%EF%B9%95%EA%A4%B7%EA%A4%B7coolshell.cn%EA%A4%B7articles%EA%A4%B716910.html&amp;format=xml.xml" />
<script type="a32ece04d2fa8d303e1b4142-text/javascript">
	window._wp_rp_static_base_url = 'https://wprp.zemanta.com/static/';
	window._wp_rp_wp_ajax_url = "https://coolshell.cn/wp-admin/admin-ajax.php";
	window._wp_rp_plugin_version = '3.6.4';
	window._wp_rp_post_id = '16910';
	window._wp_rp_num_rel_posts = '6';
	window._wp_rp_thumbnails = true;
	window._wp_rp_post_title = 'Linus%EF%BC%9A%E4%B8%BA%E4%BD%95%E5%AF%B9%E8%B1%A1%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E5%BF%85%E9%A1%BB%E6%98%AF%E5%8E%9F%E5%AD%90%E7%9A%84';
	window._wp_rp_post_tags = ['linus+torvalds', 'atomic', 'lock-free', 'concurrency', 'parallelism', '%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1', '%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80', 'multithread', 'case', 'a', 'data', 'global', 'protect', 'lock', 'gener', 'singl', 'linu', 'hash', 'wast', 'tree', 'atom', 'chain'];
	window._wp_rp_promoted_content = true;
</script>
<link rel="stylesheet" href="../wp-content/plugins/wordpress-23-related-posts-plugin/static/themes/vertical-m%EF%B9%96version=3.6.4.css" />
<style type="text/css">.site-header { background: #1d2b2d; }
</style>
</head>
<body class="post-template-default single single-post postid-16910 single-format-standard group-blog"><div id=cf_alert_div><style>#cf_alert_div{margin:0 0 5px;padding:0;position:relative;top:0;left:0;display:block;z-index:99999;background-color:#f7f7f8;box-shadow:0 5px 5px rgba(0,0,0,.25)}#cf_alert_div a,#cf_alert_div a:visited{text-decoration:none;color:#276d9b;font-weight:600}#cf_alert_div strong{font-weight:600}#cf_alert_div table{width:100%}#cf_alert_div table td{vertical-align:middle}#cf_alert_div p{margin:0;padding:0;max-width:1100px}#cf_alert_div .wrapper{padding:0;margin:0;text-align:left;font-family:-apple-system,system-ui,BlinkMacSystemFont,segoe ui,Roboto,Oxygen,Ubuntu,helvetica neue,Arial,sans-serif;font-weight:400;font-style:normal;font-size:12px;padding:16px 3.334%}#cf_alert_div .wrapper td.refresh{text-align:center;min-width:140px}#cf_alert_div .wrapper td.refresh a{display:inline-block;padding:8px 24px;border:1.5px solid #276d9b;border-radius:5px;margin-right:20px}#cf_alert_div .wrapper td.content{position:relative;padding-right:25px;color:#1d1f20;font-size:14px;max-width:900px}#cf_alert_div .wrapper .x{position:absolute;top:0;right:-12.5px;height:25px;width:25px;cursor:pointer}#cf_alert_div .wrapper .x .line{display:block;height:15px;width:3px;position:absolute;top:5px;left:11px;background:#4e5255}#cf_alert_div .wrapper .x .line:first-of-type{transform:rotate(135deg)}#cf_alert_div .wrapper .x .line:last-of-type{transform:rotate(45deg)}</style><div class=wrapper><table><tr><td class=refresh><a href=# onclick="document.cookie='cf_use_ob=0;path=/';window.location.reload();return false;">Refresh</a><noscript style="margin:10px 0 10px 0;padding:0;font:12px Helvetica,Arial,sans-serif;color:#404040;display:block">(Enable JavaScript first.)</noscript></td><td class=content><p>This website <strong>coolshell.cn/articles/16910.html</strong> is currently offline. <a href=https://www.cloudflare.com/always-online/ target=_blank>Cloudflare's Always Online&trade;</a> shows a snapshot of this web page from the <a href=https://archive.org/web/ target=_blank>Internet Archive's Wayback Machine</a>. To check for the live version, click <strong>Refresh</strong>.</p><a class=x href="javascript:void(null);" onclick="document.getElementById('cf_alert_div').style.display='none';"><span class=line></span> <span class=line></span></a></td></tr></table></div></div>
<link rel="stylesheet" id="nisarg-style-css" href="../wp-content/themes/MyNisarg/style.css" type="text/css" media="all">
<div id="page" class="hfeed site">
<header id="masthead" role="banner">
<nav class="navbar navbar-default navbar-fixed-top navbar-left" role="navigation">

<div class="container" id="navigation_menu">
<div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="../index.html"><div class="coolshell_logo"></div>酷 壳 &#8211; CoolShell</a>
</div>
<div class="collapse navbar-collapse navbar-ex1-collapse"><ul id="menu-coolshell" class="nav navbar-nav"><li id="menu-item-17405" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-17405"><a title="首页" href="../index.html">首页</a></li>
<li id="menu-item-17406" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17406"><a title="推荐文章" href="../featured.html">推荐文章</a></li>
<li id="menu-item-17407" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17407"><a title="本站插件" href="../plugins.html">本站插件</a></li>
<li id="menu-item-17408" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17408"><a title="留言小本" href="../guestbook.html">留言小本</a></li>
<li id="menu-item-17409" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17409"><a title="关于酷壳" href="../about.html">关于酷壳</a></li>
<li id="menu-item-17410" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17410"><a title="关于陈皓" href="../haoel.html">关于陈皓</a></li>
<li id="menu-item-17582" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17582"><a title="RSS" href="../feed.rss">RSS</a></li>
</ul></div>
</div>
</nav>
<div id="cc_spacer"></div>
<div class="site-header">
<div class="pull-right">
<a title="把这个链接拖到你的Chrome收藏夹工具栏中" href="javascript:(function(){function c(){var e=document.createElement(&quot;link&quot;);e.setAttribute(&quot;type&quot;,&quot;text/css&quot;);e.setAttribute(&quot;rel&quot;,&quot;stylesheet&quot;);e.setAttribute(&quot;href&quot;,f);e.setAttribute(&quot;class&quot;,l);document.body.appendChild(e)}function h(){var e=document.getElementsByClassName(l);for(var t=0;t<e.length;t++){document.body.removeChild(e[t])}}function p(){var e=document.createElement(&quot;div&quot;);e.setAttribute(&quot;class&quot;,a);document.body.appendChild(e);setTimeout(function(){document.body.removeChild(e)},100)}function d(e){return{height:e.offsetHeight,width:e.offsetWidth}}function v(i){var s=d(i);return s.height>e&&s.height<n&&s.width>t&&s.width<r}function m(e){var t=e;var n=0;while(!!t){n+=t.offsetTop;t=t.offsetParent}return n}function g(){var e=document.documentElement;if(!!window.innerWidth){return window.innerHeight}else if(e&&!isNaN(e.clientHeight)){return e.clientHeight}return 0}function y(){if(window.pageYOffset){return window.pageYOffset}return Math.max(document.documentElement.scrollTop,document.body.scrollTop)}function E(e){var t=m(e);return t>=w&&t<=b+w}function S(){var e=document.createElement(&quot;audio&quot;);e.setAttribute(&quot;class&quot;,l);e.src=i;e.loop=false;e.addEventListener(&quot;canplay&quot;,function(){setTimeout(function(){x(k)},500);setTimeout(function(){N();p();for(var e=0;e<O.length;e++){T(O[e])}},15500)},true);e.addEventListener(&quot;ended&quot;,function(){N();h()},true);e.innerHTML=&quot; <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>&quot;;document.body.appendChild(e);e.play()}function x(e){e.className+=&quot; &quot;+s+&quot; &quot;+o}function T(e){e.className+=&quot; &quot;+s+&quot; &quot;+u[Math.floor(Math.random()*u.length)]}function N(){var e=document.getElementsByClassName(s);var t=new RegExp(&quot;\\b&quot;+s+&quot;\\b&quot;);for(var n=0;n<e.length;){e[n].className=e[n].className.replace(t,&quot;&quot;)}}var e=30;var t=30;var n=350;var r=350;var i=&quot;//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3&quot;;var s=&quot;mw-harlem_shake_me&quot;;var o=&quot;im_first&quot;;var u=[&quot;im_drunk&quot;,&quot;im_baked&quot;,&quot;im_trippin&quot;,&quot;im_blown&quot;];var a=&quot;mw-strobe_light&quot;;var f=&quot;//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css&quot;;var l=&quot;mw_added_css&quot;;var b=g();var w=y();var C=document.getElementsByTagName(&quot;*&quot;);var k=null;for(var L=0;L<C.length;L++){var A=C[L];if(v(A)){if(E(A)){k=A;break}}}if(A===null){console.warn(&quot;Could not find a node of the right size. Please try a different page.&quot;);return}c();S();var O=[];for(var L=0;L<C.length;L++){var A=C[L];if(v(A)){O.push(A)}}})()    ">High一下!</a>
</div>
<div class="site-branding">
<a class="home-link" href="../index.html" title="酷 壳 &#8211; CoolShell" rel="home">
<h1 class="site-title">酷 壳 &#8211; CoolShell</h1>
<h2 class="site-description">享受编程和技术所带来的快乐 &#8211; Coding Your Ambition</h2>
</a>
</div>
</div>
</header>
<div class="container">
<div class="row">
<div class="col-md-9 nav-searchbox hidden-lg hidden-md visible-sm-* visible-xs-*">
<form role="search" method="get" class="search-form" action="../index.html">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search …" value name="s" title="Search for:">
</label>
<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</div>
</div>
</div>
<div id="content" class="site-content">
<div class="container">
<div class="row">
<div id="primary" class="col-md-9 content-area">
<main id="main" role="main">
<article id="post-16910" class="post-content post-16910 post type-post status-publish format-standard hentry category-progdesign category-proglanguage tag-atomic tag-concurrency tag-linus-torvalds tag-lock-free tag-parallelism">
<header class="entry-header">
<span class="screen-reader-text">Linus：为何对象引用计数必须是原子的</span>
<h1 class="entry-title">Linus：为何对象引用计数必须是原子的</h1>
<div class="entry-meta">
<h5 class="entry-date"><i class="fa fa-calendar-o"></i> <a href="16910.html" title="09:59" rel="bookmark"><time class="entry-date" datetime="2014-12-31T09:59:33+08:00" pubdate>2014年12月31日 </time></a><span class="byline"><span class="sep"></span><i class="fa fa-user"></i>
<span class="author vcard"><a class="url fn n" href="author/full_of_bull.html" title="View all posts by Leo" rel="author">Leo</a></span></span> <i class="fa fa-comments-o"></i><span class="screen-reader-text">评论 </span> <a href="#comments" class="comments-link">37 条评论</a> <i class="fa fa-users" style="margin-left:10px;"></i> 50,887 人阅读</h5>
</div>
</header>
<div class="entry-content">
<p><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3415450859608158" crossorigin="anonymous" type="a32ece04d2fa8d303e1b4142-text/javascript"></script><strong>（感谢网友 </strong><a href="http://weibo.com/fullofbull" target="_blank"><strong>@我的上铺叫路遥</strong></a><strong> 投稿）</strong></p>
<p>Linus大神又在rant了！这次的吐槽对象是时下很火热的<strong>并行技术(parellism)</strong>，并直截了当地表示<a title="并行计算基本上就是浪费大家的时间" href="http://www.vaikan.com/linus-parallel-computing-is-a-huge-waste-of-everybodys-time/" target="_blank">并行计算是浪费所有人时间</a>(<a href="http://www.realworldtech.com/forum/?threadid=146066&amp;curpostid=146227">&#8220;The whole &#8220;let&#8217;s parallelize&#8221; thing is a huge waste of everybody&#8217;s time.&#8221;</a>)。大致意思是说<strong>乱序性能快、提高缓存容量、降功耗</strong>。当然笔者不打算正面讨论并行的是是非非（过于宏伟的主题），因为Linus在另一则<a title="reference counting" href="http://www.realworldtech.com/forum/?threadid=146066&amp;curpostid=146183" target="_blank">帖子</a>中举了对象<strong>引用计数(reference counting)</strong>的例子来说明并行的复杂性。</p>
<p>在Linus回复之前有人指出<strong>对象需要锁机制的情况下，引用计数的原子性问题：</strong></p>
<blockquote><p>Since it is being accessed in a multi-threaded way, via multiple access paths, generally it needs its own mutex &#8212; otherwise, reference counting would not be required to be atomic and a lock of a higher-level object would suffice.</p>
<p>由于（对象）通过多线程方式及多种获取渠道，一般而言它需要自身维护一个互斥锁——否则引用计数就不要求是原子的，一个更高层次的对象锁足矣。</p></blockquote>
<p>而Linus不那么认为：</p>
<blockquote><p>The problem with reference counts is that you often need to take them *before* you take the lock that protects the object data.</p>
<p>引用计数的问题在于你经常需要在对象数据<strong>上锁保护之前</strong>完成它。</p></blockquote>
<p>The thing is, you have two different cases:</p>
<p>问题有两种情况：</p>
<p style="padding-left: 30px;"><strong>&#8211; object *reference* 对象引用</strong></p>
<p style="padding-left: 30px;"><strong>&#8211; object data 对象数据</strong></p>
<p>and they have completely different locking.</p>
<p><strong>它们锁机制是完全不一样的。</strong></p>
<p><span id="more-16910"></span></p>
<p>Object data locking is generally per-object. Well, unless you don&#8217;t have huge scalability issues, in which case you may have some external bigger lock (extreme case: one single global lock).</p>
<p>对象数据保护一般是一个对象拥有一个锁，假设你没有海量扩展性问题，不然你需要一些外部大一点的锁（极端的例子，一个对象一个全局锁）。</p>
<p>But object *referencing* is mostly about finding the object (and removing/freeing it). Is it on a hash chain? Is it in a tree? Linked list? When the reference count goes down to zero, it&#8217;s not the object data that you need to protect (the object is not used by anything else, so there&#8217;s nothing to protect!), it&#8217;s the ways to find the object you need to protect.</p>
<p>但对象引用主要关于对象的寻找（移除或释放），它是否在哈希链，一棵树或者链表上。<strong>当对象引用计数降为零，你要保护的不是对象数据，因为对象没有在其它地方使用，你要保护的是对象的寻找操作。</strong></p>
<p>And the lock for the lookup operation cannot be in the object, because &#8211; by definition &#8211; you don&#8217;t know what the object is! You&#8217;re trying to look it up, after all.</p>
<p>而且查询操作的锁不可能在对象内部，因为根据定义，你还不知道这是什么对象，你在尝试寻找它。</p>
<p>So generally you have a lock that protects the lookup operation some way, and the reference count needs to be atomic with respect to that lock.</p>
<p>因此一般你要对查询操作上锁，而且引用计数相对<strong>那个锁</strong>来说是原子的（译者注：查询锁不是引用计数所在的对象所有，不能保护对象引用计数，后面会解释为何引用计数变更时其所在对象不能上锁）。</p>
<p>And yes, that lock may well be sufficient, and now you&#8217;re back to non-atomic reference counts. But you usually don&#8217;t have just one way to look things up: you might have pointers from other objects (and that pointer is protected by the object locking of the other object), but there may be multiple such objects that point to this (which is why you have a reference count in the first place!)</p>
<p>当然这个锁是充分有效的，现在假设引用计数是非原子的，但你常常不仅仅使用一种方式来查询：你可能拥有其它对象的指针（这个指针又被其它对象的对象锁给保护起来），但同时还会有多个对象指向它（这就是为何你第一时间需要引用计数的理由）。</p>
<p>See what happens? There is no longer one single lock for lookup. Imagine walking a graph of objects, where objects have pointers to each other. Each pointer implies a reference to an object, but as you walk the graph, you have to release the lock from the source object, so you have to take a new reference to the object you are now entering.</p>
<p>看看会发生什么？查询不止存在一个锁保护。你可以想象走过一张对象流程图，其中对象存在指向其它对象的指针，每个指针暗含了一次对象引用，但当你走过这个流程图，你必须释放源对象的锁，而你进入新对象时又必须增加一次引用。</p>
<p>And in order to avoid deadlocks, you can not in the general case take the lock of the new object first &#8211; you have to release the lock on the source object, because otherwise (in a complex graph), how do you avoid simple ABBA deadlock?</p>
<p>而且为了避免死锁，你一般不能立即对新对象上锁——你必须释放源对象的锁，否则在一个复杂流程图里，你如何避免<strong>ABBA死锁</strong>（译者注：假设两个线程，一个是A-&gt;B，另一个B-&gt;;A，当线程一给A上锁，线程二给B上锁，此时两者谁也无法释放对方的锁）？</p>
<p>So atomic reference counts fix that. They work because when you move from object A to object B, you can do this:</p>
<p>原子引用计数修正了这一点，当你从对象A到对象B，你会这样做：</p>
<p>(a) you have a reference count to A, and you can lock A</p>
<p style="padding-left: 30px;">对象A增加一次引用计数，并上锁。</p>
<p>(b) once object A is locked, the pointer from A to B is stable, and you know you have a reference to B (because of that pointer from A to B)</p>
<p style="padding-left: 30px;">对象A一旦上锁，A指向B的指针就是稳定的，于是你知道你引用了对象B。</p>
<p>(c) but you cannot take the object lock for B (ABBA deadlock) while holding the lock on A</p>
<p style="padding-left: 30px;">但你不能在对象A上锁期间给B上锁（ABBA死锁）。</p>
<p>(d) increment the atomic reference count on B</p>
<p style="padding-left: 30px;">对象B增加一次原子引用计数。</p>
<p>(e) now you can drop the lock on A (you&#8217;re &#8220;exiting&#8221; A)</p>
<p style="padding-left: 30px;">现在你可以扔掉对象A的锁（退出对象A）。</p>
<p>(f) your reference count means that B cannot go away from under you despite unlocking A, so now you can lock B.</p>
<p style="padding-left: 30px;">对象B的原子引用计数意味着即使给A解锁期间，B也不会失联，现在你可以给B上锁。</p>
<p>See? Atomic reference counts make this kind of situation possible. Yes, you want to avoid the overhead if at all possible (for example, maybe you have a strict ordering of objects, so you know you can walk from A to B, and never walk from B to A, so there is no ABBA deadlock, and you can just lock B while still holding the lock on A).</p>
<p>看见了吗？原子引用计数使这种情况成为可能。是的，你想尽一切办法避免这种代价，比如，你也许把对象写成严格顺序的，这样你可以从A到B，绝不会从B到A，如此就不存在ABBA死锁了，你也就可以在A上锁期间给B上锁了。</p>
<p>But if you don&#8217;t have some kind of forced ordering, and if you have multiple ways to reach an object (and again &#8211; why have reference counts in the first place if that isn&#8217;t true!) then atomic reference counts really are the simple and sane answer.</p>
<p>但如果你无法做到这种强迫序列，如果你有多种方式接触一个对象（再一次强调，这是第一时间使用引用计数的理由），这样，原子引用计数就是简单又理智的答案。</p>
<p>If you think atomic refcounts are unnecessary, that&#8217;s a big flag that you don&#8217;t actually understand the complexities of locking.</p>
<p><strong>如果你认为原子引用计数是不必要的，这就大大说明你实际上不了解锁机制的复杂性。</strong></p>
<p>Trust me, concurrency is hard. There&#8217;s a reason all the examples of &#8220;look how easy it is to parallelize things&#8221; tend to use simple arrays and don&#8217;t ever have allocations or freeing of the objects.</p>
<p>相信我，<strong>并发设计是困难的。</strong>所有关于“并行化如此容易”的理由都倾向于使用简单数组操作做例子，甚至不包含对象的分配和释放。</p>
<p>People who think that the future is highly parallel are invariably completely unaware of just how hard concurrency really is. They&#8217;ve seen Linpack, they&#8217;ve seen all those wonderful examples of sorting an array in parallel, they&#8217;ve seen all these things that have absolutely no actual real complexity &#8211; and often very limited real usefulness.</p>
<p>那些认为未来是高度并行化的人一成不变地完全没有意识到并发设计是多么困难。他们只见过<a title="Linpack" href="https://en.wikipedia.org/wiki/LINPACK" target="_blank">Linpack</a>，他们只见过并行技术中关于数组排序的一切精妙例子，他们只见过一切绝不算真正复杂的事物——对真正的用处经常是非常有限的。</p>
<p>（译者注：当然，我无意借大神之口把技术宗教化。实际上Linus又在另一篇<a title="评价" href="http://www.realworldtech.com/forum/?threadid=146066&amp;curpostid=146198" target="_blank">帖子</a>中综合了对并行的评价。）</p>
<p>Oh, I agree. My example was the simple case. The really complex cases are much worse.</p>
<p>哦，我同意。我的例子还算简单，真正复杂的用例更糟糕。</p>
<p>I seriously don&#8217;t believe that the future is parallel. People who think you can solve it with compilers or programming languages (or better programmers) are so far out to lunch that it&#8217;s not even funny.</p>
<p>我严重不相信未来是并行的。有人认为你可以通过编译器，编程语言或者更好的程序员来解决问题，他们目前都是神志不清，没意识到这一点都不有趣。</p>
<p>Parallelism works well in simplified cases with fairly clear interfaces and models. You find parallelism in servers with independent queries, in HPC, in kernels, in databases. And even there, people work really hard to make it work at all, and tend to expressly limit their models to be more amenable to it (eg databases do some things much better than others, so DB admins make sure that they lay out their data in order to cater to the limitations).</p>
<p>并行计算可以在简化的用例以及具备清晰的接口和模型上正常工作。你发现并行在服务器上独立查询里，在高性能计算(High-performance computing)里，在内核里，在数据库里。即使如此，人们还得花很大力气才能使它工作，并且还要明确限制他们的模型来尽更多义务（例如数据库要想做得更好，数据库管理员得确保数据得到合理安排来迎合局限性）。</p>
<p>Of course, other programming models can work. Neural networks are inherently very parallel indeed. And you don&#8217;t need smarter programmers to program them either..</p>
<p>当然，其它编程模型倒能派上用场，神经网络(neural networking)天生就是非常并行化的，你不需要更聪明的程序员为之写代码。</p>
<h4>参考资料</h4>
<ul>
<li><a title="Real World Technologies" href="http://www.realworldtech.com/" target="_blank">Real World Technologies</a>：Linus常去“灌水”的一个论坛，讨论未来机器架构（看名字就知道Linus技术偏好，及其之前对虚拟化技术(virtualization)的<a title="virtualization is evil" href="http://www.networkworld.com/article/2220440/opensource-subnet/torvalds-says---virtualization-is-evil-.html" target="_blank">吐槽</a>）</li>
<li><a title="多线程程序中操作的原子性" href="http://www.parallellabs.com/2010/04/15/atomic-operation-in-multithreaded-application/" target="_blank">多线程程序中操作的原子性</a>：解释为什么i++不是原子操作</li>
<li><a title="Concurrency Is Not Parallelism" href="http://www.vaikan.com/docs/Concurrency-is-not-Parallelism" target="_blank"> Concurrency Is Not Parallelism</a>：Go语言之父Rob Pike幻灯片解释“并发”与“并行”概念上的区别</li>
</ul>
<p>（全文完）</p>
<div style="margin-top: 15px; font-size: 16px;color: #cc0000;">
<p align="center"><strong>（转载本站文章请注明作者和出处 <a href="../index.html">酷 壳 &#8211; CoolShell</a> ，请勿用于任何商业用途）</strong></p>
</div>
<div class="wp_rp_wrap  wp_rp_vertical_m" id="wp_rp_first"><div class="wp_rp_content"><h3 class="related_post_title">相关文章</h3><ul class="related_post wp_rp"><li><a href="9917.html" class="wp_rp_thumbnail"><img src="../wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/10.jpg" alt="Alan Cox：大教堂、市集与市议会" width="150" height="150" /></a><a href="9917.html" class="wp_rp_title">Alan Cox：大教堂、市集与市议会</a></li><li><a href="8990.html" class="wp_rp_thumbnail"><img src="../wp-content/uploads/2013/02/linus_pointer_to_pointer-150x150.jpg" alt="Linus：利用二级指针删除单向链表" width="150" height="150" /></a><a href="8990.html" class="wp_rp_title">Linus：利用二级指针删除单向链表</a></li><li><a href="8275.html" class="wp_rp_thumbnail"><img src="../wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/13.jpg" alt="对九个超级程序员的采访" width="150" height="150" /></a><a href="8275.html" class="wp_rp_title">对九个超级程序员的采访</a></li><li><a href="6790.html" class="wp_rp_thumbnail"><img src="../wp-content/uploads/2012/03/o_conditional_update_1-150x150.png" alt="多版本并发控制(MVCC)在分布式系统中的应用" width="150" height="150" /></a><a href="6790.html" class="wp_rp_title">多版本并发控制(MVCC)在分布式系统中的应用</a></li><li><a href="2322.html" class="wp_rp_thumbnail"><img src="../wp-content/uploads/2010/04/o_unixrichiethompson-150x150.jpg" alt="Unix传奇(上篇)" width="150" height="150" /></a><a href="2322.html" class="wp_rp_title">Unix传奇(上篇)</a></li><li><a href="1619.html" class="wp_rp_thumbnail"><img src="../wp-content/uploads/2009/10/Linus_windows_7-150x150.jpg" alt="Windows 7 的新粉丝 Linus Torvalds" width="150" height="150" /></a><a href="1619.html" class="wp_rp_title">Windows 7 的新粉丝 Linus Torvalds</a></li></ul></div></div>
<div id="post-ratings-16910" class="post-ratings" itemscope itemtype="https://schema.org/Article" data-nonce="8fddb74617"><img id="rating_16910_1" src="../wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="好烂啊" title="好烂啊" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(16910, 1, '好烂啊');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(3.8, 4, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-a32ece04d2fa8d303e1b4142- /><img id="rating_16910_2" src="../wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="有点差" title="有点差" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(16910, 2, '有点差');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(3.8, 4, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-a32ece04d2fa8d303e1b4142- /><img id="rating_16910_3" src="../wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="凑合看看" title="凑合看看" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(16910, 3, '凑合看看');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(3.8, 4, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-a32ece04d2fa8d303e1b4142- /><img id="rating_16910_4" src="../wp-content/plugins/wp-postratings/images/stars_crystal/rating_half.gif" alt="还不错" title="还不错" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(16910, 4, '还不错');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(3.8, 4, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-a32ece04d2fa8d303e1b4142- /><img id="rating_16910_5" src="../wp-content/plugins/wp-postratings/images/stars_crystal/rating_off.gif" alt="很精彩" title="很精彩" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(16910, 5, '很精彩');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(3.8, 4, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-a32ece04d2fa8d303e1b4142- /> (<strong>42</strong> 人打了分，平均分： <strong>3.83</strong> )<br/><span class="post-ratings-text" id="ratings_16910_text"></span><meta itemprop="name" content="Linus：为何对象引用计数必须是原子的" /><meta itemprop="headline" content="Linus：为何对象引用计数必须是原子的" /><meta itemprop="description" content="（感谢网友&nbsp;@我的上铺叫路遥&nbsp;投稿）

Linus大神又在rant了！这次的吐槽对象是时下很火热的并行技术(parellism)，并直截了当地表示并行计算是浪费所有人时间(&quot;The whole &quot;let's parallelize&quot; thing is a huge waste of everybody's time.&quot;)。大致意思是说乱序性能快、提高缓存容量、降功耗。当然笔者不打算正面讨论并行..." /><meta itemprop="datePublished" content="2014-12-31T09:59:33+08:00" /><meta itemprop="dateModified" content="2014-12-31T09:59:33+08:00" /><meta itemprop="url" content="https://coolshell.cn/articles/16910.html" /><meta itemprop="author" content="Leo" /><meta itemprop="mainEntityOfPage" content="https://coolshell.cn/articles/16910.html" /><div style="display: none;" itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="酷 壳 - CoolShell" /><meta itemprop="url" content="https://coolshell.cn" /><div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject"><meta itemprop="url" content /></div></div><div style="display: none;" itemprop="aggregateRating" itemscope itemtype="https://schema.org/AggregateRating"><meta itemprop="bestRating" content="5" /><meta itemprop="worstRating" content="1" /><meta itemprop="ratingValue" content="3.83" /><meta itemprop="ratingCount" content="42" /></div></div><div id="post-ratings-16910-loading" class="post-ratings-loading"><img src="../wp-content/plugins/wp-postratings/images/loading.gif" width="16" height="16" class="post-ratings-image" />Loading...</div>
</div>
<footer class="entry-footer">
<hr><div class="row"><div class="col-md-6 cattegories"><span class="cat-links"><i class="fa fa-folder-open"></i>
<a href="../category/progdesign.html" rel="category tag">程序设计</a>, <a href="../category/proglanguage.html" rel="category tag">编程语言</a></span></div><div class="col-md-6 tags"><span class="tags-links"><i class="fa fa-tags"></i> <a href="../tag/atomic.html" rel="tag">Atomic</a>, <a href="../tag/concurrency.html" rel="tag">Concurrency</a>, <a href="../tag/linus-torvalds.html" rel="tag">Linus Torvalds</a>, <a href="../tag/lock-free.html" rel="tag">lock-free</a>, <a href="../tag/parallelism.html" rel="tag">Parallelism</a></span></div></div> </footer>
</article>

<div id="related_posts">
<div class="wp_rp_wrap  wp_rp_vertical_m"><div class="wp_rp_content"><h3 class="related_post_title">相关文章</h3><ul class="related_post wp_rp"><li><a href="9917.html" class="wp_rp_thumbnail"><img src="../wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/10.jpg" alt="Alan Cox：大教堂、市集与市议会" width="150" height="150" /></a><a href="9917.html" class="wp_rp_title">Alan Cox：大教堂、市集与市议会</a></li><li><a href="8990.html" class="wp_rp_thumbnail"><img src="../wp-content/uploads/2013/02/linus_pointer_to_pointer-150x150.jpg" alt="Linus：利用二级指针删除单向链表" width="150" height="150" /></a><a href="8990.html" class="wp_rp_title">Linus：利用二级指针删除单向链表</a></li><li><a href="8275.html" class="wp_rp_thumbnail"><img src="../wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/13.jpg" alt="对九个超级程序员的采访" width="150" height="150" /></a><a href="8275.html" class="wp_rp_title">对九个超级程序员的采访</a></li><li><a href="6790.html" class="wp_rp_thumbnail"><img src="../wp-content/uploads/2012/03/o_conditional_update_1-150x150.png" alt="多版本并发控制(MVCC)在分布式系统中的应用" width="150" height="150" /></a><a href="6790.html" class="wp_rp_title">多版本并发控制(MVCC)在分布式系统中的应用</a></li><li><a href="2322.html" class="wp_rp_thumbnail"><img src="../wp-content/uploads/2010/04/o_unixrichiethompson-150x150.jpg" alt="Unix传奇(上篇)" width="150" height="150" /></a><a href="2322.html" class="wp_rp_title">Unix传奇(上篇)</a></li><li><a href="1619.html" class="wp_rp_thumbnail"><img src="../wp-content/uploads/2009/10/Linus_windows_7-150x150.jpg" alt="Windows 7 的新粉丝 Linus Torvalds" width="150" height="150" /></a><a href="1619.html" class="wp_rp_title">Windows 7 的新粉丝 Linus Torvalds</a></li></ul></div></div>
</div><div class="fixed"></div> 
</main>
<div class="post-navigation">
<nav class="navigation" role="navigation">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links">
<div class="row">

<div class="col-md-6 next-post">
<a class href="https://coolshell.cn/articles/17066.html"><span class="next-prev-text"><i class="fa fa-angle-left"></i>
上一篇</span><br>关于移动端的钓鱼式攻击</a>
</div>

<div class="col-md-6 prev-post">
<a class href="https://coolshell.cn/articles/12225.html"><span class="next-prev-text">下一篇 <i class="fa fa-angle-right"></i>
</span><br>DHH 谈混合移动应用开发</a>
</div>
</div>
</div>
</nav>
</div>
<div class="post-comments">
<div id="comments" class="comments-area">
<h2 class="comments-title">
《<span>Linus：为何对象引用计数必须是原子的</span>》的相关评论 </h2>
<ol class="comment-list">
<li id="comment-1637959" class="comment even thread-even depth-1">
<article id="div-comment-1637959" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/ee59cc6f674d495e835d48437aee8152?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ee59cc6f674d495e835d48437aee8152?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="https://github.com/wks" class="url" rel="ugc external nofollow">wks</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1637959"><time datetime="2014-12-31T10:27:49+08:00">2014年12月31日 10:27</time></a> </div>
</footer>
<div class="comment-content">
<p>Linus大人干得漂亮。早就想吐槽朴素引用计数了。</p>
<p>其实，朴素的引用计数差劲，人们早就知道了，这也就是为什么学术界这么多年来一直没有人关心引用计数吧，高度优化的引用计数尚且比朴素的mark-sweep慢30%。当然，也有例外的突破，比如： <a href="http://users.cecs.anu.edu.au/~rifat/files/rc-ismm-2012.pdf" rel="nofollow ugc">http://users.cecs.anu.edu.au/~rifat/files/rc-ismm-2012.pdf</a> 和 <a href="http://users.cecs.anu.edu.au/~rifat/files/rcix-oopsla-2013.pdf" rel="nofollow ugc">http://users.cecs.anu.edu.au/~rifat/files/rcix-oopsla-2013.pdf</a></p>
<p>我的感觉，现在的CPU已经不像人们以往想象的那样工作了。比如OoO什么的，让我脑子转了好久。</p>
<p>让我感到意外的是，并行好像不是新概念，但Linux到了200x年才有比较好的POSIX thread实现。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1637959#respond" data-commentid="1637959" data-postid="16910" data-belowelement="div-comment-1637959" data-respondelement="respond" data-replyto="回复给wks" aria-label="回复给wks">回复</a></div> </article>
</li>
<li id="comment-1638002" class="comment byuser comment-author-full_of_bull bypostauthor odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1638002" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://weibo.com/fullofbull" class="url" rel="ugc external nofollow">Leo</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1638002"><time datetime="2014-12-31T12:47:55+08:00">2014年12月31日 12:47</time></a> </div>
</footer>
<div class="comment-content">
<p>再补充一下，关于对象循环引用(cyclic graph)这样更复杂的情况，Linus做了如下<a href="http://www.realworldtech.com/forum/?threadid=146066&amp;curpostid=146291" title="cyclic graph" rel="nofollow">回复</a>，大意是说，单纯使用引用计数不够，需要综合解决方案，比如compare-and-exchange云云。笔者看不大理解就不翻译了，所以留给大家填充脑洞吧~</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1638002#respond" data-commentid="1638002" data-postid="16910" data-belowelement="div-comment-1638002" data-respondelement="respond" data-replyto="回复给Leo" aria-label="回复给Leo">回复</a></div> </article>
</li>
<li id="comment-1638144" class="comment even thread-even depth-1">
<article id="div-comment-1638144" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/4befe8569e3bb6b8e6a05e511e1eca6e?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4befe8569e3bb6b8e6a05e511e1eca6e?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">passinger</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1638144"><time datetime="2014-12-31T16:55:37+08:00">2014年12月31日 16:55</time></a> </div>
</footer>
<div class="comment-content">
<p>这句话“因此一般你要对查询操作上锁，而且引用计数相对那个锁来说是原子的”里面，不太理解“引用计数相对那个锁来说是原子的”是啥意思？</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1638144#respond" data-commentid="1638144" data-postid="16910" data-belowelement="div-comment-1638144" data-respondelement="respond" data-replyto="回复给passinger" aria-label="回复给passinger">回复</a></div> </article>
</li>
<li id="comment-1638159" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1638159" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/4befe8569e3bb6b8e6a05e511e1eca6e?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4befe8569e3bb6b8e6a05e511e1eca6e?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">passinger</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1638159"><time datetime="2014-12-31T17:08:23+08:00">2014年12月31日 17:08</time></a> </div>
</footer>
<div class="comment-content">
<p>理解能力比较弱，没看明白为什么非原子的引用计数怎么导致了ABBA死锁？而原子引用计数怎么就解决这个问题了？</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1638159#respond" data-commentid="1638159" data-postid="16910" data-belowelement="div-comment-1638159" data-respondelement="respond" data-replyto="回复给passinger" aria-label="回复给passinger">回复</a></div> </article>
</li>
<li id="comment-1638230" class="comment byuser comment-author-full_of_bull bypostauthor even thread-even depth-1">
<article id="div-comment-1638230" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://weibo.com/fullofbull" class="url" rel="ugc external nofollow">Leo</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1638230"><time datetime="2014-12-31T21:09:51+08:00">2014年12月31日 21:09</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-1638144" rel="nofollow">@passinger </a><br/>
Linus先说明两个概念：对象数据和对象引用，并且两者拥有不同的锁机制。</p>
<p>对象的引用计数属于对象内部data，理应由对象内部的锁保护起来。但引用计数的操作不属于对象，对象查询操作使用的外部锁无法保护引用计数，也就是说仍存在被其它引用入侵的风险，所以使用原子操作。</p>
<p>至于入侵的风险会是什么，见参考资料第二条。</p>
<p>ABBA死锁风险决定了当存在A-&gt;B执行序列时，A上锁期间B是不能上锁的，必须等到A退出。因而B的引用计数必须在B上锁之前完成，所以必须原子操作。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1638230#respond" data-commentid="1638230" data-postid="16910" data-belowelement="div-comment-1638230" data-respondelement="respond" data-replyto="回复给Leo" aria-label="回复给Leo">回复</a></div> </article>
</li>
<li id="comment-1638595" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1638595" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/dd66bd19ad282695f27b14c684717214?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/dd66bd19ad282695f27b14c684717214?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">Benjamin</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1638595"><time datetime="2015-01-01T16:47:21+08:00">2015年01月01日 16:47</time></a> </div>
</footer>
<div class="comment-content">
<p>好高深啊，看不懂</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1638595#respond" data-commentid="1638595" data-postid="16910" data-belowelement="div-comment-1638595" data-respondelement="respond" data-replyto="回复给Benjamin" aria-label="回复给Benjamin">回复</a></div> </article>
</li>
<li id="comment-1638640" class="comment even thread-even depth-1">
<article id="div-comment-1638640" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/8a2ca2b28c7c4499a4c9062c18409802?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8a2ca2b28c7c4499a4c9062c18409802?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">mono</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1638640"><time datetime="2015-01-01T18:06:52+08:00">2015年01月01日 18:06</time></a> </div>
</footer>
<div class="comment-content">
<p>感谢转贴 不太感谢翻译<br/>
a graph of objects 怎会是&#8221;对象流程图&#8221;的?</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1638640#respond" data-commentid="1638640" data-postid="16910" data-belowelement="div-comment-1638640" data-respondelement="respond" data-replyto="回复给mono" aria-label="回复给mono">回复</a></div> </article>
</li>
<li id="comment-1638690" class="comment byuser comment-author-full_of_bull bypostauthor odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1638690" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://weibo.com/fullofbull" class="url" rel="ugc external nofollow">Leo</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1638690"><time datetime="2015-01-01T20:54:36+08:00">2015年01月01日 20:54</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-1638640" rel="nofollow">@mono </a><br/>
应该叫“对象关系图”比较合适</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1638690#respond" data-commentid="1638690" data-postid="16910" data-belowelement="div-comment-1638690" data-respondelement="respond" data-replyto="回复给Leo" aria-label="回复给Leo">回复</a></div> </article>
</li>
<li id="comment-1639025" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://iptest.damn.so/?p=589" class="url" rel="ugc external nofollow">Linus：为何对象引用计数必须是原子的 | 测试博客</a> </div>
</li>
<li id="comment-1639308" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1639308" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/2fcc16594bad026bcebd3140f9d474f4?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2fcc16594bad026bcebd3140f9d474f4?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">bumfo</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1639308"><time datetime="2015-01-03T07:58:38+08:00">2015年01月03日 07:58</time></a> </div>
</footer>
<div class="comment-content">
<p>中文翻譯太晦澀了，還不如英文原文通俗易懂，難道是機器翻譯的？</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1639308#respond" data-commentid="1639308" data-postid="16910" data-belowelement="div-comment-1639308" data-respondelement="respond" data-replyto="回复给bumfo" aria-label="回复给bumfo">回复</a></div> </article>
</li>
<li id="comment-1640529" class="comment even thread-even depth-1">
<article id="div-comment-1640529" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/a0f20faf12f134fb349fe02fcc869561?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a0f20faf12f134fb349fe02fcc869561?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">wan</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1640529"><time datetime="2015-01-05T10:12:49+08:00">2015年01月05日 10:12</time></a> </div>
</footer>
<div class="comment-content">
<p>（极端的例子，一个对象一个全局锁）这句翻译有误，应该是一共只有一个而不是一个对象一个</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1640529#respond" data-commentid="1640529" data-postid="16910" data-belowelement="div-comment-1640529" data-respondelement="respond" data-replyto="回复给wan" aria-label="回复给wan">回复</a></div> </article>
</li>
<li id="comment-1640609" class="comment byuser comment-author-full_of_bull bypostauthor odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1640609" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://weibo.com/fullofbull" class="url" rel="ugc external nofollow">Leo</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1640609"><time datetime="2015-01-05T14:47:04+08:00">2015年01月05日 14:47</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-1640529" rel="nofollow">@wan </a><br/>
的确是失误，谢谢指正！</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1640609#respond" data-commentid="1640609" data-postid="16910" data-belowelement="div-comment-1640609" data-respondelement="respond" data-replyto="回复给Leo" aria-label="回复给Leo">回复</a></div> </article>
</li>
<li id="comment-1641555" class="comment even thread-even depth-1">
<article id="div-comment-1641555" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/0a7a028c4d04f67582fb9ae47dc08f21?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0a7a028c4d04f67582fb9ae47dc08f21?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://mr-ping.com" class="url" rel="ugc external nofollow">Ping</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1641555"><time datetime="2015-01-07T10:27:00+08:00">2015年01月07日 10:27</time></a> </div>
</footer>
<div class="comment-content">
<p>以前他不是也吐槽用C++的都是脑残么&#8230;</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1641555#respond" data-commentid="1641555" data-postid="16910" data-belowelement="div-comment-1641555" data-respondelement="respond" data-replyto="回复给Ping" aria-label="回复给Ping">回复</a></div> </article>
</li>
<li id="comment-1642811" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.person168.com/?p=76497" class="url" rel="ugc external nofollow">Linus Torvalds：忘掉那该死的并行吧！ &#124; 我爱互联网</a> </div>
</li>
<li id="comment-1643298" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.zijinxing.com/201501/133958.html" class="url" rel="ugc external nofollow">Linus Torvalds：忘掉那该死的并行吧！-紫金星</a> </div>
</li>
<li id="comment-1644675" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1644675" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/01f909843adb0a391d49d6b7d5d1b767?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/01f909843adb0a391d49d6b7d5d1b767?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://www.renwuyi.com" class="url" rel="ugc external nofollow">威客</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1644675"><time datetime="2015-01-14T13:53:23+08:00">2015年01月14日 13:53</time></a> </div>
</footer>
<div class="comment-content">
<p>偶尔看一下提提神</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1644675#respond" data-commentid="1644675" data-postid="16910" data-belowelement="div-comment-1644675" data-respondelement="respond" data-replyto="回复给威客" aria-label="回复给威客">回复</a></div> </article>
</li>
<li id="comment-1645279" class="comment even thread-even depth-1">
<article id="div-comment-1645279" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/5ffda26864125066ea073cc43b60256d?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5ffda26864125066ea073cc43b60256d?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://cnblogs.com/weishun" class="url" rel="ugc external nofollow">pythonwood</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1645279"><time datetime="2015-01-15T19:44:34+08:00">2015年01月15日 19:44</time></a> </div>
</footer>
<div class="comment-content">
<p>哈哈，那我不学go了，让它去吧</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1645279#respond" data-commentid="1645279" data-postid="16910" data-belowelement="div-comment-1645279" data-respondelement="respond" data-replyto="回复给pythonwood" aria-label="回复给pythonwood">回复</a></div> </article>
</li>
<li id="comment-1645991" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1645991" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/6ba292c8757c070826bb53b7775a25eb?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6ba292c8757c070826bb53b7775a25eb?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://www.baizhan.net/zt/guanyude2/" class="url" rel="ugc external nofollow">关羽美称</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1645991"><time datetime="2015-01-17T15:49:45+08:00">2015年01月17日 15:49</time></a> </div>
</footer>
<div class="comment-content">
<p>关羽的美称！</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1645991#respond" data-commentid="1645991" data-postid="16910" data-belowelement="div-comment-1645991" data-respondelement="respond" data-replyto="回复给关羽美称" aria-label="回复给关羽美称">回复</a></div> </article>
</li>
<li id="comment-1646646" class="comment even thread-even depth-1">
<article id="div-comment-1646646" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/ca5a362aa73cf1cdf11c94cc95f43ae4?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/ca5a362aa73cf1cdf11c94cc95f43ae4?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="https://tumutanzi.com" class="url" rel="ugc external nofollow">土木坛子</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1646646"><time datetime="2015-01-18T21:03:19+08:00">2015年01月18日 21:03</time></a> </div>
</footer>
<div class="comment-content">
<p>不是这么固执的人也不能坚持这么长时间。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1646646#respond" data-commentid="1646646" data-postid="16910" data-belowelement="div-comment-1646646" data-respondelement="respond" data-replyto="回复给土木坛子" aria-label="回复给土木坛子">回复</a></div> </article>
</li>
<li id="comment-1647501" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1647501" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/a6eb4f9ab331b99bd9b7defbd1708746?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a6eb4f9ab331b99bd9b7defbd1708746?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://www.lingcc.com" class="url" rel="ugc external nofollow">测试</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1647501"><time datetime="2015-01-20T10:27:53+08:00">2015年01月20日 10:27</time></a> </div>
</footer>
<div class="comment-content">
<p>测试测试</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1647501#respond" data-commentid="1647501" data-postid="16910" data-belowelement="div-comment-1647501" data-respondelement="respond" data-replyto="回复给测试" aria-label="回复给测试">回复</a></div> </article>
</li>
<li id="comment-1648859" class="comment even thread-even depth-1">
<article id="div-comment-1648859" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/eec49ea7228adf593e431d27db23bf4b?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eec49ea7228adf593e431d27db23bf4b?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://www.nbxsyp.com" class="url" rel="ugc external nofollow">宁波遮阳篷</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1648859"><time datetime="2015-01-23T13:13:50+08:00">2015年01月23日 13:13</time></a> </div>
</footer>
<div class="comment-content">
<p>谢谢分享。。。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1648859#respond" data-commentid="1648859" data-postid="16910" data-belowelement="div-comment-1648859" data-respondelement="respond" data-replyto="回复给宁波遮阳篷" aria-label="回复给宁波遮阳篷">回复</a></div> </article>
</li>
<li id="comment-1660108" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1660108" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/fef8ffd5c07e869a366e977c63dd9a8d?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/fef8ffd5c07e869a366e977c63dd9a8d?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">simba</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1660108"><time datetime="2015-02-12T14:28:25+08:00">2015年02月12日 14:28</time></a> </div>
</footer>
<div class="comment-content">
<p>有学习Solr的博客吗，给推荐一个。感激</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1660108#respond" data-commentid="1660108" data-postid="16910" data-belowelement="div-comment-1660108" data-respondelement="respond" data-replyto="回复给simba" aria-label="回复给simba">回复</a></div> </article>
</li>
<li id="comment-1662827" class="comment even thread-even depth-1">
<article id="div-comment-1662827" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/d89b0514cf4a50d0e53c5533fbe73e83?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d89b0514cf4a50d0e53c5533fbe73e83?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://mengzhuo.org" class="url" rel="ugc external nofollow">mz</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1662827"><time datetime="2015-02-16T15:52:37+08:00">2015年02月16日 15:52</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-1645279" rel="nofollow">@pythonwood </a> </p>
<p>Go 才不是并行呢，goroutine只是并发而已。<br/>
而且Go提倡Share memory by channel， 就是不希望因操作同一对象徒增复杂度，而是把对象的操作交给一个特定的goroutine来完成。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1662827#respond" data-commentid="1662827" data-postid="16910" data-belowelement="div-comment-1662827" data-respondelement="respond" data-replyto="回复给mz" aria-label="回复给mz">回复</a></div> </article>
</li>
<li id="comment-1666721" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1666721" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/d12fe6a0e08a11ad80bcaf85651657a2?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d12fe6a0e08a11ad80bcaf85651657a2?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://www.javaflush.com" class="url" rel="ugc external nofollow">java爱好者</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1666721"><time datetime="2015-02-24T21:57:13+08:00">2015年02月24日 21:57</time></a> </div>
</footer>
<div class="comment-content">
<p>请问关于javassist的文章能不能在你这里投稿？http://www.javafreer.com/%E5%9F%BA%E4%BA%8Ejavassist%E5%9C%A8jar%E5%8C%85%E4%B8%AD%E6%9F%A5%E6%89%BE%E7%9B%B8%E4%BA%92%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%E7%9A%84%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/<br/>
关于javassist判断编译出来的jar中方法之间的相互关系。 可以防止java调度的问题导致jar冲突</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1666721#respond" data-commentid="1666721" data-postid="16910" data-belowelement="div-comment-1666721" data-respondelement="respond" data-replyto="回复给java爱好者" aria-label="回复给java爱好者">回复</a></div> </article>
</li>
<li id="comment-1672861" class="comment even thread-even depth-1">
<article id="div-comment-1672861" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/fd1af5affc8b96c492b54c1831b589a0?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/fd1af5affc8b96c492b54c1831b589a0?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://quan.renwuyi.com/" class="url" rel="ugc external nofollow">威客圈子</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1672861"><time datetime="2015-03-10T14:39:42+08:00">2015年03月10日 14:39</time></a> </div>
</footer>
<div class="comment-content">
<p>分析的很仔细，值得我们这些人学习。<br/>
博主有没有兴趣做友情链接啊，可以加扣扣联系：2396238979</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1672861#respond" data-commentid="1672861" data-postid="16910" data-belowelement="div-comment-1672861" data-respondelement="respond" data-replyto="回复给威客圈子" aria-label="回复给威客圈子">回复</a></div> </article>
</li>
<li id="comment-1675476" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1675476" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/bc304d88571f9838ced5534f1c873dcd?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/bc304d88571f9838ced5534f1c873dcd?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://www.hlccnb.com" class="url" rel="ugc external nofollow">宁波叉车租赁</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1675476"><time datetime="2015-03-16T20:31:15+08:00">2015年03月16日 20:31</time></a> </div>
</footer>
<div class="comment-content">
<p>不是很懂。。。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1675476#respond" data-commentid="1675476" data-postid="16910" data-belowelement="div-comment-1675476" data-respondelement="respond" data-replyto="回复给宁波叉车租赁" aria-label="回复给宁波叉车租赁">回复</a></div> </article>
</li>
<li id="comment-1679374" class="comment even thread-even depth-1">
<article id="div-comment-1679374" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/7786646d379f62576c1a71b9103d0432?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7786646d379f62576c1a71b9103d0432?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">强哥</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1679374"><time datetime="2015-03-24T02:02:02+08:00">2015年03月24日 02:02</time></a> </div>
</footer>
<div class="comment-content">
<p>怎么去了阿里之后就不更新博客了?<br/>
被洗脑了?</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1679374#respond" data-commentid="1679374" data-postid="16910" data-belowelement="div-comment-1679374" data-respondelement="respond" data-replyto="回复给强哥" aria-label="回复给强哥">回复</a></div> </article>
</li>
<li id="comment-1714245" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.le51.cn/?p=4" class="url" rel="ugc external nofollow">乐我要 &raquo; 一小时Docker教程</a> </div>
</li>
<li id="comment-1717090" class="comment even thread-even depth-1">
<article id="div-comment-1717090" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/59caa84b9e766ae4f19e60a1a3b22f9d?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/59caa84b9e766ae4f19e60a1a3b22f9d?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">hoooo</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1717090"><time datetime="2015-06-04T16:33:28+08:00">2015年06月04日 16:33</time></a> </div>
</footer>
<div class="comment-content">
<p>objective-C笑而不语,人家ARC不是工作得很好嘛???? 不明白大神为什么要吐槽引用计数</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1717090#respond" data-commentid="1717090" data-postid="16910" data-belowelement="div-comment-1717090" data-respondelement="respond" data-replyto="回复给hoooo" aria-label="回复给hoooo">回复</a></div> </article>
</li>
<li id="comment-1719051" class="comment byuser comment-author-full_of_bull bypostauthor odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1719051" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a6e9e679d4d308a570b1e74705c026de?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://weibo.com/fullofbull" class="url" rel="ugc external nofollow">Leo</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1719051"><time datetime="2015-06-08T23:24:01+08:00">2015年06月08日 23:24</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-1717090" rel="nofollow">@hoooo </a><br/>
是你理解力有问题，Linus 根本没吐槽引用计数。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1719051#respond" data-commentid="1719051" data-postid="16910" data-belowelement="div-comment-1719051" data-respondelement="respond" data-replyto="回复给Leo" aria-label="回复给Leo">回复</a></div> </article>
</li>
<li id="comment-1739995" class="comment even thread-even depth-1">
<article id="div-comment-1739995" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/f3eb43c0981459901fc98f5439bf94be?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f3eb43c0981459901fc98f5439bf94be?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://www.weibo.com/xara" class="url" rel="ugc external nofollow">enpengxu</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1739995"><time datetime="2015-07-24T11:32:12+08:00">2015年07月24日 11:32</time></a> </div>
</footer>
<div class="comment-content">
<p>Linus其实谈的就是ww_mutex的一个特例</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1739995#respond" data-commentid="1739995" data-postid="16910" data-belowelement="div-comment-1739995" data-respondelement="respond" data-replyto="回复给enpengxu" aria-label="回复给enpengxu">回复</a></div> </article>
</li>
<li id="comment-1865526" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1865526" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/3c891805eb08c22b95607c88966168c6?s=50&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3c891805eb08c22b95607c88966168c6?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">electrlife</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="#comment-1865526"><time datetime="2016-08-07T06:54:01+08:00">2016年08月07日 06:54</time></a> </div>
</footer>
<div class="comment-content">
<p>(b) once object A is locked, the pointer from A to B is stable, and you know you have a reference to B (because of that pointer from A to B)<br/>
这句如何理解?为什么当A是LOCKED, 我们可以安全的引用B指针?</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://coolshell.cn/articles/16910.html?replytocom=1865526#respond" data-commentid="1865526" data-postid="16910" data-belowelement="div-comment-1865526" data-respondelement="respond" data-replyto="回复给electrlife" aria-label="回复给electrlife">回复</a></div> </article>
</li>
<li id="comment-1914346" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="https://147hub.com/47399.html" class="url" rel="ugc external nofollow">#Linus Torvalds ：忘掉那该死的并行吧！# &#8211; 147hub/147俱乐部/微靖江/新靖江论坛/靖江红娘网/靖江人才网/靖江招聘网/靖江征婚交友</a> </div>
</li>
<li id="comment-1914347" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="https://147hub.com/47399.html" class="url" rel="ugc external nofollow">#Linus Torvalds ：忘掉那该死的并行吧！# &#8211; 147hub/147俱乐部/微靖江/新靖江论坛/靖江红娘网/靖江人才网/靖江招聘网/靖江征婚交友</a> </div>
</li>
<li id="comment-1914348" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="https://147hub.com/47399.html" class="url" rel="ugc external nofollow">#Linus Torvalds ：忘掉那该死的并行吧！# &#8211; 147hub/147俱乐部/微靖江/新靖江论坛/靖江红娘网/靖江人才网/靖江招聘网/靖江征婚交友</a> </div>
</li>
<li id="comment-1914349" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="https://147hub.com/47399.html" class="url" rel="ugc external nofollow">#Linus Torvalds ：忘掉那该死的并行吧！# &#8211; 147hub/147俱乐部/微靖江/新靖江论坛/靖江红娘网/靖江人才网/靖江招聘网/靖江征婚交友</a> </div>
</li>
<li id="comment-1915345" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://schspa.tk/locking/" class="url" rel="ugc external nofollow">Locking &#8211; Schspa Blog</a> </div>
</li>
</ol>
<div id="respond" class="comment-respond">
<h3 id="reply-title" class="comment-reply-title">发表回复 <small><a rel="nofollow" id="cancel-comment-reply-link" href="#respond" style="display:none;">取消回复</a></small></h3><form action="https://coolshell.cn/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-notes"><span id="email-notes">您的电子邮箱地址不会被公开。</span> <span class="required-field-message">必填项已用<span class="required">*</span>标注</span></p><p class="comment-form-comment"><label for="comment">评论 <span class="required">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required></textarea></p><p class="comment-form-author"><label for="author">显示名称 <span class="required">*</span></label> <input id="author" name="author" type="text" value size="30" maxlength="245" autocomplete="name" required /></p>
<p class="comment-form-email"><label for="email">电子邮箱地址 <span class="required">*</span></label> <input id="email" name="email" type="email" value size="30" maxlength="100" aria-describedby="email-notes" autocomplete="email" required /></p>
<p class="comment-form-url"><label for="url">网站地址</label> <input id="url" name="url" type="url" value size="30" maxlength="200" autocomplete="url" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="发表评论" /> <input type="hidden" name="comment_post_ID" value="16910" id="comment_post_ID" />
<input type="hidden" name="comment_parent" id="comment_parent" value="0" />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="9a789800a6" /></p><p style="display: none !important;"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="166" /><script type="a32ece04d2fa8d303e1b4142-text/javascript">document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p></form> </div>
</div>
</div>
</div>
<div id="secondary" class="col-md-3 hidden-sm hidden-xs sidebar widget-area" role="complementary">
<aside id="search-9" class="widget widget_search">
<form role="search" method="get" class="search-form" action="../index.html">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value name="s" title="Search for:" />
</label>
<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</aside><aside id="custom_html-3" class="widget_text widget widget_custom_html"><h4 class="widget-title">本站公告</h4><div class="textwidget custom-html-widget"><p align="center"><a class="twitter" href="https://twitter.com/haoel" target="_blank" rel="noopener"> Twitter @haoel </a></p>

<p align="center">极客时间专栏<br><a href="http://gk.link/a/10sBp" target="_blank" rel="noopener"><img src="../wp-content/uploads/2021/06/8311623409583_.pic_hd-1024x1024.jpg" height="200" weight="200" alt="极客时间专栏" title="极客时间专栏"></a></p>

</div></aside>
<aside id="recent-posts-4" class="widget widget_recent_entries">
<h4 class="widget-title">最新文章</h4>
<ul>
<li>
<a href="22422.html">是微服务架构不香还是云不香？</a>
</li>
<li>
<a href="22398.html">我看ChatGPT: 为啥谷歌掉了千亿美金</a>
</li>
<li>
<a href="22367.html">聊聊 nostr 和 审查</a>
</li>
<li>
<a href="22341.html">感染新冠的经历</a>
</li>
<li>
<a href="22320.html">eBPF 介绍</a>
</li>
<li>
<a href="22298.html">聊聊团队协同和协同工具</a>
</li>
<li>
<a href="https://coolshell.cn/articles/22263.html">从一次经历谈 TIME_WAIT 的那些事</a>
</li>
<li>
<a href="22242.html">ETCD的内存问题</a>
</li>
<li>
<a href="22173.html">“一把梭：REST API 全用 POST”</a>
</li>
<li>
<a href="22157.html">谈谈公司对员工的监控</a>
</li>
<li>
<a href="21708.html">网络数字身份认证术</a>
</li>
<li>
<a href="21672.html">我做系统架构的一些原则</a>
</li>
<li>
<a href="21649.html">源代码特洛伊木马攻击</a>
</li>
<li>
<a href="21615.html">Go编程模式 ： 泛型编程</a>
</li>
<li>
<a href="21589.html">如何做一个有质量的技术分享</a>
</li>
<li>
<a href="21263.html">Go 编程模式：k8s Visitor 模式</a>
</li>
<li>
<a href="21228.html">Go编程模式：Pipeline</a>
</li>
<li>
<a href="21214.html">Go编程模式：委托和反转控制</a>
</li>
<li>
<a href="21179.html">Go 编程模式：Go Generation</a>
</li>
<li>
<a href="21164.html">Go编程模式：Map-Reduce</a>
</li>
<li>
<a href="21146.html">Go 编程模式：Functional Options</a>
</li>
<li>
<a href="21140.html">Go 编程模式：错误处理</a>
</li>
<li>
<a href="21128.html">Go编程模式：切片，接口，时间和性能</a>
</li>
<li>
<a href="21113.html">百度为什么掉队了</a>
</li>
<li>
<a href="https://coolshell.cn/articles/20977.html">程序员如何把控自己的职业</a>
</li>
<li>
<a href="21003.html">计时攻击 Timing Attacks</a>
</li>
<li>
<a href="20845.html">Rust语言的编程范式</a>
</li>
<li>
<a href="20793.html">与程序员相关的CPU缓存知识</a>
</li>
<li>
<a href="20765.html">MegaEase的远程工作文化</a>
</li>
<li>
<a href="20533.html">使用简单的逻辑方法进行独立思考</a>
</li>
</ul>
</aside><aside id="views-6" class="widget widget_views"><h4 class="widget-title">全站热门</h4><ul>
<li><a href="4990.html" title="程序员技术练级攻略 - 10,237,583 人阅读">程序员技术练级攻略</a></li><li><a href="3961.html" title="&ldquo;火柴棍式&rdquo;程序员面试题 - 2,356,022 人阅读">&ldquo;火柴棍式&rdquo;程序员面试题</a></li><li><a href="5426.html" title="简明 Vim 练级攻略 - 1,324,100 人阅读">简明 Vim 练级攻略</a></li><li><a href="9308.html" title="&ldquo;作环保的程序员，从不用百度开始&rdquo; - 588,393 人阅读">&ldquo;作环保的程序员，从不用百度开始&rdquo;</a></li><li><a href="11564.html" title="TCP 的那些事儿（上） - 488,196 人阅读">TCP 的那些事儿（上）</a></li><li><a href="9070.html" title="AWK 简明教程 - 453,127 人阅读">AWK 简明教程</a></li><li><a href="7186.html" title="做个环保主义的程序员 - 447,087 人阅读">做个环保主义的程序员</a></li><li><a href="10688.html" title="编程能力与编程年龄 - 416,263 人阅读">编程能力与编程年龄</a></li><li><a href="10590.html" title="二维码的生成细节和原理 - 393,610 人阅读">二维码的生成细节和原理</a></li><li><a href="9104.html" title="sed 简明教程 - 380,087 人阅读">sed 简明教程</a></li><li><a href="4102.html" title="如何学好C语言 - 368,139 人阅读">如何学好C语言</a></li><li><a href="19464.html" title="如何超过大多数人 - 312,854 人阅读">如何超过大多数人</a></li><li><a href="17583.html" title="技术人员的发展之路 - 307,786 人阅读">技术人员的发展之路</a></li><li><a href="https://coolshell.cn/articles/9606.html" title="疫苗：Java HashMap的死循环 - 305,252 人阅读">疫苗：Java HashMap的死循环</a></li><li><a href="6470.html" title="由12306.cn谈谈网站性能技术 - 298,753 人阅读">由12306.cn谈谈网站性能技术</a></li><li><a href="8883.html" title="应该知道的Linux技巧 - 296,519 人阅读">应该知道的Linux技巧</a></li><li><a href="17416.html" title="缓存更新的套路 - 293,436 人阅读">缓存更新的套路</a></li><li><a href="10910.html" title="分布式系统的事务处理 - 284,484 人阅读">分布式系统的事务处理</a></li><li><a href="11609.html" title="TCP 的那些事儿（下） - 284,190 人阅读">TCP 的那些事儿（下）</a></li><li><a href="2250.html" title="&ldquo;21天教你学会C++&rdquo; - 278,255 人阅读">&ldquo;21天教你学会C++&rdquo;</a></li><li><a href="https://coolshell.cn/articles/8239.html" title="无锁队列的实现 - 274,143 人阅读">无锁队列的实现</a></li><li><a href="https://coolshell.cn/articles/10739.html" title="Lua简明教程 - 269,124 人阅读">Lua简明教程</a></li><li><a href="20276.html" title="别让自己&ldquo;墙&rdquo;了自己 - 269,061 人阅读">别让自己&ldquo;墙&rdquo;了自己</a></li><li><a href="7490.html" title="性能调优攻略 - 257,136 人阅读">性能调优攻略</a></li><li><a href="1846.html" title="MySQL性能优化的最佳20+条经验 - 255,591 人阅读">MySQL性能优化的最佳20+条经验</a></li><li><a href="4758.html" title="如何写出无法维护的代码 - 253,915 人阅读">如何写出无法维护的代码</a></li><li><a href="914.html" title="6个变态的C语言Hello World程序 - 251,782 人阅读">6个变态的C语言Hello World程序</a></li><li><a href="17010.html" title="Docker基础技术：Linux Namespace（上） - 241,650 人阅读">Docker基础技术：Linux Namespace（上）</a></li><li><a href="7829.html" title="28个Unix/Linux的命令行神器 - 241,068 人阅读">28个Unix/Linux的命令行神器</a></li><li><a href="11312.html" title="无插件Vim编程技巧 - 222,620 人阅读">无插件Vim编程技巧</a></li></ul>
</aside><aside id="categories-367921425" class="widget widget_categories"><h4 class="widget-title">分类</h4>
<ul>
<li class="cat-item cat-item-195"><a href="https://coolshell.cn/category/itnews">业界新闻</a> (33)
</li>
<li class="cat-item cat-item-509"><a href="https://coolshell.cn/category/%e4%bc%81%e4%b8%9a%e5%ba%94%e7%94%a8">企业应用</a> (2)
</li>
<li class="cat-item cat-item-9"><a href="https://coolshell.cn/category/technews">技术新闻</a> (38)
</li>
<li class="cat-item cat-item-550"><a href="../category/%E6%8A%80%E6%9C%AF%E7%AE%A1%E7%90%86.html">技术管理</a> (19)
</li>
<li class="cat-item cat-item-12"><a href="../category/techarticle.html">技术读物</a> (125)
</li>
<li class="cat-item cat-item-18"><a href="../category/operatingsystem.html">操作系统</a> (97)
<ul class="children">
<li class="cat-item cat-item-20"><a href="https://coolshell.cn/category/operatingsystem/unixlinux">Unix/Linux</a> (81)
</li>
<li class="cat-item cat-item-19"><a href="../category/operatingsystem/mswindows.html">Windows</a> (12)
</li>
</ul>
</li>
<li class="cat-item cat-item-105"><a href="https://coolshell.cn/category/datebase">数据库</a> (11)
</li>
<li class="cat-item cat-item-10"><a href="../category/misc.html">杂项资源</a> (295)
</li>
<li class="cat-item cat-item-15"><a href="../category/process.html">流程方法</a> (48)
</li>
<li class="cat-item cat-item-23"><a href="../category/progdesign.html">程序设计</a> (110)
</li>
<li class="cat-item cat-item-602"><a href="https://coolshell.cn/category/%e7%b3%bb%e7%bb%9f%e6%9e%b6%e6%9e%84">系统架构</a> (15)
</li>
<li class="cat-item cat-item-1"><a href="../category/tools.html">编程工具</a> (67)
</li>
<li class="cat-item cat-item-3"><a href="../category/proglanguage.html">编程语言</a> (326)
<ul class="children">
<li class="cat-item cat-item-189"><a href="../category/proglanguage/dotnet.html">.NET编程</a> (3)
</li>
<li class="cat-item cat-item-8"><a href="../category/proglanguage/ajaxdev.html">Ajax开发</a> (9)
</li>
<li class="cat-item cat-item-5"><a href="../category/proglanguage/cplusplus.html">C/C++语言</a> (74)
</li>
<li class="cat-item cat-item-186"><a href="../category/proglanguage/erlang.html">Erlang</a> (1)
</li>
<li class="cat-item cat-item-819"><a href="https://coolshell.cn/category/proglanguage/go-%e8%af%ad%e8%a8%80">Go 语言</a> (15)
</li>
<li class="cat-item cat-item-4"><a href="../category/proglanguage/javadev.html">Java语言</a> (32)
</li>
<li class="cat-item cat-item-11"><a href="../category/proglanguage/phpdev.html">PHP脚本</a> (11)
</li>
<li class="cat-item cat-item-33"><a href="../category/proglanguage/pythondev.html">Python</a> (23)
</li>
<li class="cat-item cat-item-100"><a href="https://coolshell.cn/category/proglanguage/rubydev">Ruby</a> (5)
</li>
<li class="cat-item cat-item-860"><a href="../category/proglanguage/rust-%E8%AF%AD%E8%A8%80.html">Rust 语言</a> (1)
</li>
<li class="cat-item cat-item-7"><a href="https://coolshell.cn/category/proglanguage/webdev">Web开发</a> (106)
</li>
</ul>
</li>
<li class="cat-item cat-item-6"><a href="../category/netsecurity.html">网络安全</a> (36)
</li>
<li class="cat-item cat-item-39"><a href="https://coolshell.cn/category/career">职场生涯</a> (40)
</li>
<li class="cat-item cat-item-271"><a href="https://coolshell.cn/category/funny">趣味问题</a> (19)
</li>
<li class="cat-item cat-item-52"><a href="../category/story.html">轶事趣闻</a> (147)
</li>
</ul>
</aside><aside id="tag_cloud-4" class="widget widget_tag_cloud"><h4 class="widget-title">标签</h4><div class="tagcloud"><a href="../tag/agile.html" class="tag-cloud-link tag-link-17 tag-link-position-1" style="font-size: 11.559322033898pt;" aria-label="agile (15个项目)">agile</a>
<a href="https://coolshell.cn/tag/ajax" class="tag-cloud-link tag-link-34 tag-link-position-2" style="font-size: 10.135593220339pt;" aria-label="AJAX (11个项目)">AJAX</a>
<a href="../tag/algorithm.html" class="tag-cloud-link tag-link-76 tag-link-position-3" style="font-size: 14.28813559322pt;" aria-label="Algorithm (26个项目)">Algorithm</a>
<a href="../tag/android.html" class="tag-cloud-link tag-link-145 tag-link-position-4" style="font-size: 10.135593220339pt;" aria-label="Android (11个项目)">Android</a>
<a href="../tag/bash.html" class="tag-cloud-link tag-link-190 tag-link-position-5" style="font-size: 9.1864406779661pt;" aria-label="Bash (9个项目)">Bash</a>
<a href="../tag/c.html" class="tag-cloud-link tag-link-59 tag-link-position-6" style="font-size: 20.694915254237pt;" aria-label="C++ (93个项目)">C++</a>
<a href="https://coolshell.cn/tag/coding" class="tag-cloud-link tag-link-135 tag-link-position-7" style="font-size: 14.28813559322pt;" aria-label="Coding (26个项目)">Coding</a>
<a href="../tag/css.html" class="tag-cloud-link tag-link-96 tag-link-position-8" style="font-size: 13.457627118644pt;" aria-label="CSS (22个项目)">CSS</a>
<a href="../tag/design.html" class="tag-cloud-link tag-link-71 tag-link-position-9" style="font-size: 13.932203389831pt;" aria-label="Design (24个项目)">Design</a>
<a href="../tag/design-pattern.html" class="tag-cloud-link tag-link-25 tag-link-position-10" style="font-size: 9.6610169491525pt;" aria-label="design pattern (10个项目)">design pattern</a>
<a href="https://coolshell.cn/tag/ebook" class="tag-cloud-link tag-link-101 tag-link-position-11" style="font-size: 11.559322033898pt;" aria-label="ebook (15个项目)">ebook</a>
<a href="../tag/flash.html" class="tag-cloud-link tag-link-98 tag-link-position-12" style="font-size: 8pt;" aria-label="Flash (7个项目)">Flash</a>
<a href="../tag/game.html" class="tag-cloud-link tag-link-125 tag-link-position-13" style="font-size: 9.1864406779661pt;" aria-label="Game (9个项目)">Game</a>
<a href="https://coolshell.cn/tag/go" class="tag-cloud-link tag-link-238 tag-link-position-14" style="font-size: 13.220338983051pt;" aria-label="Go (21个项目)">Go</a>
<a href="../tag/golang.html" class="tag-cloud-link tag-link-237 tag-link-position-15" style="font-size: 10.966101694915pt;" aria-label="golang (13个项目)">golang</a>
<a href="https://coolshell.cn/tag/google" class="tag-cloud-link tag-link-32 tag-link-position-16" style="font-size: 15.474576271186pt;" aria-label="Google (33个项目)">Google</a>
<a href="../tag/html.html" class="tag-cloud-link tag-link-38 tag-link-position-17" style="font-size: 15.593220338983pt;" aria-label="HTML (34个项目)">HTML</a>
<a href="https://coolshell.cn/tag/ie" class="tag-cloud-link tag-link-175 tag-link-position-18" style="font-size: 9.6610169491525pt;" aria-label="IE (10个项目)">IE</a>
<a href="../tag/java.html" class="tag-cloud-link tag-link-13 tag-link-position-19" style="font-size: 17.610169491525pt;" aria-label="Java (50个项目)">Java</a>
<a href="https://coolshell.cn/tag/javascript" class="tag-cloud-link tag-link-114 tag-link-position-20" style="font-size: 17.966101694915pt;" aria-label="Javascript (54个项目)">Javascript</a>
<a href="../tag/jquery.html" class="tag-cloud-link tag-link-191 tag-link-position-21" style="font-size: 10.135593220339pt;" aria-label="jQuery (11个项目)">jQuery</a>
<a href="../tag/linux.html" class="tag-cloud-link tag-link-37 tag-link-position-22" style="font-size: 19.389830508475pt;" aria-label="Linux (71个项目)">Linux</a>
<a href="../tag/mysql.html" class="tag-cloud-link tag-link-106 tag-link-position-23" style="font-size: 8pt;" aria-label="MySQL (7个项目)">MySQL</a>
<a href="../tag/oop.html" class="tag-cloud-link tag-link-245 tag-link-position-24" style="font-size: 8.5932203389831pt;" aria-label="OOP (8个项目)">OOP</a>
<a href="../tag/password.html" class="tag-cloud-link tag-link-319 tag-link-position-25" style="font-size: 8.5932203389831pt;" aria-label="password (8个项目)">password</a>
<a href="../tag/performance.html" class="tag-cloud-link tag-link-120 tag-link-position-26" style="font-size: 12.271186440678pt;" aria-label="Performance (17个项目)">Performance</a>
<a href="../tag/php.html" class="tag-cloud-link tag-link-35 tag-link-position-27" style="font-size: 14.050847457627pt;" aria-label="PHP (25个项目)">PHP</a>
<a href="../tag/programmer.html" class="tag-cloud-link tag-link-70 tag-link-position-28" style="font-size: 21.881355932203pt;" aria-label="Programmer (116个项目)">Programmer</a>
<a href="../tag/programming.html" class="tag-cloud-link tag-link-499 tag-link-position-29" style="font-size: 10.135593220339pt;" aria-label="Programming (11个项目)">Programming</a>
<a href="../tag/programming-language.html" class="tag-cloud-link tag-link-115 tag-link-position-30" style="font-size: 10.491525423729pt;" aria-label="programming language (12个项目)">programming language</a>
<a href="../tag/puzzle.html" class="tag-cloud-link tag-link-514 tag-link-position-31" style="font-size: 10.135593220339pt;" aria-label="Puzzle (11个项目)">Puzzle</a>
<a href="../tag/pythondev.html" class="tag-cloud-link tag-link-791 tag-link-position-32" style="font-size: 15pt;" aria-label="Python (30个项目)">Python</a>
<a href="../tag/ruby.html" class="tag-cloud-link tag-link-69 tag-link-position-33" style="font-size: 9.6610169491525pt;" aria-label="Ruby (10个项目)">Ruby</a>
<a href="../tag/sql.html" class="tag-cloud-link tag-link-131 tag-link-position-34" style="font-size: 9.6610169491525pt;" aria-label="SQL (10个项目)">SQL</a>
<a href="../tag/tdd.html" class="tag-cloud-link tag-link-485 tag-link-position-35" style="font-size: 8.5932203389831pt;" aria-label="TDD (8个项目)">TDD</a>
<a href="../tag/ui.html" class="tag-cloud-link tag-link-47 tag-link-position-36" style="font-size: 10.491525423729pt;" aria-label="UI (12个项目)">UI</a>
<a href="../tag/unix.html" class="tag-cloud-link tag-link-21 tag-link-position-37" style="font-size: 15.949152542373pt;" aria-label="Unix (36个项目)">Unix</a>
<a href="../tag/vim.html" class="tag-cloud-link tag-link-50 tag-link-position-38" style="font-size: 12.745762711864pt;" aria-label="vim (19个项目)">vim</a>
<a href="../tag/web.html" class="tag-cloud-link tag-link-30 tag-link-position-39" style="font-size: 16.661016949153pt;" aria-label="Web (42个项目)">Web</a>
<a href="../tag/windows.html" class="tag-cloud-link tag-link-49 tag-link-position-40" style="font-size: 12.271186440678pt;" aria-label="Windows (17个项目)">Windows</a>
<a href="https://coolshell.cn/tag/xml" class="tag-cloud-link tag-link-104 tag-link-position-41" style="font-size: 8.5932203389831pt;" aria-label="XML (8个项目)">XML</a>
<a href="../tag/%E5%AE%89%E5%85%A8.html" class="tag-cloud-link tag-link-318 tag-link-position-42" style="font-size: 13.694915254237pt;" aria-label="安全 (23个项目)">安全</a>
<a href="../tag/%E7%A8%8B%E5%BA%8F%E5%91%98.html" class="tag-cloud-link tag-link-58 tag-link-position-43" style="font-size: 22pt;" aria-label="程序员 (119个项目)">程序员</a>
<a href="../tag/%E7%AE%97%E6%B3%95.html" class="tag-cloud-link tag-link-77 tag-link-position-44" style="font-size: 9.6610169491525pt;" aria-label="算法 (10个项目)">算法</a>
<a href="../tag/interview.html" class="tag-cloud-link tag-link-164 tag-link-position-45" style="font-size: 11.915254237288pt;" aria-label="面试 (16个项目)">面试</a></div>
</aside><aside id="archives-5" class="widget widget_archive"><h4 class="widget-title">归档</h4>
<ul>
<li><a href="date/2023/05.html">2023年5月</a>&nbsp;(1)</li>
<li><a href="date/2023/02.html">2023年2月</a>&nbsp;(2)</li>
<li><a href="date/2022/12.html">2022年12月</a>&nbsp;(2)</li>
<li><a href="date/2022/10.html">2022年10月</a>&nbsp;(1)</li>
<li><a href="date/2022/07.html">2022年7月</a>&nbsp;(1)</li>
<li><a href="date/2022/05.html">2022年5月</a>&nbsp;(1)</li>
<li><a href="date/2022/02.html">2022年2月</a>&nbsp;(2)</li>
<li><a href="date/2022/01.html">2022年1月</a>&nbsp;(1)</li>
<li><a href="date/2021/12.html">2021年12月</a>&nbsp;(1)</li>
<li><a href="date/2021/11.html">2021年11月</a>&nbsp;(1)</li>
<li><a href="date/2021/09.html">2021年9月</a>&nbsp;(1)</li>
<li><a href="date/2021/07.html">2021年7月</a>&nbsp;(1)</li>
<li><a href="https://coolshell.cn/articles/date/2020/12">2020年12月</a>&nbsp;(9)</li>
<li><a href="date/2020/08.html">2020年8月</a>&nbsp;(1)</li>
<li><a href="date/2020/07.html">2020年7月</a>&nbsp;(1)</li>
<li><a href="date/2020/04.html">2020年4月</a>&nbsp;(1)</li>
<li><a href="https://coolshell.cn/articles/date/2020/03">2020年3月</a>&nbsp;(1)</li>
<li><a href="date/2020/01.html">2020年1月</a>&nbsp;(1)</li>
<li><a href="date/2019/12.html">2019年12月</a>&nbsp;(2)</li>
<li><a href="date/2019/11.html">2019年11月</a>&nbsp;(1)</li>
<li><a href="date/2019/10.html">2019年10月</a>&nbsp;(1)</li>
<li><a href="date/2019/07.html">2019年7月</a>&nbsp;(1)</li>
<li><a href="date/2019/06.html">2019年6月</a>&nbsp;(1)</li>
<li><a href="date/2019/05.html">2019年5月</a>&nbsp;(1)</li>
<li><a href="date/2019/04.html">2019年4月</a>&nbsp;(2)</li>
<li><a href="date/2019/03.html">2019年3月</a>&nbsp;(1)</li>
<li><a href="date/2019/02.html">2019年2月</a>&nbsp;(1)</li>
<li><a href="date/2018/12.html">2018年12月</a>&nbsp;(1)</li>
<li><a href="date/2018/05.html">2018年5月</a>&nbsp;(1)</li>
<li><a href="date/2018/01.html">2018年1月</a>&nbsp;(1)</li>
<li><a href="https://coolshell.cn/articles/date/2017/10">2017年10月</a>&nbsp;(1)</li>
<li><a href="https://coolshell.cn/articles/date/2017/09">2017年9月</a>&nbsp;(1)</li>
<li><a href="date/2017/08.html">2017年8月</a>&nbsp;(1)</li>
<li><a href="date/2017/07.html">2017年7月</a>&nbsp;(3)</li>
<li><a href="date/2017/06.html">2017年6月</a>&nbsp;(1)</li>
<li><a href="date/2017/04.html">2017年4月</a>&nbsp;(1)</li>
<li><a href="date/2017/03.html">2017年3月</a>&nbsp;(1)</li>
<li><a href="date/2017/02.html">2017年2月</a>&nbsp;(1)</li>
<li><a href="date/2017/01.html">2017年1月</a>&nbsp;(2)</li>
<li><a href="date/2016/12.html">2016年12月</a>&nbsp;(1)</li>
<li><a href="date/2016/10.html">2016年10月</a>&nbsp;(1)</li>
<li><a href="date/2016/09.html">2016年9月</a>&nbsp;(1)</li>
<li><a href="date/2016/08.html">2016年8月</a>&nbsp;(2)</li>
<li><a href="date/2016/07.html">2016年7月</a>&nbsp;(3)</li>
<li><a href="date/2015/12.html">2015年12月</a>&nbsp;(1)</li>
<li><a href="date/2015/09.html">2015年9月</a>&nbsp;(1)</li>
<li><a href="date/2015/08.html">2015年8月</a>&nbsp;(2)</li>
<li><a href="date/2015/04.html">2015年4月</a>&nbsp;(4)</li>
<li><a href="date/2014/12.html">2014年12月</a>&nbsp;(3)</li>
<li><a href="date/2014/11.html">2014年11月</a>&nbsp;(2)</li>
<li><a href="https://coolshell.cn/articles/date/2014/10">2014年10月</a>&nbsp;(2)</li>
<li><a href="date/2014/09.html">2014年9月</a>&nbsp;(2)</li>
<li><a href="date/2014/08.html">2014年8月</a>&nbsp;(2)</li>
<li><a href="date/2014/06.html">2014年6月</a>&nbsp;(1)</li>
<li><a href="https://coolshell.cn/articles/date/2014/05">2014年5月</a>&nbsp;(4)</li>
<li><a href="date/2014/04.html">2014年4月</a>&nbsp;(4)</li>
<li><a href="date/2014/03.html">2014年3月</a>&nbsp;(5)</li>
<li><a href="date/2014/02.html">2014年2月</a>&nbsp;(3)</li>
<li><a href="https://coolshell.cn/articles/date/2014/01">2014年1月</a>&nbsp;(2)</li>
<li><a href="date/2013/12.html">2013年12月</a>&nbsp;(3)</li>
<li><a href="date/2013/11.html">2013年11月</a>&nbsp;(1)</li>
<li><a href="date/2013/10.html">2013年10月</a>&nbsp;(6)</li>
<li><a href="date/2013/08.html">2013年8月</a>&nbsp;(1)</li>
<li><a href="date/2013/07.html">2013年7月</a>&nbsp;(8)</li>
<li><a href="date/2013/06.html">2013年6月</a>&nbsp;(2)</li>
<li><a href="date/2013/05.html">2013年5月</a>&nbsp;(3)</li>
<li><a href="date/2013/04.html">2013年4月</a>&nbsp;(3)</li>
<li><a href="date/2013/03.html">2013年3月</a>&nbsp;(3)</li>
<li><a href="date/2013/02.html">2013年2月</a>&nbsp;(5)</li>
<li><a href="date/2013/01.html">2013年1月</a>&nbsp;(1)</li>
<li><a href="date/2012/12.html">2012年12月</a>&nbsp;(4)</li>
<li><a href="date/2012/11.html">2012年11月</a>&nbsp;(4)</li>
<li><a href="date/2012/10.html">2012年10月</a>&nbsp;(3)</li>
<li><a href="date/2012/09.html">2012年9月</a>&nbsp;(4)</li>
<li><a href="date/2012/08.html">2012年8月</a>&nbsp;(8)</li>
<li><a href="https://coolshell.cn/articles/date/2012/07">2012年7月</a>&nbsp;(4)</li>
<li><a href="date/2012/06.html">2012年6月</a>&nbsp;(7)</li>
<li><a href="date/2012/05.html">2012年5月</a>&nbsp;(6)</li>
<li><a href="date/2012/04.html">2012年4月</a>&nbsp;(6)</li>
<li><a href="date/2012/03.html">2012年3月</a>&nbsp;(6)</li>
<li><a href="date/2012/02.html">2012年2月</a>&nbsp;(3)</li>
<li><a href="https://coolshell.cn/articles/date/2012/01">2012年1月</a>&nbsp;(6)</li>
<li><a href="date/2011/12.html">2011年12月</a>&nbsp;(5)</li>
<li><a href="date/2011/11.html">2011年11月</a>&nbsp;(9)</li>
<li><a href="date/2011/10.html">2011年10月</a>&nbsp;(6)</li>
<li><a href="date/2011/09.html">2011年9月</a>&nbsp;(5)</li>
<li><a href="date/2011/08.html">2011年8月</a>&nbsp;(14)</li>
<li><a href="date/2011/07.html">2011年7月</a>&nbsp;(6)</li>
<li><a href="date/2011/06.html">2011年6月</a>&nbsp;(12)</li>
<li><a href="date/2011/05.html">2011年5月</a>&nbsp;(5)</li>
<li><a href="date/2011/04.html">2011年4月</a>&nbsp;(18)</li>
<li><a href="https://coolshell.cn/articles/date/2011/03">2011年3月</a>&nbsp;(16)</li>
<li><a href="date/2011/02.html">2011年2月</a>&nbsp;(16)</li>
<li><a href="date/2011/01.html">2011年1月</a>&nbsp;(18)</li>
<li><a href="https://coolshell.cn/articles/date/2010/12">2010年12月</a>&nbsp;(11)</li>
<li><a href="https://coolshell.cn/articles/date/2010/11">2010年11月</a>&nbsp;(11)</li>
<li><a href="date/2010/10.html">2010年10月</a>&nbsp;(19)</li>
<li><a href="date/2010/09.html">2010年9月</a>&nbsp;(15)</li>
<li><a href="https://coolshell.cn/articles/date/2010/08">2010年8月</a>&nbsp;(10)</li>
<li><a href="https://coolshell.cn/articles/date/2010/07">2010年7月</a>&nbsp;(20)</li>
<li><a href="date/2010/06.html">2010年6月</a>&nbsp;(9)</li>
<li><a href="https://coolshell.cn/articles/date/2010/05">2010年5月</a>&nbsp;(13)</li>
<li><a href="date/2010/04.html">2010年4月</a>&nbsp;(12)</li>
<li><a href="https://coolshell.cn/articles/date/2010/03">2010年3月</a>&nbsp;(11)</li>
<li><a href="https://coolshell.cn/articles/date/2010/02">2010年2月</a>&nbsp;(7)</li>
<li><a href="https://coolshell.cn/articles/date/2010/01">2010年1月</a>&nbsp;(9)</li>
<li><a href="date/2009/12.html">2009年12月</a>&nbsp;(22)</li>
<li><a href="date/2009/11.html">2009年11月</a>&nbsp;(27)</li>
<li><a href="date/2009/10.html">2009年10月</a>&nbsp;(17)</li>
<li><a href="https://coolshell.cn/articles/date/2009/09">2009年9月</a>&nbsp;(14)</li>
<li><a href="date/2009/08.html">2009年8月</a>&nbsp;(21)</li>
<li><a href="date/2009/07.html">2009年7月</a>&nbsp;(18)</li>
<li><a href="date/2009/06.html">2009年6月</a>&nbsp;(19)</li>
<li><a href="https://coolshell.cn/articles/date/2009/05">2009年5月</a>&nbsp;(27)</li>
<li><a href="https://coolshell.cn/articles/date/2009/04">2009年4月</a>&nbsp;(53)</li>
<li><a href="date/2009/03.html">2009年3月</a>&nbsp;(43)</li>
<li><a href="date/2008/10.html">2008年10月</a>&nbsp;(1)</li>
<li><a href="date/2007/12.html">2007年12月</a>&nbsp;(1)</li>
<li><a href="https://coolshell.cn/articles/date/2006/11">2006年11月</a>&nbsp;(1)</li>
<li><a href="https://coolshell.cn/articles/date/2004/06">2004年6月</a>&nbsp;(1)</li>
</ul>
</aside><aside id="custom_html-8" class="widget_text widget widget_custom_html"><h4 class="widget-title">友情链接</h4><div class="textwidget custom-html-widget"><ul class="blogroll">
<li><a href="http://blog.csdn.net/haoel" target="_blank" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/blog.csdn.net/haoel?referer=http://coolshell.cn');" rel="noopener" data-cf-modified-a32ece04d2fa8d303e1b4142->陈皓的博客</a></li>
<li><a href="http://ifeve.com/" target="_blank" title="促进并发编程的研究和推广" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/ifeve.com/?referer=http://coolshell.cn');" rel="noopener" data-cf-modified-a32ece04d2fa8d303e1b4142->并发编程</a></li>
<li><a href="http://www.raychase.net/" target="_blank" title="一个啰嗦的程序员" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/www.raychase.net/?referer=http://coolshell.cn');" rel="noopener" data-cf-modified-a32ece04d2fa8d303e1b4142->四火的唠叨</a></li>
<li><a href="http://www.cnblogs.com/weidagang2046/" target="_blank" title="Just for Fun" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/http://www.cnblogs.com/weidagang2046/?referer=http://coolshell.cn/');" rel="noopener" data-cf-modified-a32ece04d2fa8d303e1b4142->Todd Wei的Blog</a></li>
<li><a href="http://www.hellogcc.org/" target="_blank" title="致力于讨论和学习GNU Toolchain方面的工作组" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/www.hellogcc.org//?referer=http://coolshell.cn/');" rel="noopener" data-cf-modified-a32ece04d2fa8d303e1b4142->开源开发工具技术博客</a></li>
<li><a href="http://www.cppfans.org/" target="_blank" title="记录我们点滴学习工作生活" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/http://www.cppfans.org/?referer=http://coolshell.cn/');" rel="noopener" data-cf-modified-a32ece04d2fa8d303e1b4142->C++爱好者博客</a></li>
<li><a href="https://HelloACM.com/" target="_blank" title="Smart Ideas, Smart Algorithms" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/http://HelloACM.com/?referer=http://coolshell.cn/');" rel="noopener" data-cf-modified-a32ece04d2fa8d303e1b4142->ACMer</a></li>
</ul>
</div></aside><aside id="meta-5" class="widget widget_meta"><h4 class="widget-title">其他操作</h4>
<ul>
<li><a href="../wp-login.php%EF%B9%96action=register.html">注册</a></li> <li><a href="../wp-login.php.html">登录</a></li>
<li><a href="../feed.rss">条目feed</a></li>
<li><a href="../comments/feed.rss">评论feed</a></li>
<li><a href="https://cn.wordpress.org/">WordPress.org</a></li>
</ul>
</aside></div>
</div> 
</div>
<script type="a32ece04d2fa8d303e1b4142-text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-7486123-1']);
_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</div>
<footer id="colophon" class="site-footer" role="contentinfo">
<div class="row site-info">
CoolShell.cn &copy; 2023
<span class="sep"> | </span>
Powered by <a href="https://wordpress.org/">WordPress</a>
<span class="sep"> | </span>
Based on Theme: Nisarg by <a href="http://www.falgunidesai.com/" rel="designer">Falguni Desai</a>.
<p><a href="http://www.beian.miit.gov.cn" target="_target">京ICP备18054967号-1</a></p>
</div>
</footer>
</div>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" id="wp-postratings-js-extra">
/* <![CDATA[ */
var ratingsL10n = {"plugin_url":"https:\/\/coolshell.cn\/wp-content\/plugins\/wp-postratings","ajax_url":"https:\/\/coolshell.cn\/wp-admin\/admin-ajax.php","text_wait":"Please rate only 1 item at a time.","image":"stars_crystal","image_ext":"gif","max":"5","show_loading":"1","show_fading":"1","custom":"0"};
var ratings_mouseover_image=new Image();ratings_mouseover_image.src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_over.gif";;
/* ]]> */
</script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/plugins/wp-postratings/js/postratings-js%EF%B9%96ver=1.90.1.js" id="wp-postratings-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" id="wp-postviews-cache-js-extra">
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"https:\/\/coolshell.cn\/wp-admin\/admin-ajax.php","nonce":"b49fdb969c","post_id":"16910"};
/* ]]> */
</script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/plugins/wp-postviews/postviews-cache%EF%B9%96ver=1.68.js" id="wp-postviews-cache-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/themes/MyNisarg/js/bootstrap%EF%B9%96ver=6.2.js" id="bootstrap-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/themes/MyNisarg/js/skip-link-focus-fix%EF%B9%96ver=20130115.js" id="nisarg-skip-link-focus-fix-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/themes/MyNisarg/js/nisarg%EF%B9%96ver=6.2.js" id="nisarg-js-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-includes/js/comment-reply.min%EF%B9%96ver=6.2.js" id="comment-reply-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" id="q2w3_fixed_widget-js-extra">
/* <![CDATA[ */
var q2w3_sidebar_options = [{"use_sticky_position":false,"margin_top":50,"margin_bottom":0,"stop_elements_selectors":"","screen_max_width":0,"screen_max_height":0,"widgets":[]}];
/* ]]> */
</script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/plugins/q2w3-fixed-widget/js/frontend.min%EF%B9%96ver=6.2.3.js" id="q2w3_fixed_widget-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/plugins/enlighter/cache/enlighterjs.min%EF%B9%96ver=0cuVQBPCj0viGB0.js" id="enlighterjs-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" id="enlighterjs-js-after">
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":2,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":true,"textOverflow":"scroll","linenumbers":true,"theme":"wpcustom","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script defer type="a32ece04d2fa8d303e1b4142-text/javascript" src="../wp-content/plugins/akismet/_inc/akismet-frontend%EF%B9%96ver=1683523750.js" id="akismet-frontend-js"></script>
<script type="a32ece04d2fa8d303e1b4142-text/javascript">
        jQuery(document).ready(function ($) {

            for (let i = 0; i < document.forms.length; ++i) {
                let form = document.forms[i];
				if ($(form).attr("method") != "get") { $(form).append('<input type="hidden" name="HLY_NVGfRIyiO" value="A*FRUYw" />'); }
if ($(form).attr("method") != "get") { $(form).append('<input type="hidden" name="rfNmPJFxZlE" value="PcJd0F3kneCMpW" />'); }
            }

            $(document).on('submit', 'form', function () {
				if ($(this).attr("method") != "get") { $(this).append('<input type="hidden" name="HLY_NVGfRIyiO" value="A*FRUYw" />'); }
if ($(this).attr("method") != "get") { $(this).append('<input type="hidden" name="rfNmPJFxZlE" value="PcJd0F3kneCMpW" />'); }
                return true;
            });

            jQuery.ajaxSetup({
                beforeSend: function (e, data) {

                    if (data.type !== 'POST') return;

                    if (typeof data.data === 'object' && data.data !== null) {
						data.data.append("HLY_NVGfRIyiO", "A*FRUYw");
data.data.append("rfNmPJFxZlE", "PcJd0F3kneCMpW");
                    }
                    else {
                        data.data = data.data + '&HLY_NVGfRIyiO=A*FRUYw&rfNmPJFxZlE=PcJd0F3kneCMpW';
                    }
                }
            });

        });
    </script>
<script src="../cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="a32ece04d2fa8d303e1b4142-|49" defer></script></body>
</html>
<script type="a32ece04d2fa8d303e1b4142-text/javascript" src="https://cdn.jsdelivr.net/gh/haoel/anti-baidu/js/anti-baidu-latest.min.js" charset="UTF-8"></script>



