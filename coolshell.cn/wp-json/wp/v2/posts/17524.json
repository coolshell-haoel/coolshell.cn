{"id":17524,"date":"2016-10-23T17:56:29","date_gmt":"2016-10-23T09:56:29","guid":{"rendered":"http:\/\/coolshell.cn\/?p=17524"},"modified":"2016-10-23T21:58:27","modified_gmt":"2016-10-23T13:58:27","slug":"%e5%a6%82%e4%bd%95%e8%af%bb%e6%87%82%e5%b9%b6%e5%86%99%e5%87%ba%e8%a3%85%e9%80%bc%e7%9a%84%e5%87%bd%e6%95%b0%e5%bc%8f%e4%bb%a3%e7%a0%81","status":"publish","type":"post","link":"https:\/\/coolshell.cn\/articles\/17524.html","title":{"rendered":"\u5982\u4f55\u8bfb\u61c2\u5e76\u5199\u51fa\u88c5\u903c\u7684\u51fd\u6570\u5f0f\u4ee3\u7801"},"content":{"rendered":"<p><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive-300x204.jpg\" alt=\"drawing-recursive\" width=\"300\" height=\"204\" class=\"alignright size-medium wp-image-17535\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive-300x204.jpg 300w, https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive-768x522.jpg 768w, https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive-1024x696.jpg 1024w, https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive-397x270.jpg 397w, https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg 1100w\" sizes=\"(max-width: 300px) 100vw, 300px\" \/>\u4eca\u5929\u5728\u5fae\u535a\u4e0a\u770b\u5230\u4e86 \u6709\u4eba<a href=\"http:\/\/weibo.com\/1655747731\/Ee4gU0qNn\" target=\"_blank\">\u5206\u4eab\u4e86\u4e0b\u9762\u7684\u8fd9\u6bb5\u51fd\u6570\u5f0f\u4ee3\u7801<\/a>\uff0c\u6211\u628a\u4ee3\u7801\u8d34\u5230\u4e0b\u9762\uff0c\u4e0d\u8fc7\u6211\u5bf9\u539f\u6765\u7684\u4ee3\u7801\u7565\u6709\u6539\u52a8\uff0c\u5bf9\u4e8e\u51fd\u6570\u5f0f\u7684\u7248\u672c\uff0c\u548b\u4e00\u770b\uff0c\u7684\u786e\u4ee4\u4eba\u975e\u5e38\u8d39\u89e3\uff0c\u4ed4\u7ec6\u770b\u4e00\u4e0b\uff0c\u4f60\u53ef\u80fd\u5c31\u6655\u6389\u4e86\uff0c\u4f3c\u4e4e\u5b8c\u5168\u5c31\u662f\u5929\u4e66\uff0c\u770b\u4e0a\u53bb\u975e\u5e38\u88c5\u903c\uff0c\u54c8\u54c8\u3002\u4e0d\u8fc7\uff0c\u6211\u611f\u89c9\u89e3\u6790\u90a3\u6bb5\u51fd\u6570\u5f0f\u7684\u4ee3\u7801\u53ef\u80fd\u4f1a\u4e00\u4e2a\u6bd4\u8f83\u6709\u8da3\u8fc7\u7a0b\uff0c\u800c\u4e14\uff0c\u6211\u4ee5\u524d\u5199\u8fc7\u4e00\u7bc7\u300a<a href=\"https:\/\/coolshell.cn\/articles\/10822.html\" target=\"_blank\">\u51fd\u6570\u5f0f\u7f16\u7a0b<\/a>\u300b\u7684\u5165\u95e8\u5f0f\u7684\u6587\u7ae0\uff0c\u6b63\u597d\u53ef\u4ee5\u7528\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u518d\u5347\u534e\u4e00\u4e0b\u539f\u6765\u7684\u90a3\u7bc7\u6587\u7ae0\uff0c\u987a\u4fbf\u53ef\u4ee5\u5411\u5927\u5bb6\u66f4\u597d\u7684\u4ecb\u7ecd\u5f88\u591a\u57fa\u7840\u77e5\u8bc6\uff0c\u6240\u4ee5\u5199\u4e0b\u8fd9\u7bc7\u6587\u7ae0\u3002<\/p>\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_48 counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">\u76ee\u5f55<\/p>\n<span class=\"ez-toc-title-toggle\"><\/span><\/div>\n<nav><ul class='ez-toc-list ez-toc-list-level-1 ' ><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/coolshell.cn\/articles\/17524.html\/#%E5%85%88%E7%9C%8B%E4%BB%A3%E7%A0%81\" title=\"\u5148\u770b\u4ee3\u7801\">\u5148\u770b\u4ee3\u7801<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/coolshell.cn\/articles\/17524.html\/#Javascript%E7%9A%84%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0\" title=\"Javascript\u7684\u7bad\u5934\u51fd\u6570\">Javascript\u7684\u7bad\u5934\u51fd\u6570<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/coolshell.cn\/articles\/17524.html\/#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92\" title=\"\u533f\u540d\u51fd\u6570\u7684\u9012\u5f52\">\u533f\u540d\u51fd\u6570\u7684\u9012\u5f52<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/coolshell.cn\/articles\/17524.html\/#%E5%8A%A8%E7%94%A8%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92\" title=\"\u52a8\u7528\u9ad8\u9636\u51fd\u6570\u7684\u9012\u5f52\">\u52a8\u7528\u9ad8\u9636\u51fd\u6570\u7684\u9012\u5f52<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/coolshell.cn\/articles\/17524.html\/#%E5%9B%9E%E9%A1%BE%E4%B9%8B%E5%89%8D%E7%9A%84%E7%A8%8B%E5%BA%8F\" title=\"\u56de\u987e\u4e4b\u524d\u7684\u7a0b\u5e8f\">\u56de\u987e\u4e4b\u524d\u7684\u7a0b\u5e8f<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-6\" href=\"https:\/\/coolshell.cn\/articles\/17524.html\/#%E5%85%B6%E5%AE%83\" title=\"\u5176\u5b83\">\u5176\u5b83<\/a><\/li><\/ul><\/nav><\/div>\n<h4><span class=\"ez-toc-section\" id=\"%E5%85%88%E7%9C%8B%E4%BB%A3%E7%A0%81\"><\/span>\u5148\u770b\u4ee3\u7801<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u8fd9\u4e2a\u4ee3\u7801\u5e73\u6de1\u65e0\u5947\uff0c\u5c31\u662f\u4ece\u4e00\u4e2a\u6570\u7ec4\u4e2d\u627e\u5230\u4e00\u4e2a\u6570\uff0cO(n)\u7684\u7b97\u6cd5\uff0c\u627e\u4e0d\u5230\u5c31\u8fd4\u56de null\u3002<\/p>\n<p>\u4e0b\u9762\u662f\u6b63\u5e38\u7684 old-school \u7684\u65b9\u5f0f\u3002\u4e0d\u7528\u591a\u8bf4\u3002<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">\/\/\u6b63\u5e38\u7684\u7248\u672c\r\nfunction find (x, y) {\r\n  for ( let i = 0; i &lt; x.length; i++ ) {\r\n    if ( x[i] == y ) return i;\r\n  }\r\n  return null;\r\n}\r\n\r\nlet arr = [0,1,2,3,4,5]\r\nconsole.log(find(arr, 2))\r\nconsole.log(find(arr, 8))<\/pre>\n<p>\u7ed3\u679c\u5230\u4e86\u51fd\u6570\u5f0f\u6210\u4e86\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50\uff08\u597d\u50cf\u4e0a\u9762\u7684\u90a3\u4e9b\u4ee3\u7801\u5728\u4e0b\u9762\u82e5\u5f71\u82e5\u73b0\uff0c\u4e0d\u8fc7\u53c8\u6709\u70b9\u4e0d\u592a\u4e00\u6837\uff0c\u4e3a\u4e86\u6d88\u6389if\u8bed\u8a00\uff0c\u8ba9\u5176\u770b\u4e0a\u53bb\u66f4\u50cf\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u52a8\u7528\u4e86 ? \u53f7\u8868\u8fbe\u5f0f\uff09\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">\/\/\u51fd\u6570\u5f0f\u7684\u7248\u672c\r\nconst find = ( f =&gt; f(f) ) ( f =&gt;\r\n  (next =&gt; (x, y, i = 0) =&gt;\r\n    ( i &gt;= x.length) ?\u00a0 null :\r\n      ( x[i] == y ) ? i :\r\n        next(x, y, i+1))((...args) =&gt;\r\n          (f(f))(...args)))\r\n\r\nlet arr = [0,1,2,3,4,5]\r\nconsole.log(find(arr, 2))\r\nconsole.log(find(arr, 8))<\/pre>\n<p>\u4e3a\u4e86\u8bb2\u6e05\u8fd9\u4e2a\u4ee3\u7801\uff0c\u9700\u8981\u5148\u8865\u5145\u4e00\u4e9b\u77e5\u8bc6\u3002<\/p>\n<p><!--more--><\/p>\n<h4><span class=\"ez-toc-section\" id=\"Javascript%E7%9A%84%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0\"><\/span>Javascript\u7684\u7bad\u5934\u51fd\u6570<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u9996\u5148\u5148\u7b80\u5355\u8bf4\u660e\u4e00\u4e0b\uff0cECMAScript2015 \u5f15\u5165\u7684\u7bad\u5934\u8868\u8fbe\u5f0f\u3002\u7bad\u5934\u51fd\u6570\u5176\u5b9e\u90fd\u662f\u533f\u540d\u51fd\u6570\uff0c\u5176\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a<\/p>\n<blockquote>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">(param1, param2, \u2026, paramN) =&gt; { statements } \r\n(param1, param2, \u2026, paramN) =&gt; expression\r\n     \/\/ \u7b49\u4e8e :  =&gt; { return expression; } \r\n\r\n\/\/ \u53ea\u6709\u4e00\u4e2a\u53c2\u6570\u65f6,\u62ec\u53f7\u624d\u53ef\u4ee5\u4e0d\u52a0:\r\n(singleParam) =&gt; { statements }\r\nsingleParam =&gt; { statements }\r\n\r\n\/\/\u5982\u679c\u6ca1\u6709\u53c2\u6570,\u5c31\u4e00\u5b9a\u8981\u52a0\u62ec\u53f7:\r\n() =&gt; { statements }<\/pre>\n<\/blockquote>\n<p>\u4e0b\u9762\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">var simple = a =&gt; a &gt; 15 ? 15 : a; \r\nsimple(16); \/\/ 15\r\nsimple(10); \/\/ 10\r\n\r\nlet max = (a, b) =&gt; a &gt; b ? a : b;\r\n\r\n\/\/ Easy array filtering, mapping, ...\r\n\r\nvar arr = [5, 6, 13, 0, 1, 18, 23];\r\nvar sum = arr.reduce((a, b) =&gt; a + b);  \/\/ 66\r\nvar even = arr.filter(v =&gt; v % 2 == 0); \/\/ [6, 0, 18]\r\nvar double = arr.map(v =&gt; v * 2);       \/\/ [10, 12, 26, 0, 2, 36, 46]<\/pre>\n<p>\u770b\u4e0a\u53bb\u4e0d\u590d\u6742\u5427\u3002\u4e0d\u8fc7\uff0c\u4e0a\u9762\u524d\u4e24\u4e2a simple \u548c max \u7684\u4f8b\u5b50\u90fd\u628a\u8fd9\u7bad\u5934\u51fd\u6570\u8d4b\u503c\u7ed9\u4e86\u4e00\u4e2a\u53d8\u91cf\uff0c\u4e8e\u662f\u5b83\u5c31\u6709\u4e86\u4e00\u4e2a\u540d\u5b57\u3002\u6709\u65f6\u5019\uff0c\u67d0\u4e9b\u51fd\u6570\u5728\u58f0\u660e\u7684\u65f6\u5019\u5c31\u662f\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5c24\u5176\u662f\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e2d\uff0c\u4e00\u4e2a\u51fd\u6570\u8fd8\u5bf9\u5916\u8fd4\u56de\u51fd\u6570\u7684\u65f6\u5019\u3002\u6bd4\u5982\u4e0b\u5728\u8fd9\u4e2a\u4f8b\u5b50\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">function MakePowerFn(power) {\r\n  return function PowerFn(base) {\r\n    return Math.pow(base, power);\r\n  } \r\n}\r\n\r\npower3 = MakePowerFn(3); \/\/\u5236\u9020\u4e00\u4e2aX\u76843\u6b21\u65b9\u7684\u51fd\u6570\r\npower2 = MakePowerFn(2); \/\/\u5236\u9020\u4e00\u4e2aX\u76842\u6b21\u65b9\u7684\u51fd\u6570\r\n\r\nconsole.log(power3(10)); \/\/10\u76843\u6b21\u65b9 = 1000\r\nconsole.log(power2(10)); \/\/10\u76842\u6b21\u65b9 = 100<\/pre>\n<p>\u5176\u5b9e\uff0c\u5728 MakePowerFn \u51fd\u6570\u91cc\u7684\u90a3\u4e2a PowerFn \u6839\u672c\u4e0d\u9700\u8981\u547d\u540d\uff0c\u5b8c\u5168\u53ef\u4ee5\u5199\u6210\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">function MakePowerFn(power) {\r\n  return function(base) {\r\n    return Math.pow(base, power);\r\n  } \r\n}<\/pre>\n<p>\u5982\u679c\u7528\u7bad\u5934\u51fd\u6570\uff0c\u53ef\u4ee5\u5199\u6210\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">MakePowerFn = power  =&gt; {\r\n  return base =&gt; {\r\n    return Math.pow(base, power);\r\n  } \r\n}<\/pre>\n<p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u5199\u5f97\u66f4\u7b80\u6d01\uff08\u5982\u679c\u7528\u8868\u8fbe\u5f0f\u7684\u8bdd\uff0c\u5c31\u4e0d\u9700\u8981 { \u548c }\uff0c \u4ee5\u53ca return \u8bed\u53e5 \uff09\uff1a<\/p>\n<p><code data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">MakePowerFn = power =&gt; base =&gt; Math.pow(base, power)<\/code><\/p>\n<p>\u6211\u8fd8\u662f\u52a0\u4e0a\u62ec\u53f7\uff0c\u548c\u6362\u884c\u53ef\u80fd\u4f1a\u66f4\u6e05\u695a\u4e00\u4e9b\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">MakePowerFn = (power) =&gt; (\r\n  (base) =&gt; (Math.pow(base, power))\r\n)<\/pre>\n<p>\u597d\u4e86\uff0c\u6709\u4e86\u4e0a\u9762\u7684\u77e5\u8bc6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8fdb\u5165\u4e00\u4e2a\u66f4\u9ad8\u7ea7\u7684\u8bdd\u9898\u2014\u2014\u533f\u540d\u51fd\u6570\u7684\u9012\u5f52\u3002<\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92\"><\/span>\u533f\u540d\u51fd\u6570\u7684\u9012\u5f52<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u51fd\u6570\u5f0f\u7f16\u7a0b\u7acb\u5fd7\u4e8e\u7528\u51fd\u6570\u8868\u8fbe\u5f0f\u6d88\u9664\u6709\u72b6\u6001\u7684\u51fd\u6570\uff0c\u4ee5\u53cafor\/while\u5faa\u73af\uff0c\u6240\u4ee5\uff0c\u5728\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u4e16\u754c\u91cc\u662f\u4e0d\u5e94\u8be5\u7528for\/while\u5faa\u73af\u7684\uff0c\u800c\u8981\u6539\u7528\u9012\u5f52\uff08\u9012\u5f52\u7684\u6027\u80fd\u5f88\u5dee\uff0c\u6240\u4ee5\uff0c\u4e00\u822c\u662f\u7528\u5c3e\u9012\u5f52\u6765\u505a\u4f18\u5316\uff0c\u4e5f\u5c31\u662f\u628a\u51fd\u6570\u7684\u8ba1\u7b97\u7684\u72b6\u6001\u5f53\u6210\u53c2\u6570\u4e00\u5c42\u4e00\u5c42\u7684\u5f80\u4e0b\u4f20\u9012\uff0c\u8fd9\u6837\u8bed\u8a00\u7684\u7f16\u8bd1\u5668\u6216\u89e3\u91ca\u5668\u5c31\u4e0d\u9700\u8981\u7528\u51fd\u6570\u6808\u6765\u5e2e\u4f60\u4fdd\u5b58\u51fd\u6570\u7684\u5185\u90e8\u53d8\u91cf\u7684\u72b6\u6001\u4e86\uff09\u3002<\/p>\n<p>\u597d\u4e86\uff0c\u90a3\u4e48\uff0c\u533f\u540d\u51fd\u6570\u7684\u9012\u5f52\u8be5\u600e\u4e48\u505a\uff1f<\/p>\n<p>\u4e00\u822c\u6765\u8bf4\uff0c\u9012\u5f52\u7684\u4ee3\u7801\u5c31\u662f\u51fd\u6570\u81ea\u5df1\u8c03\u7528\u81ea\u5df1\uff0c\u6bd4\u5982\u6211\u4eec\u6c42\u9636\u4e58\u7684\u4ee3\u7801\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">\r\nfunction fact(n){\r\n  return n==0 ? 1 :  n * fact(n-1);\r\n};\r\nresult = fact(5);\r\n<\/pre>\n<p>\u5728\u533f\u540d\u51fd\u6570\u4e0b\uff0c\u8fd9\u4e2a\u9012\u5f52\u8be5\u600e\u4e48\u5199\u5462\uff1f\u5bf9\u4e8e\u533f\u540d\u51fd\u6570\u6765\u8bf4\uff0c<b>\u6211\u4eec\u53ef\u4ee5\u628a\u533f\u540d\u51fd\u6570\u5f53\u6210\u4e00\u4e2a\u53c2\u6570\u4f20\u7ed9\u53e6\u5916\u4e00\u4e2a\u51fd\u6570\uff0c\u56e0\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u6709\u540d\u5b57\uff0c\u6240\u4ee5\u5c31\u53ef\u4ee5\u8c03\u7528\u81ea\u5df1\u4e86<\/b>\u3002 \u5982\u4e0b\u6240\u793a\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">function combinator(func) {\r\n  func(func);\r\n}<\/pre>\n<p>\u8fd9\u4e2a\u662f\u4e0d\u662f\u6709\u70b9\u4f5c\u5f0a\u7684\u5acc\u7591\uff1fAnyway\uff0c\u6211\u4eec\u518d\u5f80\u4e0b\uff0c\u628a\u4e0a\u9762\u8fd9\u4e2a\u51fd\u6570\u6574\u6210\u7bad\u5934\u51fd\u6570\u5f0f\u7684\u533f\u540d\u51fd\u6570\u7684\u6837\u5b50\u3002<\/p>\n<p><code data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">\uff08func) =&gt; (func(func)) <\/code><\/p>\n<p>\u73b0\u5728\u4f60\u4f3c\u4e4e\u5c31\u4e0d\u50cf\u4f5c\u5f0a\u4e86\u5427\u3002\u628a\u4e0a\u9762\u90a3\u4e2a\u6c42\u9636\u4e58\u7684\u51fd\u6570\u5957\u8fdb\u6765\u662f\u8fd9\u4e2a\u6837\u5b50\uff1a<\/p>\n<p>\u9996\u5148\uff0c\u5148\u91cd\u6784\u4e00\u4e0bfact\uff0c\u628afact\u4e2d\u81ea\u5df1\u8c03\u7528\u81ea\u5df1\u7684\u540d\u5b57\u53bb\u6389\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">function fact(func, n) {\r\n  return n==0 ? 1 :  n * func(func, n-1);\r\n}\r\n\r\nfact(fact, 5); \/\/\u8f93\u51fa120\r\n<\/pre>\n<p>\u7136\u540e\uff0c\u6211\u4eec\u518d\u628a\u4e0a\u9762\u8fd9\u4e2a\u7248\u672c\u53d8\u6210\u7bad\u5934\u51fd\u6570\u7684\u533f\u540d\u51fd\u6570\u7248\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">\r\nvar fact = (func, n) =&gt; ( n==0 ? 1 :  n * func(func, n-1) )\r\nfact(fact, 5)\r\n<\/pre>\n<p>\u8fd9\u91cc\uff0c\u6211\u4eec\u4f9d\u7136\u8fd8\u8981\u7528\u4e00\u4e2afact\u6765\u4fdd\u5b58\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u6211\u4eec\u7ee7\u7eed\uff0c\u6211\u4eec\u8981\u8ba9\u533f\u540d\u51fd\u6570\u58f0\u660e\u7684\u65f6\u5019\uff0c\u5c31\u81ea\u5df1\u8c03\u7528\u81ea\u5df1\u3002<\/p>\n<p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u8981\u628a <\/p>\n<p><code data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">(func, n) =&gt; ( n==0 ? 1 :  n * func(func, n-1) )<\/code> <\/p>\n<p>\u8fd9\u4e2a\u51fd\u6570\u5f53\u6210\u8c03\u7528\u53c2\u6570\uff0c\u4f20\u7ed9\u4e0b\u9762\u8fd9\u4e2a\u51fd\u6570\uff1a<\/p>\n<p><code data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">(func, x) =&gt; func(func, x) <\/code><\/p>\n<p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u4e0b\u9762\u7684\u4ee3\u7801\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\"> \r\n( (func, x) =&gt; func(func, x) ) (  \/\/\u51fd\u6570\u4f53\r\n  (func, n) =&gt; ( n==0 ? 1 :  n * func(func, n-1) ), \/\/\u7b2c\u4e00\u4e2a\u8c03\u7528\u53c2\u6570\r\n  5 \/\/\u7b2c\u4e8c\u8c03\u7528\u53c2\u6570\r\n); <\/pre>\n<p>\u597d\u50cf\u6709\u70b9\u7ed5\uff0canyway, \u4f60\u770b\u61c2\u4e86\u5417\uff1f\u6ca1\u4e8b\uff0c\u6211\u4eec\u7ee7\u7eed\u3002<\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E5%8A%A8%E7%94%A8%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92\"><\/span>\u52a8\u7528\u9ad8\u9636\u51fd\u6570\u7684\u9012\u5f52<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u4f46\u662f\u4e0a\u9762\u8fd9\u4e2a\u9012\u5f52\u7684\u533f\u540d\u51fd\u6570\u5728\u81ea\u5df1\u8c03\u7528\u81ea\u5df1\uff0c\u6240\u4ee5\uff0c\u4ee3\u7801\u4e2d\u6709hard code\u7684\u5b9e\u53c2\u3002\u6211\u4eec\u60f3\u5b9e\u53c2\u53bb\u6389\uff0c\u5982\u4f55\u53bb\u6389\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u53c2\u8003\u524d\u9762\u8bf4\u8fc7\u7684\u90a3\u4e2a MakePowerFn \u7684\u4f8b\u5b50\uff0c\u4e0d\u8fc7\u8fd9\u56de\u662f\u9012\u5f52\u7248\u7684\u9ad8\u9636\u51fd\u6570\u4e86\u3002<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">HighOrderFact = function(func){\r\n  return function(n){\r\n    return n==0 ? 1 : n * func(func)(n-1);\r\n  };\r\n};<\/pre>\n<p>\u6211\u4eec\u53ef\u4ee5\u770b\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u7b80\u5355\u8bf4\u6765\u5c31\u662f\uff0c<b>\u9700\u8981\u4e00\u4e2a\u51fd\u6570\u505a\u53c2\u6570\uff0c\u7136\u540e\u8fd4\u56de\u8fd9\u4e2a\u51fd\u6570\u7684\u9012\u5f52\u7248\u672c<\/b>\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u600e\u4e48\u8c03\u7528\u5462\uff1f<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">fact = HighOrderFact(HighOrderFact);\r\nfact(5); <\/pre>\n<p>\u8fde\u8d77\u6765\u5199\u5c31\u662f\uff1a<br \/>\n<code data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">HighOrderFact ( HighOrderFact ) ( 5 )<\/code><\/p>\n<p>\u4f46\u662f\uff0c\u8fd9\u6837\u8ba9\u7528\u6237\u6765\u8c03\u7528\u5f88\u4e0d\u723d\uff0c\u6240\u4ee5\uff0c\u4ee5\u6211\u4eec\u4e00\u4e2a\u51fd\u6570\u628a <b> HighOrderFact ( HighOrderFact ) <\/b> \u7ed9\u4ee3\u7406\u4e00\u4e0b\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">fact = function ( hifunc ) {\r\n  return hifunc ( hifunc );\r\n} (\r\n  \/\/\u8c03\u7528\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\r\n  function (func) { \r\n    return function(n){\r\n      return n==0 ? 1 : n * func(func)(n-1);\r\n    };\r\n  }\r\n);\r\n\r\nfact(5); \/\/\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e86<\/pre>\n<p>\u7528\u7bad\u5934\u51fd\u6570\u91cd\u6784\u4e00\u4e0b\uff0c\u662f\u4e0d\u662f\u7b80\u6d01\u4e86\u4e00\u4e9b\uff1f<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">fact = (highfunc =&gt; highfunc ( highfunc ) ) (\r\n  func =&gt; n =&gt;  n==0 ? 1 : n * func(func)(n-1)\r\n);<\/pre>\n<p>\u4e0a\u9762\u5c31\u662f\u6211\u4eec\u6700\u7ec8\u7248\u7684\u9636\u4e58\u7684\u51fd\u6570\u5f0f\u4ee3\u7801\u3002<\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E5%9B%9E%E9%A1%BE%E4%B9%8B%E5%89%8D%E7%9A%84%E7%A8%8B%E5%BA%8F\"><\/span>\u56de\u987e\u4e4b\u524d\u7684\u7a0b\u5e8f<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u6211\u4eec\u518d\u6765\u770b\u90a3\u4e2a\u67e5\u627e\u6570\u7ec4\u7684\u6b63\u5e38\u7a0b\u5e8f\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">\/\/\u6b63\u5e38\u7684\u7248\u672c\r\nfunction find (x, y) {\r\n  for ( let i = 0; i &lt; x.length; i++ ) {\r\n    if ( x[i] == y ) return i;\r\n  }\r\n  return null;\r\n}<\/pre>\n<p>\u5148\u628afor\u5e72\u6389\uff0c\u641e\u6210\u9012\u5f52\u7248\u672c\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">function find (x, y, i=0) {\r\n  if ( i &gt;= x.length ) return null;\r\n  if ( x[i] == y ) return i;\r\n  return find(x, y, i+1);\r\n}<\/pre>\n<p>\u7136\u540e\uff0c\u5199\u51fa\u5e26\u5b9e\u53c2\u7684\u533f\u540d\u51fd\u6570\u7684\u7248\u672c\uff08\u6ce8\uff1a\u5176\u4e2d\u7684if\u4ee3\u7801\u88ab\u91cd\u6784\u6210\u4e86 \uff1f\u53f7\u8868\u8fbe\u5f0f\uff09\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">( (func, x, y, i) =&gt; func(func, x, y, i) ) (  \/\/\u51fd\u6570\u4f53\r\n  (func, x, y, i=0) =&gt; (\r\n      i &gt;= x.length ?  null :\r\n         x[i] == y  ?  i : func (func, x, y, i+1)\r\n  ), \/\/\u7b2c\u4e00\u4e2a\u8c03\u7528\u53c2\u6570\r\n  arr, \/\/\u7b2c\u4e8c\u8c03\u7528\u53c2\u6570\r\n  2 \/\/\u7b2c\u4e09\u8c03\u7528\u53c2\u6570\r\n)<\/pre>\n<p>\u6700\u540e\uff0c\u5f15\u5165\u9ad8\u9636\u51fd\u6570\uff0c\u53bb\u9664\u5b9e\u53c2\uff1a<\/p>\n<pre data-enlighter-language=\"js\" class=\"EnlighterJSRAW\">const find = ( highfunc =&gt; highfunc( highfunc ) ) (\r\n   func =&gt; (x, y, i = 0) =&gt; (\r\n     i &gt;= x.length ?  null :\r\n           x[i] == y  ?  i : func (func) (x, y, i+1)\r\n   )\r\n);<\/pre>\n<p>\u6ce8\uff1a\u51fd\u6570\u5f0f\u7f16\u7a0b\u88c5\u903c\u65f6\u4e00\u5b9a\u8981\u7528const\u5b57\u7b26\uff0c\u8fd9\u8868\u793a\u6211\u5199\u7684\u51fd\u6570\u91cc\u7684\u72b6\u6001\u662f immutable \u7684\uff0c\u5929\u751f\u9a84\u50b2\uff01<\/p>\n<p>\u518d\u6ce8\uff1a\u6211\u5199\u7684\u8fd9\u4e2a\u6bd4\u539f\u6765\u7248\u7684\u90a3\u4e2a\u7b80\u5355\u4e86\u5f88\u591a\uff0c\u539f\u6765\u7248\u672c\u7684\u90a3\u4e2a\u53c8\u5728\u51fd\u6570\u4e2d\u5957\u4e86\u4e00\u5957 next\uff0c \u800c\u4e14\u8fd8\u52a8\u7528\u4e86\u4e0d\u5b9a\u53c2\u6570\uff0c\u5f53\u7136\uff0c\u5982\u679c\u4f60\u60f3\u88c5\u903c\u88c5\u5230\u5929\u4e0a\u7684\uff0c\u7406\u8bba\u4e0a\u6765\u8bf4\uff0c\u4f60\u53ef\u4ee5\u5957N\u5c42\uff0c\u5475\u5475\u3002<\/p>\n<p><b>\u73b0\u5728\uff0c\u4f60\u53ef\u4ee5\u4f53\u4f1a\u5230\uff0c\u5982\u6b64\u903c\u88c5\u7684\u662f\u600e\u4e48\u6765\u7684\u4e86\u5427\uff1f<\/b>\u3002<\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E5%85%B6%E5%AE%83\"><\/span>\u5176\u5b83<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u4f60\u8fd8\u522b\u8bf4\u8fd9\u5c31\u662f\u88c5\u903c\uff0c\u7b80\u5355\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6570\u5b66\u7684\u65b9\u5f0f\u6765\u5b8c\u6210\u5bf9\u590d\u6742\u95ee\u9898\u7684\u63cf\u8ff0\uff0c\u90a3\u6015\u662f\u9012\u5f52\u3002\u5176\u5b9e\uff0c\u8fd9\u5e76\u4e0d\u662f\u65b0\u9c9c\u7684\u4e1c\u897f\uff0c\u8fd9\u662fAlonzo Church \u548c Haskell Curry \u4e0a\u4e16\u7eaa30\u5e74\u4ee3\u63d0\u51fa\u6765\u7684\u4e1c\u897f\uff0c\u8fd9\u4e2a\u5c31\u662f Y Combinator \u7684\u73a9\u6cd5\uff0c\u5173\u4e8e\u8fd9\u4e2a\u4e1c\u897f\uff0c\u4f60\u53ef\u4ee5\u770b\u770b\u4e0b\u9762\u4e24\u7bc7\u6587\u7ae0\uff1a<\/p>\n<p>\u300a<a href=\"http:\/\/mvanier.livejournal.com\/2897.html\" target=\"_blank\">The Y Combinator (Slight Return)<\/a>\u300b\uff0c<\/p>\n<p>\u300a<a href=\"https:\/\/en.wikipedia.org\/wiki\/Fixed-point_combinator\" target=\"_blank\">Wikipedia: Fixed-point combinator<\/a>\u300b<\/p>\n<p>\uff08\u5168\u6587\u5b8c\uff09<\/p>\n","raw":"","protected":false},"excerpt":{"rendered":"<p>\u4eca\u5929\u5728\u5fae\u535a\u4e0a\u770b\u5230\u4e86 \u6709\u4eba\u5206\u4eab\u4e86\u4e0b\u9762\u7684\u8fd9\u6bb5\u51fd\u6570\u5f0f\u4ee3\u7801\uff0c\u6211\u628a\u4ee3\u7801\u8d34\u5230\u4e0b\u9762\uff0c\u4e0d\u8fc7\u6211\u5bf9\u539f\u6765\u7684\u4ee3\u7801\u7565\u6709\u6539\u52a8\uff0c\u5bf9\u4e8e\u51fd\u6570\u5f0f\u7684\u7248\u672c\uff0c\u548b\u4e00\u770b\uff0c\u7684\u786e\u4ee4\u4eba\u975e\u5e38\u8d39\u89e3\uff0c\u4ed4\u7ec6\u770b\u4e00\u4e0b\uff0c\u4f60\u53ef\u80fd&#8230;<\/p>\n<p class=\"read-more\"><a class=\"btn btn-default\" href=\"https:\/\/coolshell.cn\/articles\/17524.html\"> Read More<span class=\"screen-reader-text\">  Read More<\/span><\/a><\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[10,23,3],"tags":[643,696,114,808],"series":[],"aioseo_notices":[],"views":94851,"post_thumbnail_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg","content_first_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg","post_medium_image_300":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg","post_thumbnail_image_624":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg","post_frist_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg","post_medium_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg","post_large_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg","post_full_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive.jpg","post_all_images":[{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2016\/10\/drawing-recursive-300x204.jpg","id":"image0"}],"videoAdId":"","listAd":"0","listAdId":"","listAdEvery":5,"total_comments":66,"category_name":"\u6742\u9879\u8d44\u6e90","post_date":"2016-10-23","like_count":"0","praiseWord":"\u9f13\u52b1","excitationAd":"0","rewardedVideoAdId":"","detailAdId":"","detailAd":"0","enterpriseMinapp":"0","audios":[],"postImageUrl":"http:\/\/coolshell.cn\/wp-content\/uploads\/2016\/09\/coolshell-360x200.jpg","avatarurls":[],"related_posts":[],"pageviews":94852,"pageviews_wl":83592,"ratings_average":4,"ratings_total":165,"ratings_users":41,"next_post_id":17583,"next_post_title":"\u6280\u672f\u4eba\u5458\u7684\u53d1\u5c55\u4e4b\u8def","previous_post_id":17497,"previous_post_title":"\u4ec0\u4e48\u662f\u5de5\u7a0b\u5e08\u6587\u5316\uff1f"}