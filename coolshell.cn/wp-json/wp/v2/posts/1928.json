{"id":1928,"date":"2009-12-11T14:10:30","date_gmt":"2009-12-11T06:10:30","guid":{"rendered":"http:\/\/coolshell.cn\/?p=1928"},"modified":"2009-12-11T15:10:06","modified_gmt":"2009-12-11T07:10:06","slug":"%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8python%e6%93%8d%e4%bd%9c%e6%91%84%e5%83%8f%e5%a4%b4","status":"publish","type":"post","link":"https:\/\/coolshell.cn\/articles\/1928.html","title":{"rendered":"\u5982\u4f55\u4f7f\u7528Python\u64cd\u4f5c\u6444\u50cf\u5934"},"content":{"rendered":"<p>\u7528\u8fc7USB\u6444\u50cf\u5934\u7684\u90fd\u77e5\u9053\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u9f20\u6807\u6765\u64cd\u4f5c\u5b83\uff0c\u6bd4\u5982\u622a\u4e2a\u56fe\uff0c\u5f55\u4e2a\u50cf\u4ec0\u4e48\u7684\uff0c\u8981\u70b9N\u6b21\u9f20\u6807\uff0c\u5bf9\u4e8e\u6211\u4eec\u90a3\u4e9b\u4e0d\u559c\u6b22\u591a\u6b21\u70b9\u51fb\u9f20\u6807\u7684\u4eba\u6765\u8bf4\uff0c\u8fd9\u662f\u4e00\u4ef6\u5f88boring\u7684\u4e8b\u60c5\uff0c\u6240\u4ee5\uff0c\u672c\u6587\u5c06\u6559\u4f60\u5982\u4f55\u4f7f\u7528Python\u6765\u64cd\u4f5c\u6444\u50cf\u5934\u3002<\/p>\n<p>\u8fd9\u91cc\uff0c\u6211\u4eec\u9700\u8981\u4e09\u4e2aPython\u5e93\uff1a <a href=\"http:\/\/videocapture.sourceforge.net\/\">VideoCapture<\/a>\uff0c <a href=\"http:\/\/www.pythonware.com\/products\/pil\/\">PIL<\/a>\u00a0 \u548c <a href=\"http:\/\/www.pygame.org\/\">pygame<\/a>\u3002\u4f7f\u7528\u8fd9\u4e09\u4e2a\u5e93\u4f60\u53ef\u4ee5\u975e\u5e38\u5bb9\u6613\u7684\u7f16\u5199\u4e00\u4e2a\u6444\u50cf\u5934\u7a0b\u5e8f\u3002\u4e4b\u6240\u4ee5\u4f7f\u7528pygame\uff0c\u5176\u76ee\u7684\u5c31\u662f\u56e0\u4e3a\u8fd9\u4e2a\u5e93\u53ef\u4ee5\u5904\u7406\u89c6\u9891\u5e27\uff08fps\uff09\u3002\u4e0b\u9762\u662f\u4ee3\u7801\uff1a<\/p>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">from VideoCapture import Device\r\nimport ImageDraw, sys, pygame, time\r\nfrom pygame.locals import *\r\nfrom PIL import ImageEnhance\r\n\r\nres = (640,480)\r\npygame.init()\r\ncam = Device()\r\ncam.setResolution(res[0],res[1])\r\nscreen = pygame.display.set_mode((640,480))\r\npygame.display.set_caption(&#039;Webcam&#039;)\r\npygame.font.init()\r\nfont = pygame.font.SysFont(&quot;Courier&quot;,11)\r\n\r\ndef disp(phrase,loc):\r\n\u00a0   s = font.render(phrase, True, (200,200,200))\r\n\u00a0   sh = font.render(phrase, True, (50,50,50))\r\n\u00a0   screen.blit(sh, (loc[0]+1,loc[1]+1))\r\n\u00a0   screen.blit(s, loc)\r\n\r\nbrightness = 1.0\r\ncontrast = 1.0\r\nshots = 0\r\n\r\nwhile 1:\r\n\u00a0   camshot = ImageEnhance.Brightness(cam.getImage()).enhance(brightness)\r\n\u00a0   camshot = ImageEnhance.Contrast(camshot).enhance(contrast)\r\n\u00a0   for event in pygame.event.get():\r\n\u00a0\u00a0      if event.type == pygame.QUIT: sys.exit()\r\n\u00a0   keyinput = pygame.key.get_pressed()\r\n\u00a0   if keyinput[K_1]: brightness -= .1\r\n\u00a0   if keyinput[K_2]: brightness += .1\r\n\u00a0   if keyinput[K_3]: contrast -= .1\r\n\u00a0   if keyinput[K_4]: contrast += .1\r\n\u00a0   if keyinput[K_q]: cam.displayCapturePinProperties()\r\n\u00a0   if keyinput[K_w]: cam.displayCaptureFilterProperties()\r\n\u00a0   if keyinput[K_s]:\r\n\u00a0\u00a0      filename = str(time.time()) + &quot;.jpg&quot;\r\n\u00a0\u00a0      cam.saveSnapshot(filename, quality=80, timestamp=0)\r\n\u00a0\u00a0      shots += 1\r\n\u00a0   camshot = pygame.image.frombuffer(camshot.tostring(), res, &quot;RGB&quot;)\r\n\u00a0   screen.blit(camshot, (0,0))\r\n\u00a0   disp(&quot;S:&quot; + str(shots), (10,4))\r\n\u00a0   disp(&quot;B:&quot; + str(brightness), (10,16))\r\n\u00a0   disp(&quot;C:&quot; + str(contrast), (10,28))\r\n\u00a0   pygame.display.flip()<\/pre>\n<p>\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u7684\u4e00\u4e9b\u8981\u70b9\u7684\u89e3\u91ca\u5982\u4e0b\uff1a<\/p>\n<p><!--more--><\/p>\n<ul>\n<li>\u7b2c15\u884c\u7684\u90a3\u4e2a\u51fd\u6570\u662f\u5728\u89c6\u9891\u4e0a\u663e\u793a\u4e9b\u4fe1\u606f\u3002\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u663e\u793a\u7684\u662f\u6293\u56fe\u7684\u6570\u91cf\u4ee5\u53ca\u5f53\u524d\u7684\u4eae\u5ea6\u548c\u5bf9\u6bd4\u5ea6\u3002\u8fd9\u4e2a\u51fd\u6570\u5148\u663e\u793a\u6df1\u7070\u8272\u7684\u6587\u672c\uff0c\u7136\u540e\u504f\u79fb\u51e0\u4e2a\u50cf\u7d20\uff0c\u518d\u663e\u793a\u6d45\u7070\u8272\u7684\uff0c\u8fd9\u6837\u53ef\u4ee5\u6709\u9634\u5f71\u7684\u6548\u679c\u3002<\/li>\n<li>\u7b2c26\u884c\u662f\u5728\u8c03\u6574\u4eae\u5ea6\u548c\u5bf9\u6bd4\u5ea6\u300230-33\u884c\u662f\u5728\u8bbe\u7f6e\u6570\u5b57\u952e1-4\u7528\u4e8e\u8c03\u6574\u4eae\u5ea6\u548c\u5bf9\u6bd4\u5ea6\u3002<\/li>\n<li>34 \u548c35\u884c\u662f\u5728\u8bbe\u7f6e &#8216;q&#8217;\u00a0\u548c &#8216;w&#8217; \u6765\u663e\u793a\u6444\u50cf\u5934\u7684\u5bf9\u8bdd\u6846\u3002\u5728\u90a3\u91cc\u4f60\u53ef\u4ee5\u8c03\u6574\u5206\u8fa8\u7387\u548c\u66b4\u5149\u5ea6\u7b49\u7b49\u3002<\/li>\n<li>36\u884c\u53ca\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u662f\u5728\u5b58\u4e00\u4e2a\u6293\u56fe\u6587\u4ef6\u3002\u6587\u4ef6\u540d\u4e2d\u4f7f\u7528\u4e86\u5f53\u524d\u65f6\u95f4\u3002.<\/li>\n<\/ul>\n<p>\u5e0c\u671b\u8fd9\u4e2a\u5c0f\u7a0b\u5e8f\u80fd\u7ed9\u4f60\u5f00\u542f\u4e00\u4e2a\u5982\u4f55\u5199\u6444\u50cf\u5934\u7684\u7a0b\u5e8f\u3002<\/p>\n<p>\uff08\u5168\u6587\u5b8c\uff09<\/p>\n","raw":"","protected":false},"excerpt":{"rendered":"<p>\u7528\u8fc7USB\u6444\u50cf\u5934\u7684\u90fd\u77e5\u9053\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u9f20\u6807\u6765\u64cd\u4f5c\u5b83\uff0c\u6bd4\u5982\u622a\u4e2a\u56fe\uff0c\u5f55\u4e2a\u50cf\u4ec0\u4e48\u7684\uff0c\u8981\u70b9N\u6b21\u9f20\u6807\uff0c\u5bf9\u4e8e\u6211\u4eec\u90a3\u4e9b\u4e0d\u559c\u6b22\u591a\u6b21\u70b9\u51fb\u9f20\u6807\u7684\u4eba\u6765\u8bf4\uff0c\u8fd9\u662f\u4e00\u4ef6\u5f88boring\u7684\u4e8b\u60c5\uff0c&#8230;<\/p>\n<p class=\"read-more\"><a class=\"btn btn-default\" href=\"https:\/\/coolshell.cn\/articles\/1928.html\"> Read More<span class=\"screen-reader-text\">  Read More<\/span><\/a><\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[33,3],"tags":[263,264,791,262],"series":[],"aioseo_notices":[],"views":20507,"post_thumbnail_image":"","content_first_image":"","post_medium_image_300":"","post_thumbnail_image_624":"","post_frist_image":"","post_medium_image":"","post_large_image":"","post_full_image":"","post_all_images":[],"videoAdId":"","listAd":"0","listAdId":"","listAdEvery":5,"total_comments":14,"category_name":"Python","post_date":"2009-12-11","like_count":"0","praiseWord":"\u9f13\u52b1","excitationAd":"0","rewardedVideoAdId":"","detailAdId":"","detailAd":"0","enterpriseMinapp":"0","audios":[],"postImageUrl":"http:\/\/coolshell.cn\/wp-content\/uploads\/2016\/09\/coolshell-360x200.jpg","avatarurls":[],"related_posts":[],"pageviews":20508,"pageviews_wl":18977,"ratings_average":3,"ratings_total":33,"ratings_users":9,"next_post_id":1941,"next_post_title":"\u7a0b\u5e8f\u5458\u7684\u76f8\u5173\u7b11\u8bdd\uff08\u4e8c\uff09","previous_post_id":1889,"previous_post_title":"SQL\u7684Where\u8bed\u53e5"}