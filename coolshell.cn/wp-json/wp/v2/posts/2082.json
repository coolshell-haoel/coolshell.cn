{"id":2082,"date":"2010-02-01T17:42:48","date_gmt":"2010-02-01T09:42:48","guid":{"rendered":"http:\/\/coolshell.cn\/?p=2082"},"modified":"2010-02-01T17:42:48","modified_gmt":"2010-02-01T09:42:48","slug":"python%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e8%bf%9b%e5%8c%96","status":"publish","type":"post","link":"https:\/\/coolshell.cn\/articles\/2082.html","title":{"rendered":"Python\u7a0b\u5e8f\u5458\u7684\u8fdb\u5316"},"content":{"rendered":"<p>\u4ee5\u524d\u672c\u7ad9\u53d1\u5e03\u8fc7\u4e00\u7bc7\u300a<a href=\"https:\/\/coolshell.cn\/articles\/172.html\" target=\"_blank\">\u7a0b\u5e8f\u5458\u7684\u8fdb\u5316<\/a>\u300b\uff0c\u4ee5\u4e00\u79cd\u5e7d\u9ed8\u7684\u4ee3\u7801\u5c55\u73b0\u65b9\u5f0f\u8c03\u4f83\u4e86\u7a0b\u5e8f\u3002\u4e0b\u9762\u8fd9\u7bc7\u662f\u5173\u4e8ePython\u7a0b\u5e8f\u5458\u7684\u3002\u4ee5\u9636\u4e58\u4e3a\u4f8b\uff0c\u5f88\u6709\u610f\u601d\u3002<\/p>\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_48 counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">\u76ee\u5f55<\/p>\n<span class=\"ez-toc-title-toggle\"><\/span><\/div>\n<nav><ul class='ez-toc-list ez-toc-list-level-1 ' ><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E6%96%B0%E6%89%8B%E7%A8%8B%E5%BA%8F%E5%91%98\" title=\"\u65b0\u624b\u7a0b\u5e8f\u5458\">\u65b0\u624b\u7a0b\u5e8f\u5458<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E7%AC%AC%E4%B8%80%E5%B9%B4%E7%9A%84%E5%88%9A%E5%AD%A6%E5%AE%8CPascal%E7%9A%84%E6%96%B0%E6%89%8B\" title=\"\n\u7b2c\u4e00\u5e74\u7684\u521a\u5b66\u5b8cPascal\u7684\u65b0\u624b\">\n\u7b2c\u4e00\u5e74\u7684\u521a\u5b66\u5b8cPascal\u7684\u65b0\u624b<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E7%AC%AC%E4%B8%80%E5%B9%B4%E7%9A%84%E5%88%9A%E5%AD%A6%E5%AE%8CC%E8%AF%AD%E8%A8%80%E7%9A%84%E6%96%B0%E6%89%8B\" title=\"\n\u7b2c\u4e00\u5e74\u7684\u521a\u5b66\u5b8cC\u8bed\u8a00\u7684\u65b0\u624b\">\n\u7b2c\u4e00\u5e74\u7684\u521a\u5b66\u5b8cC\u8bed\u8a00\u7684\u65b0\u624b<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E7%AC%AC%E4%B8%80%E5%B9%B4%E5%88%9A%E5%AD%A6%E5%AE%8CSICP%E7%9A%84%E6%96%B0%E6%89%8B\" title=\"\n\u7b2c\u4e00\u5e74\u521a\u5b66\u5b8cSICP\u7684\u65b0\u624b\">\n\u7b2c\u4e00\u5e74\u521a\u5b66\u5b8cSICP\u7684\u65b0\u624b<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E7%AC%AC%E4%B8%80%E5%B9%B4%E5%88%9A%E5%AD%A6%E5%AE%8CPython%E7%9A%84%E6%96%B0%E6%89%8B\" title=\"\n\u7b2c\u4e00\u5e74\u521a\u5b66\u5b8cPython\u7684\u65b0\u624b\">\n\u7b2c\u4e00\u5e74\u521a\u5b66\u5b8cPython\u7684\u65b0\u624b<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-6\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E7%88%B1%E5%81%B7%E6%87%92%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%91%98\" title=\"\n\u7231\u5077\u61d2\u7684\u7a0b\u5e8f\u5458\">\n\u7231\u5077\u61d2\u7684\u7a0b\u5e8f\u5458<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-7\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E6%9B%B4%E6%87%92%E7%9A%84_Python_%E7%A8%8B%E5%BA%8F%E5%91%98\" title=\"\n\u66f4\u61d2\u7684\u00a0Python \u7a0b\u5e8f\u5458\">\n\u66f4\u61d2\u7684\u00a0Python \u7a0b\u5e8f\u5458<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-8\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#Python_%E4%B8%93%E5%AE%B6\" title=\"\nPython \u4e13\u5bb6\">\nPython \u4e13\u5bb6<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-9\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#Python_%E9%BB%91%E5%AE%A2\" title=\"Python \u9ed1\u5ba2\">Python \u9ed1\u5ba2<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-10\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E4%B8%93%E5%AE%B6%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%91%98\" title=\"\n\u4e13\u5bb6\u7ea7\u7a0b\u5e8f\u5458\">\n\u4e13\u5bb6\u7ea7\u7a0b\u5e8f\u5458<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-11\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E8%8B%B1%E8%AF%AD%E7%B3%BB%E7%9A%84%E4%B8%93%E5%AE%B6%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%91%98\" title=\"\n\u82f1\u8bed\u7cfb\u7684\u4e13\u5bb6\u7ea7\u7a0b\u5e8f\u5458\">\n\u82f1\u8bed\u7cfb\u7684\u4e13\u5bb6\u7ea7\u7a0b\u5e8f\u5458<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-12\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#Web_%E8%AE%BE%E8%AE%A1%E8%80%85\" title=\"\nWeb \u8bbe\u8ba1\u8005\">\nWeb \u8bbe\u8ba1\u8005<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-13\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#Unix_%E7%A8%8B%E5%BA%8F%E5%91%98\" title=\"\nUnix \u7a0b\u5e8f\u5458\">\nUnix \u7a0b\u5e8f\u5458<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-14\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#Windows_%E7%A8%8B%E5%BA%8F%E5%91%98\" title=\"\nWindows \u7a0b\u5e8f\u5458\">\nWindows \u7a0b\u5e8f\u5458<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-15\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\/#%E5%85%AC%E5%8F%B8%E9%87%8C%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%91%98\" title=\"\n\u516c\u53f8\u91cc\u7684\u7a0b\u5e8f\u5458\">\n\u516c\u53f8\u91cc\u7684\u7a0b\u5e8f\u5458<\/a><\/li><\/ul><\/nav><\/div>\n<h4><span class=\"ez-toc-section\" id=\"%E6%96%B0%E6%89%8B%E7%A8%8B%E5%BA%8F%E5%91%98\"><\/span>\u65b0\u624b\u7a0b\u5e8f\u5458<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">def factorial(x):\r\n\u00a0\u00a0\u00a0 if x == 0:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return 1\r\n\u00a0\u00a0\u00a0 else:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return x * factorial(x - 1)\r\nprint factorial(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E7%AC%AC%E4%B8%80%E5%B9%B4%E7%9A%84%E5%88%9A%E5%AD%A6%E5%AE%8CPascal%E7%9A%84%E6%96%B0%E6%89%8B\"><\/span>\n\u7b2c\u4e00\u5e74\u7684\u521a\u5b66\u5b8cPascal\u7684\u65b0\u624b<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">def factorial(x):\r\n\u00a0\u00a0\u00a0 result = 1\r\n\u00a0\u00a0\u00a0 i = 2\r\n\u00a0\u00a0\u00a0 while i &lt;= x:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 result = result * i\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 i = i + 1\r\n\u00a0\u00a0\u00a0 return result\r\nprint factorial(6)<\/pre>\n<h4><!--more--><\/h4>\n<h4><span class=\"ez-toc-section\" id=\"%E7%AC%AC%E4%B8%80%E5%B9%B4%E7%9A%84%E5%88%9A%E5%AD%A6%E5%AE%8CC%E8%AF%AD%E8%A8%80%E7%9A%84%E6%96%B0%E6%89%8B\"><\/span>\n\u7b2c\u4e00\u5e74\u7684\u521a\u5b66\u5b8cC\u8bed\u8a00\u7684\u65b0\u624b<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">def fact(x): #{\r\n\u00a0\u00a0\u00a0 result = i = 1;\r\n\u00a0\u00a0\u00a0 while (i &lt;= x): #{\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 result *= i;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 i += 1;\r\n\u00a0\u00a0\u00a0 #}\r\n\u00a0\u00a0\u00a0 return result;\r\n#}\r\nprint(fact(6))<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E7%AC%AC%E4%B8%80%E5%B9%B4%E5%88%9A%E5%AD%A6%E5%AE%8CSICP%E7%9A%84%E6%96%B0%E6%89%8B\"><\/span>\n\u7b2c\u4e00\u5e74\u521a\u5b66\u5b8cSICP\u7684\u65b0\u624b<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">@tailcall\r\ndef fact(x, acc=1):\r\n\u00a0\u00a0\u00a0 if (x &gt; 1): return (fact((x - 1), (acc * x)))\r\n\u00a0\u00a0\u00a0 else:\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return acc\r\nprint(fact(6))<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E7%AC%AC%E4%B8%80%E5%B9%B4%E5%88%9A%E5%AD%A6%E5%AE%8CPython%E7%9A%84%E6%96%B0%E6%89%8B\"><\/span>\n\u7b2c\u4e00\u5e74\u521a\u5b66\u5b8cPython\u7684\u65b0\u624b<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">def Factorial(x):\r\n\u00a0\u00a0\u00a0 res = 1\r\n\u00a0\u00a0\u00a0 for i in xrange(2, x + 1):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 res *= i\r\n\u00a0\u00a0\u00a0 return res\r\nprint Factorial(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E7%88%B1%E5%81%B7%E6%87%92%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%91%98\"><\/span>\n\u7231\u5077\u61d2\u7684\u7a0b\u5e8f\u5458<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">def fact(x):\r\n\u00a0\u00a0\u00a0 return x &gt; 1 and x * fact(x - 1) or 1\r\nprint fact(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E6%9B%B4%E6%87%92%E7%9A%84_Python_%E7%A8%8B%E5%BA%8F%E5%91%98\"><\/span>\n\u66f4\u61d2\u7684\u00a0Python \u7a0b\u5e8f\u5458<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">f = lambda x: x and x * f(x - 1) or 1\r\nprint f(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"Python_%E4%B8%93%E5%AE%B6\"><\/span>\nPython \u4e13\u5bb6<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">import operator as op\r\nimport functional as f\r\nfact = lambda x: f.foldl(op.mul, 1, xrange(2, x + 1))\r\nprint fact(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"Python_%E9%BB%91%E5%AE%A2\"><\/span>Python \u9ed1\u5ba2<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">import sys\r\n@tailcall\r\ndef fact(x, acc=1):\r\n\u00a0\u00a0\u00a0 if x: return fact(x.__sub__(1), acc.__mul__(x))\r\n\u00a0\u00a0\u00a0 return acc\r\nsys.stdout.write(str(fact(6)) + &#039;\\n&#039;)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E4%B8%93%E5%AE%B6%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%91%98\"><\/span>\n\u4e13\u5bb6\u7ea7\u7a0b\u5e8f\u5458<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">import c_math\r\nfact = c_math.fact\r\nprint fact(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E8%8B%B1%E8%AF%AD%E7%B3%BB%E7%9A%84%E4%B8%93%E5%AE%B6%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%91%98\"><\/span>\n\u82f1\u8bed\u7cfb\u7684\u4e13\u5bb6\u7ea7\u7a0b\u5e8f\u5458<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">import c_maths\r\nfact = c_maths.fact\r\nprint fact(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"Web_%E8%AE%BE%E8%AE%A1%E8%80%85\"><\/span>\nWeb \u8bbe\u8ba1\u8005<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">def factorial(x):\r\n\u00a0\u00a0\u00a0 #-------------------------------------------------\r\n\u00a0\u00a0\u00a0 #--- Code snippet from The Math Vault\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ---\r\n\u00a0\u00a0\u00a0 #--- Calculate factorial (C) Arthur Smith 1999 ---\r\n\u00a0\u00a0\u00a0 #-------------------------------------------------\r\n\u00a0\u00a0\u00a0 result = str(1)\r\n\u00a0\u00a0\u00a0 i = 1 #Thanks Adam\r\n\u00a0\u00a0\u00a0 while i &lt;= x:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 #result = result * i\u00a0 #It&#039;s faster to use *=\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 #result = str(result * result + i)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 #result = int(result *= i) #??????\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 result str(int(result) * i)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 #result = int(str(result) * i)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 i = i + 1\r\n\u00a0\u00a0\u00a0 return result\r\nprint factorial(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"Unix_%E7%A8%8B%E5%BA%8F%E5%91%98\"><\/span>\nUnix \u7a0b\u5e8f\u5458<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">import os\r\ndef fact(x):\r\n\u00a0\u00a0\u00a0 os.system(&#039;factorial &#039; + str(x))\r\nfact(6)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"Windows_%E7%A8%8B%E5%BA%8F%E5%91%98\"><\/span>\nWindows \u7a0b\u5e8f\u5458<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">NULL = None\r\ndef CalculateAndPrintFactorialEx(dwNumber,\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 hOutputDevice,\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 lpLparam,\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 lpWparam,\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 lpsscSecurity,\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 *dwReserved):\r\n\u00a0\u00a0\u00a0 if lpsscSecurity != NULL:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return NULL #Not implemented\r\n\u00a0\u00a0\u00a0 dwResult = dwCounter = 1\r\n\u00a0\u00a0\u00a0 while dwCounter &lt;= dwNumber:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 dwResult *= dwCounter\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 dwCounter += 1\r\n\u00a0\u00a0\u00a0 hOutputDevice.write(str(dwResult))\r\n\u00a0\u00a0\u00a0 hOutputDevice.write(&#039;\\n&#039;)\r\n\u00a0\u00a0\u00a0 return 1\r\nimport sys\r\nCalculateAndPrintFactorialEx(6, sys.stdout, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E5%85%AC%E5%8F%B8%E9%87%8C%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%91%98\"><\/span>\n\u516c\u53f8\u91cc\u7684\u7a0b\u5e8f\u5458<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">def new(cls, *args, **kwargs):\r\n\u00a0\u00a0\u00a0 return cls(*args, **kwargs)\r\n\r\nclass Number(object):\r\n\u00a0\u00a0\u00a0 pass\r\n\r\nclass IntegralNumber(int, Number):\r\n\u00a0\u00a0\u00a0 def toInt(self):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return new (int, self)\r\n\r\nclass InternalBase(object):\r\n\u00a0\u00a0\u00a0 def __init__(self, base):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 self.base = base.toInt()\r\n\r\n\u00a0\u00a0\u00a0 def getBase(self):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return new (IntegralNumber, self.base)\r\n\r\nclass MathematicsSystem(object):\r\n\u00a0\u00a0\u00a0 def __init__(self, ibase):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 Abstract\r\n\r\n\u00a0\u00a0\u00a0 @classmethod\r\n\u00a0\u00a0\u00a0 def getInstance(cls, ibase):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 try:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 cls.__instance\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 except AttributeError:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 cls.__instance = new (cls, ibase)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return cls.__instance\r\n\r\nclass StandardMathematicsSystem(MathematicsSystem):\r\n\u00a0\u00a0\u00a0 def __init__(self, ibase):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 if ibase.getBase() != new (IntegralNumber, 2):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 raise NotImplementedError\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 self.base = ibase.getBase()\r\n\r\n\u00a0\u00a0\u00a0 def calculateFactorial(self, target):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 result = new (IntegralNumber, 1)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 i = new (IntegralNumber, 2)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 while i &lt;= target:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 result = result * i\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 i = i + new (IntegralNumber, 1)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return result\r\n\r\nprint StandardMathematicsSystem.getInstance(new (InternalBase, new (IntegralNumber, 2))).calculateFactorial(new (IntegralNumber, 6))<\/pre>\n<p>\u6458\u81ea\uff1a<a href=\"http:\/\/gist.github.com\/289467\" target=\"_blank\">\u6765\u6e90<\/a><\/p>\n","raw":"","protected":false},"excerpt":{"rendered":"<p>\u4ee5\u524d\u672c\u7ad9\u53d1\u5e03\u8fc7\u4e00\u7bc7\u300a\u7a0b\u5e8f\u5458\u7684\u8fdb\u5316\u300b\uff0c\u4ee5\u4e00\u79cd\u5e7d\u9ed8\u7684\u4ee3\u7801\u5c55\u73b0\u65b9\u5f0f\u8c03\u4f83\u4e86\u7a0b\u5e8f\u3002\u4e0b\u9762\u8fd9\u7bc7\u662f\u5173\u4e8ePython\u7a0b\u5e8f\u5458\u7684\u3002\u4ee5\u9636\u4e58\u4e3a\u4f8b\uff0c\u5f88\u6709\u610f\u601d\u3002 \u65b0\u624b\u7a0b\u5e8f\u5458 def fact&#8230;<\/p>\n<p class=\"read-more\"><a class=\"btn btn-default\" href=\"https:\/\/coolshell.cn\/articles\/2082.html\"> Read More<span class=\"screen-reader-text\">  Read More<\/span><\/a><\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[33,3,52],"tags":[791],"series":[],"aioseo_notices":[],"views":36748,"post_thumbnail_image":"","content_first_image":"","post_medium_image_300":"","post_thumbnail_image_624":"","post_frist_image":"","post_medium_image":"","post_large_image":"","post_full_image":"","post_all_images":[],"videoAdId":"","listAd":"0","listAdId":"","listAdEvery":5,"total_comments":31,"category_name":"Python","post_date":"2010-02-01","like_count":"0","praiseWord":"\u9f13\u52b1","excitationAd":"0","rewardedVideoAdId":"","detailAdId":"","detailAd":"0","enterpriseMinapp":"0","audios":[],"postImageUrl":"http:\/\/coolshell.cn\/wp-content\/uploads\/2016\/09\/coolshell-360x200.jpg","avatarurls":[],"related_posts":[],"pageviews":36749,"pageviews_wl":34456,"ratings_average":4,"ratings_total":171,"ratings_users":40,"next_post_id":2086,"next_post_title":"iPad\u8fdb\u5316\u56fe","previous_post_id":2069,"previous_post_title":"\u4e00\u4e2a\u6d4f\u89c8\u5668\u5e02\u573a\u5360\u6709\u91cf\u7684\u56fe"}