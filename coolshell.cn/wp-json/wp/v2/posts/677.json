{"id":677,"date":"2009-04-26T10:19:41","date_gmt":"2009-04-26T02:19:41","guid":{"rendered":"http:\/\/coolshell.cn\/?p=677"},"modified":"2009-04-26T12:20:45","modified_gmt":"2009-04-26T04:20:45","slug":"%e7%94%a8python%e5%86%99ncurses-ui","status":"publish","type":"post","link":"https:\/\/coolshell.cn\/articles\/677.html","title":{"rendered":"\u7528Python\u5199NCurses UI"},"content":{"rendered":"<p><a href=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncurses.jpg\"><\/a>Ncurses\u662f\u4e00\u4e2a\u80fd\u63d0\u4f9b\u57fa\u4e8e\u6587\u672c\u7ec8\u7aef\u7a97\u53e3\u529f\u80fd\u7684\u52a8\u6001\u5e93. Ncurses\u53ef\u4ee5:<\/p>\n<ul>\n<li>\u53ef\u4ee5\u4f7f\u7528\u6574\u4e2a\u5c4f\u5e55<\/li>\n<li>\u521b\u5efa\u548c\u7ba1\u7406\u4e00\u4e2a\u7a97\u53e3<\/li>\n<li>\u4f7f\u75288\u79cd\u4e0d\u540c\u7684\u5f69\u8272<\/li>\n<li>\u4e3a\u60a8\u7684\u7a0b\u5e8f\u63d0\u4f9b\u9f20\u6807\u652f\u6301<\/li>\n<li>\u4f7f\u7528\u952e\u76d8\u4e0a\u7684\u529f\u80fd\u952e<\/li>\n<\/ul>\n<p>Ncurses\u53ef\u4ee5\u5728\u4efb\u4f55\u9075\u5faaANSI\/POSIX\u6807\u51c6\u7684Unix\/Linux\u7cfb\u7edf\u4e0a\u8fd0\u884c\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5b83\u8fd8\u53ef\u4ee5\u4ece\u7cfb\u7edf\u6570\u636e\u5e93\u4e2d\u68c0\u6d4b\u7ec8\u7aef\u7684\u5c5e\u6027,\uff0c\u5e76\u4e14\u81ea\u52a8\u8fdb\u884c\u8c03\u6574,\u63d0\u4f9b\u4e00\u4e2a\u4e0d\u53d7\u7ec8\u7aef\u7ea6\u675f\u7684\u63a5\u53e3\u3002\u56e0\u6b64,Ncurses\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u7cfb\u7edf\u5e73\u53f0\u548c\u4e0d\u540c\u7684\u7ec8\u7aef\u4e0a\u5de5\u4f5c\u7684\u975e\u5e38\u597d\u3002<\/p>\n<p><!--more--><\/p>\n<p>mc\u5de5\u5177\u96c6\u5c31\u662f\u4e00\u4e2a\u7528ncurses\u5199\u7684\u5f88\u597d\u7684\u4f8b\u5b50,\u800c\u4e14\u5728\u7ec8\u7aef\u4e0a\u7cfb\u7edf\u6838\u5fc3\u914d\u7f6e\u7684\u754c\u9762\u540c\u6837\u662f\u7528ncurses\u7f16\u5199\u7684. \u4e0b\u9762\u5c31\u662f\u5b83\u4eec\u7684\u622a\u56fe\uff1a<\/p>\n<p><a href=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg\"><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-678\" title=\"ncurses_example\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg\" alt=\"ncurses_example\" width=\"526\" height=\"423\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg 526w, https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example-300x241.jpg 300w, https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example-336x270.jpg 336w\" sizes=\"(max-width: 526px) 100vw, 526px\" \/><\/a><\/p>\n<p>\u5f53\u7136\uff0c\u5728\u6211\u4eec\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u4e0d\u4f1a\u6559\u4f60\u600e\u4e48\u5199NCurses\u7a0b\u5e8f\uff0c\u6211\u4eec\u53ea\u662f\u60f3\u544a\u8bc9\u4f60\u5982\u4f55\u7528Python\u6765\u5199Ncurses\u7684\u7a0b\u5e8f\uff0c\u793a\u4f8b\u4f1a\u975e\u5e38\u7b80\u5355\uff0c\u70b9\u5230\u4e3a\u6b62\u3002<\/p>\n<p>\u5728\u6b64\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u7b80\u5355\u7684\u56de\u987e\u4e00\u4e0b\u5982\u4f55\u4f7f\u7528Python\u7684\u4e00\u4e9b\u7b80\u5355\u7684\u8bed\u6cd5\u3002<\/p>\n<p>\u5148\u770b\u770b\u4e00\u4e2a\u6700\u7b80\u5355\u7684Python\u7a0b\u5e8f\uff1a<\/p>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">\r\nprint &quot;How easy is this?&quot;\u00a0\r\n\r\nx = 1\r\ny = 2\r\nz = x + y\r\n\r\nprint &quot;Result of x + y is&quot;, z\r\n<\/pre>\n<p>\u7a0b\u5e8f\u5f88\u7b80\u5355\uff0c\u6211\u5c31\u4e0d\u591a\u8bf4\uff0c\u628a\u8fd9\u4e2a\u6587\u4ef6\u5b58\u6210test.py\uff0c\u7136\u540e\u5728\u547d\u4ee4\u884c\u4e0b\u8c03\u7528python test.py\u5c31\u53ef\u4ee5\u770b\u5230\u8f93\u51fa\u4e86\u3002<\/p>\n<p>\u4e0b\u9762\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e2aPython\u7684\u51fd\u6570\u5b9a\u4e49\u2014\u2014\u8fd8\u662f\u5f88\u7b80\u5355\uff0c\u6211\u4e5f\u4e0d\u7528\u591a\u8bf4\u4e86\u3002<\/p>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">\r\ndef saystuff(mystring):\r\n\u00a0\u00a0\u00a0\u00a0 print &quot;You said:&quot;, mystring\u00a0\r\n\r\nsaystuff(&quot;Bach rules&quot;)\r\nsaystuff(&quot;So does Telemann&quot;)\r\n<\/pre>\n<p>\u597d\uff0c\u8a00\u5f52\u6b63\u4f20\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e0b\uff0c\u5982\u4f55\u5728Python\u4e2d\u4f7f\u7528NCurses\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u5c0f\u4f8b\u7a0b\uff1a<\/p>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">\r\nimport curses\u00a0\r\n\r\nmyscreen = curses.initscr()\r\n\r\nmyscreen.border(0)\r\nmyscreen.addstr(12, 25, &quot;Python curses in action!&quot;)\r\nmyscreen.refresh()\r\nmyscreen.getch()\r\n\r\ncurses.endwin()\r\n<\/pre>\n<p>\u6ce8\u610f\u8fd9\u4e2a\u793a\u4f8b\u4e2d\u7684\u7b2c\u4e00\u884cimport curses\uff0c\u8868\u660e\u4f7f\u7528curses\u5e93\uff0c\u7136\u540e\u8fd9\u4e2a\u793a\u50cf\u5728\u5c4f\u5e55\u4e2d\u95f4\u8f93\u51fa\u201cPython curses in action!\u201d\u5b57\u6837\uff0c\u5176\u4e2d\u5750\u6807\u4e3a12, 25\uff0c\u6ce8\u610f\uff0c\u5728\u5b57\u7b26\u754c\u9762\u4e0b\uff0c80 x 25\u662f\u5c4f\u5e55\u5927\u5c0f\uff0c\u5176\u7528\u7684\u662f\u5b57\u7b26\uff0c\u800c\u4e0d\u662f\u50cf\u7d20\u3002\u4e0b\u9762\u662f\u8fd0\u884c\u540e\u7684\u6293\u5c4f\uff1a<\/p>\n<p><a href=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncursespy.jpg\"><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-679\" title=\"python_ncursespy\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncursespy.jpg\" alt=\"python_ncursespy\" width=\"674\" height=\"413\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncursespy.jpg 674w, https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncursespy-300x183.jpg 300w\" sizes=\"(max-width: 674px) 100vw, 674px\" \/><\/a><\/p>\n<p>\u00a0\u6700\u540e\uff0c\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e2a\u6570\u5b57\u83dc\u5355\u7684\u793a\u4f8b\uff1a<\/p>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">\r\n#!\/usr\/bin\/env python\r\n\r\nfrom os import system\r\nimport curses\r\n\r\ndef get_param(prompt_string):\r\n\u00a0\u00a0\u00a0\u00a0 screen.clear()\r\n\u00a0\u00a0\u00a0\u00a0 screen.border(0)\r\n\u00a0\u00a0\u00a0\u00a0 screen.addstr(2, 2, prompt_string)\r\n\u00a0\u00a0\u00a0\u00a0 screen.refresh()\r\n\u00a0\u00a0\u00a0\u00a0 input = screen.getstr(10, 10, 60)\r\n\u00a0\u00a0\u00a0\u00a0 return input\r\n\r\ndef execute_cmd(cmd_string):\r\n\u00a0\u00a0\u00a0\u00a0 system(&quot;clear&quot;)\r\n\u00a0\u00a0\u00a0\u00a0 a = system(cmd_string)\r\n\u00a0\u00a0\u00a0\u00a0 print &quot;&quot;\r\n\u00a0\u00a0\u00a0\u00a0 if a == 0:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 print &quot;Command executed correctly&quot;\r\n\u00a0\u00a0\u00a0\u00a0 else:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 print &quot;Command terminated with error&quot;\r\n\u00a0\u00a0\u00a0\u00a0 raw_input(&quot;Press enter&quot;)\r\n\u00a0\u00a0\u00a0\u00a0 print &quot;&quot;\r\n\r\nx = 0\r\n\r\nwhile x != ord(&#039;4&#039;):\r\n\u00a0\u00a0\u00a0\u00a0 screen = curses.initscr()\r\n\r\n\u00a0\u00a0\u00a0\u00a0 screen.clear()\r\n\u00a0\u00a0\u00a0\u00a0 screen.border(0)\r\n\u00a0\u00a0\u00a0\u00a0 screen.addstr(2, 2, &quot;Please enter a number...&quot;)\r\n\u00a0\u00a0\u00a0\u00a0 screen.addstr(4, 4, &quot;1 - Add a user&quot;)\r\n\u00a0\u00a0\u00a0\u00a0 screen.addstr(5, 4, &quot;2 - Restart Apache&quot;)\r\n\u00a0\u00a0\u00a0\u00a0 screen.addstr(6, 4, &quot;3 - Show disk space&quot;)\r\n\u00a0\u00a0\u00a0\u00a0 screen.addstr(7, 4, &quot;4 - Exit&quot;)\r\n\u00a0\u00a0\u00a0\u00a0 screen.refresh()\r\n\r\n\u00a0\u00a0\u00a0\u00a0\u00a0x = screen.getch()\r\n\r\n\u00a0\u00a0\u00a0\u00a0 if x == ord(&#039;1&#039;):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 username = get_param(&quot;Enter the username&quot;)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 homedir = get_param(&quot;Enter the home directory, eg \/home\/nate&quot;)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 groups = get_param(&quot;Enter comma-separated groups, eg adm,dialout,cdrom&quot;)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 shell = get_param(&quot;Enter the shell, eg \/bin\/bash:&quot;)\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 curses.endwin()\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 execute_cmd(&quot;useradd -d &quot; + homedir + &quot; -g 1000 -G &quot; + groups + &quot; -m -s &quot; + shell + &quot; &quot; + username)\r\n\u00a0\u00a0\u00a0\u00a0 if x == ord(&#039;2&#039;):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 curses.endwin()\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 execute_cmd(&quot;apachectl restart&quot;)\r\n\u00a0\u00a0\u00a0\u00a0 if x == ord(&#039;3&#039;):\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 curses.endwin()\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 execute_cmd(&quot;df -h&quot;)\r\n\r\ncurses.endwin()\r\n<\/pre>\n<p>\u4e0b\u9762\u662f\u8fd0\u884c\u65f6\u7684\u663e\u793a\uff1a<\/p>\n<p><a href=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncurses.jpg\"><img decoding=\"async\" loading=\"lazy\" class=\"alignnone size-full wp-image-680\" title=\"python_ncurses\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncurses.jpg\" alt=\"python_ncurses\" width=\"394\" height=\"221\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncurses.jpg 394w, https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncurses-300x168.jpg 300w\" sizes=\"(max-width: 394px) 100vw, 394px\" \/><\/a><\/p>\n<p>\u5982\u679c\u4f60\u4f60\u4e86\u89e3NCurses\u7f16\u7a0b\uff0c\u4f60\u53ef\u4ee5\u770b\u770b\u76f8\u5173\u7684Linux HOW-TO\u7684\u6587\u7ae0\uff0c\u94fe\u63a5\u5728\u8fd9\u91cc\uff1a<a href=\"http:\/\/www.linux.org\/docs\/ldp\/howto\/NCURSES-Programming-HOWTO\/index.html\" target=\"_blank\">Linux Documentation Project&#8217;s NCURSES Programming How To<\/a><\/p>\n<p>\uff08\u5168\u6587\u5b8c\uff09<\/p>\n","raw":"","protected":false},"excerpt":{"rendered":"<p>Ncurses\u662f\u4e00\u4e2a\u80fd\u63d0\u4f9b\u57fa\u4e8e\u6587\u672c\u7ec8\u7aef\u7a97\u53e3\u529f\u80fd\u7684\u52a8\u6001\u5e93. Ncurses\u53ef\u4ee5: \u53ef\u4ee5\u4f7f\u7528\u6574\u4e2a\u5c4f\u5e55 \u521b\u5efa\u548c\u7ba1\u7406\u4e00\u4e2a\u7a97\u53e3 \u4f7f\u75288\u79cd\u4e0d\u540c\u7684\u5f69\u8272 \u4e3a\u60a8\u7684\u7a0b\u5e8f\u63d0\u4f9b\u9f20\u6807\u652f\u6301&#8230;<\/p>\n<p class=\"read-more\"><a class=\"btn btn-default\" href=\"https:\/\/coolshell.cn\/articles\/677.html\"> Read More<span class=\"screen-reader-text\">  Read More<\/span><\/a><\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[33,3],"tags":[113,791],"series":[],"aioseo_notices":[],"views":21763,"post_thumbnail_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","content_first_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","post_medium_image_300":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","post_thumbnail_image_624":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","post_frist_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","post_medium_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","post_large_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","post_full_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","post_all_images":[{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/ncurses_example.jpg","id":"image0"},{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncursespy.jpg","id":"image1"},{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2009\/04\/python_ncurses.jpg","id":"image2"}],"videoAdId":"","listAd":"0","listAdId":"","listAdEvery":5,"total_comments":7,"category_name":"Python","post_date":"2009-04-26","like_count":"0","praiseWord":"\u9f13\u52b1","excitationAd":"0","rewardedVideoAdId":"","detailAdId":"","detailAd":"0","enterpriseMinapp":"0","audios":[],"postImageUrl":"http:\/\/coolshell.cn\/wp-content\/uploads\/2016\/09\/coolshell-360x200.jpg","avatarurls":[],"related_posts":[],"pageviews":21764,"pageviews_wl":7877,"ratings_average":3,"ratings_total":44,"ratings_users":12,"next_post_id":688,"next_post_title":"\u4f60\u80fd\u505a\u5bf9\u4e0b\u9762\u8fd9\u4e9bJavaScript\u7684\u9898\u5417\uff1f","previous_post_id":671,"previous_post_title":"Python\u8c03\u7528C\u8bed\u8a00\u51fd\u6570"}