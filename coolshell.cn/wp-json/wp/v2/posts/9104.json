{"id":9104,"date":"2013-02-20T08:36:48","date_gmt":"2013-02-20T00:36:48","guid":{"rendered":"http:\/\/coolshell.cn\/?p=9104"},"modified":"2017-07-13T14:02:33","modified_gmt":"2017-07-13T06:02:33","slug":"sed-%e7%ae%80%e6%98%8e%e6%95%99%e7%a8%8b","status":"publish","type":"post","link":"https:\/\/coolshell.cn\/articles\/9104.html","title":{"rendered":"sed \u7b80\u660e\u6559\u7a0b"},"content":{"rendered":"<p><img decoding=\"async\" loading=\"lazy\" class=\"alignright wp-image-9126\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png\" alt=\"\" width=\"216\" height=\"216\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png 270w, https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman-150x150.png 150w, https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman-200x200.png 200w\" sizes=\"(max-width: 216px) 100vw, 216px\" \/>awk\u4e8e1977\u5e74\u51fa\u751f\uff0c\u4eca\u5e7436\u5c81\u672c\u547d\u5e74\uff0csed\u6bd4awk\u59272-3\u5c81\uff0cawk\u5c31\u50cf\u6797\u59b9\u59b9\uff0csed\u5c31\u662f\u5b9d\u7389\u54e5\u54e5\u4e86\u3002\u6240\u4ee5\u00a0<a title=\"AWK \u7b80\u660e\u6559\u7a0b\" href=\"https:\/\/coolshell.cn\/articles\/9070.html\" target=\"_blank\" rel=\"noopener noreferrer\">\u6797\u59b9\u59b9\u8df3\u4e86\u4e2aTopless<\/a>\uff0c\u4ed6\u7684\u54e5\u54e5sed\u5750\u4e0d\u4f4f\u4e86\uff0c\u4e5f\u4e00\u5b9a\u8981\u51fa\u6765\u6296\u4e00\u6296\u3002<\/p>\n<p>sed\u5168\u540d\u53ebstream editor\uff0c\u6d41\u7f16\u8f91\u5668\uff0c\u7528\u7a0b\u5e8f\u7684\u65b9\u5f0f\u6765\u7f16\u8f91\u6587\u672c\uff0c\u76f8\u5f53\u7684hacker\u554a\u3002sed\u57fa\u672c\u4e0a\u5c31\u662f\u73a9\u6b63\u5219\u6a21\u5f0f\u5339\u914d\uff0c\u6240\u4ee5\uff0c\u73a9sed\u7684\u4eba\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u4e00\u822c\u90fd\u6bd4\u8f83\u5f3a\u3002<\/p>\n<p>\u540c\u6837\uff0c\u672c\u7bc7\u6587\u7ae0\u4e0d\u4f1a\u8bf4sed\u7684\u5168\u90e8\u4e1c\u897f\uff0c\u4f60\u53ef\u4ee5\u53c2\u770b<a href=\"http:\/\/www.gnu.org\/software\/sed\/manual\/sed.html\" target=\"_blank\" rel=\"noopener noreferrer\">sed\u7684\u624b\u518c<\/a>\uff0c\u6211\u8fd9\u91cc\u4e3b\u8981\u8fd8\u662f\u60f3\u548c\u5927\u5bb6\u7ade\u4e89\u4e00\u4e0b\u90a3\u4e9b\u4ece\u624b\u673a\u6307\u7f1d\u95f4\u6216\u9a6c\u6876\u91cc\u6d41\u8d70\u7684\u65f6\u95f4\uff0c\u7528\u8fd9\u4e9b\u65f6\u95f4\u6765\u5b66\u4e60\u4e00\u4e9b\u4e1c\u897f\u3002\u5f53\u7136\uff0c\u63a5\u4e0b\u6765\u7684\u8fd8\u662f\u8981\u9760\u5927\u5bb6\u81ea\u5df1\u53cc\u624b\u3002<\/p>\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_48 counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">\u76ee\u5f55<\/p>\n<span class=\"ez-toc-title-toggle\"><\/span><\/div>\n<nav><ul class='ez-toc-list ez-toc-list-level-1 ' ><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#%E7%94%A8s%E5%91%BD%E4%BB%A4%E6%9B%BF%E6%8D%A2\" title=\"\u7528s\u547d\u4ee4\u66ff\u6362\">\u7528s\u547d\u4ee4\u66ff\u6362<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#%E5%A4%9A%E4%B8%AA%E5%8C%B9%E9%85%8D\" title=\"\u591a\u4e2a\u5339\u914d\">\u591a\u4e2a\u5339\u914d<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#%E5%9C%86%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D\" title=\"\u5706\u62ec\u53f7\u5339\u914d\">\u5706\u62ec\u53f7\u5339\u914d<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#sed%E7%9A%84%E5%91%BD%E4%BB%A4\" title=\"sed\u7684\u547d\u4ee4\">sed\u7684\u547d\u4ee4<\/a><ul class='ez-toc-list-level-5'><li class='ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#N%E5%91%BD%E4%BB%A4\" title=\"N\u547d\u4ee4\">N\u547d\u4ee4<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-6\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#a%E5%91%BD%E4%BB%A4%E5%92%8Ci%E5%91%BD%E4%BB%A4\" title=\"a\u547d\u4ee4\u548ci\u547d\u4ee4\">a\u547d\u4ee4\u548ci\u547d\u4ee4<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-7\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#c%E5%91%BD%E4%BB%A4\" title=\"c\u547d\u4ee4\">c\u547d\u4ee4<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-8\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#d%E5%91%BD%E4%BB%A4\" title=\"d\u547d\u4ee4\">d\u547d\u4ee4<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-9\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#p%E5%91%BD%E4%BB%A4\" title=\"p\u547d\u4ee4\">p\u547d\u4ee4<\/a><\/li><\/ul><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-10\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#%E5%87%A0%E4%B8%AA%E7%9F%A5%E8%AF%86%E7%82%B9\" title=\"\u51e0\u4e2a\u77e5\u8bc6\u70b9\">\u51e0\u4e2a\u77e5\u8bc6\u70b9<\/a><ul class='ez-toc-list-level-5'><li class='ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-11\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#Pattern_Space\" title=\"Pattern Space\">Pattern Space<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-12\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#Address\" title=\"Address\">Address<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-13\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#%E5%91%BD%E4%BB%A4%E6%89%93%E5%8C%85\" title=\"\u547d\u4ee4\u6253\u5305\">\u547d\u4ee4\u6253\u5305<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-5'><a class=\"ez-toc-link ez-toc-heading-14\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\/#Hold_Space\" title=\"Hold Space\">Hold Space<\/a><\/li><\/ul><\/li><\/ul><\/nav><\/div>\n<h4><span class=\"ez-toc-section\" id=\"%E7%94%A8s%E5%91%BD%E4%BB%A4%E6%9B%BF%E6%8D%A2\"><\/span>\u7528s\u547d\u4ee4\u66ff\u6362<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u6211\u4f7f\u7528\u4e0b\u9762\u7684\u8fd9\u6bb5\u6587\u672c\u505a\u6f14\u793a\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ cat pets.txt\r\nThis is my cat\r\n  my cat&#039;s name is betty\r\nThis is my dog\r\n  my dog&#039;s name is frank\r\nThis is my fish\r\n  my fish&#039;s name is george\r\nThis is my goat\r\n  my goat&#039;s name is adam<\/pre>\n<p>\u628a\u5176\u4e2d\u7684my\u5b57\u7b26\u4e32\u66ff\u6362\u6210Hao Chen&#8217;s\uff0c\u4e0b\u9762\u7684\u8bed\u53e5\u5e94\u8be5\u5f88\u597d\u7406\u89e3\uff08s\u8868\u793a\u66ff\u6362\u547d\u4ee4\uff0c\/my\/\u8868\u793a\u5339\u914dmy\uff0c\/Hao Chen&#8217;s\/\u8868\u793a\u628a\u5339\u914d\u66ff\u6362\u6210Hao Chen&#8217;s\uff0c\/g \u8868\u793a\u4e00\u884c\u4e0a\u7684\u66ff\u6362\u6240\u6709\u7684\u5339\u914d\uff09\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &quot;s\/my\/Hao Chen&#039;s\/g&quot; pets.txt\r\nThis is Hao Chen&#039;s cat\r\n  Hao Chen&#039;s cat&#039;s name is betty\r\nThis is Hao Chen&#039;s dog\r\n  Hao Chen&#039;s dog&#039;s name is frank\r\nThis is Hao Chen&#039;s fish\r\n  Hao Chen&#039;s fish&#039;s name is george\r\nThis is Hao Chen&#039;s goat\r\n  Hao Chen&#039;s goat&#039;s name is adam<\/pre>\n<p>\u6ce8\u610f\uff1a\u5982\u679c\u4f60\u8981\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u90a3\u4e48\u4f60\u6ca1\u529e\u6cd5\u901a\u8fc7\\&#8217;\u8fd9\u6837\u6765\u8f6c\u4e49\uff0c\u5c31\u6709\u53cc\u5f15\u53f7\u5c31\u53ef\u4ee5\u4e86\uff0c\u5728\u53cc\u5f15\u53f7\u5185\u53ef\u4ee5\u7528\\&#8221;\u6765\u8f6c\u4e49\u3002<\/p>\n<p><!--more--><\/p>\n<p>\u518d\u6ce8\u610f\uff1a\u4e0a\u9762\u7684sed\u5e76\u6ca1\u6709\u5bf9\u6587\u4ef6\u7684\u5185\u5bb9\u6539\u53d8\uff0c\u53ea\u662f\u628a\u5904\u7406\u8fc7\u540e\u7684\u5185\u5bb9\u8f93\u51fa\uff0c\u5982\u679c\u4f60\u8981\u5199\u56de\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u91cd\u5b9a\u5411\uff0c\u5982\uff1a<\/p>\n<p><code data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &quot;s\/my\/Hao Chen&#039;s\/g&quot; pets.txt &gt; hao_pets.txt<\/code><\/p>\n<p>\u6216\u4f7f\u7528 -i \u53c2\u6570\u76f4\u63a5\u4fee\u6539\u6587\u4ef6\u5185\u5bb9\uff1a<\/p>\n<p><code data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed -i &quot;s\/my\/Hao Chen&#039;s\/g&quot; pets.txt<\/code><\/p>\n<p>\u5728\u6bcf\u4e00\u884c\u6700\u524d\u9762\u52a0\u70b9\u4e1c\u897f\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;s\/^\/#\/g&#039; pets.txt\r\n#This is my cat\r\n#  my cat&#039;s name is betty\r\n#This is my dog\r\n#  my dog&#039;s name is frank\r\n#This is my fish\r\n#  my fish&#039;s name is george\r\n#This is my goat\r\n#  my goat&#039;s name is adam<\/pre>\n<p>\u5728\u6bcf\u4e00\u884c\u6700\u540e\u9762\u52a0\u70b9\u4e1c\u897f\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;s\/$\/ --- \/g&#039; pets.txt\r\nThis is my cat ---\r\n  my cat&#039;s name is betty ---\r\nThis is my dog ---\r\n  my dog&#039;s name is frank ---\r\nThis is my fish ---\r\n  my fish&#039;s name is george ---\r\nThis is my goat ---\r\n  my goat&#039;s name is adam ---<\/pre>\n<p>\u987a\u624b\u4ecb\u7ecd\u4e00\u4e0b\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4e00\u4e9b\u6700\u57fa\u672c\u7684\u4e1c\u897f\uff1a<\/p>\n<ul>\n<li> <code>^<\/code> \u8868\u793a\u4e00\u884c\u7684\u5f00\u5934\u3002\u5982\uff1a<code>\/^#\/<\/code> \u4ee5#\u5f00\u5934\u7684\u5339\u914d\u3002<\/li>\n<li> <code>$<\/code> \u8868\u793a\u4e00\u884c\u7684\u7ed3\u5c3e\u3002\u5982\uff1a<code>\/}$\/<\/code> \u4ee5}\u7ed3\u5c3e\u7684\u5339\u914d\u3002<\/li>\n<li> <code>&#92;&lt;<\/code> \u8868\u793a\u8bcd\u9996\u3002 \u5982\uff1a<code>&#92;&lt;abc<\/code> \u8868\u793a\u4ee5 abc \u4e3a\u9996\u7684\u8a5e\u3002<\/li>\n<li> <code>&#92;&gt;<\/code> \u8868\u793a\u8bcd\u5c3e\u3002 \u5982\uff1a<code>abc&#92;&gt;<\/code> \u8868\u793a\u4ee5 abc \u7d50\u5c3e\u7684\u8a5e\u3002<\/li>\n<li> <code>.<\/code> \u8868\u793a\u4efb\u4f55\u5355\u4e2a\u5b57\u7b26\u3002<\/li>\n<li> <code>*<\/code> \u8868\u793a\u67d0\u4e2a\u5b57\u7b26\u51fa\u73b0\u4e860\u6b21\u6216\u591a\u6b21\u3002<\/li>\n<li> <code>&#91; &#93;<\/code> \u5b57\u7b26\u96c6\u5408\u3002 \u5982\uff1a<code>&#91;abc&#93;<\/code> \u8868\u793a\u5339\u914da\u6216b\u6216c\uff0c\u8fd8\u6709 <code>&#91;a-zA-Z&#93;<\/code> \u8868\u793a\u5339\u914d\u6240\u6709\u768426\u4e2a\u5b57\u7b26\u3002\u5982\u679c\u5176\u4e2d\u6709^\u8868\u793a\u53cd\uff0c\u5982 <code>&#91;^a&#93;<\/code> \u8868\u793a\u975ea\u7684\u5b57\u7b26<\/li>\n<\/ul>\n<p>\u6b63\u89c4\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u4e9b\u5f88\u725b\u7684\u4e8b\uff0c\u6bd4\u5982\u6211\u4eec\u8981\u53bb\u6389\u67d0html\u4e2d\u7684tags\uff1a<\/p>\n<pre data-enlighter-language=\"html\" class=\"EnlighterJSRAW\">\r\n\r\n&lt;b&gt;This&lt;\/b&gt; is what &lt;span style=&quot;text-decoration: underline;&quot;&gt;I&lt;\/span&gt; meant. Understand?\r\n\r\n<\/pre>\n<p>\u770b\u770b\u6211\u4eec\u7684sed\u547d\u4ee4<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">\r\n# \u5982\u679c\u4f60\u8fd9\u6837\u641e\u7684\u8bdd\uff0c\u5c31\u4f1a\u6709\u95ee\u9898\r\n$ sed &#039;s\/&lt;.*&gt;\/\/g&#039; html.txt\r\n Understand?\r\n\r\n# \u8981\u89e3\u51b3\u4e0a\u9762\u7684\u90a3\u4e2a\u95ee\u9898\uff0c\u5c31\u5f97\u50cf\u4e0b\u9762\u8fd9\u6837\u3002\r\n# \u5176\u4e2d\u7684&#039;[^&gt;]&#039; \u6307\u5b9a\u4e86\u9664\u4e86&gt;\u7684\u5b57\u7b26\u91cd\u590d0\u6b21\u6216\u591a\u6b21\u3002\r\n$ sed &#039;s\/&lt;[^&gt;]*&gt;\/\/g&#039; html.txt\r\nThis is what I meant. Understand?<\/pre>\n<p>\u6211\u4eec\u518d\u6765\u770b\u770b\u6307\u5b9a\u9700\u8981\u66ff\u6362\u7684\u5185\u5bb9\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\" data-enlighter-highlight=\"4\">$ sed &quot;3s\/my\/your\/g&quot; pets.txt\r\nThis is my cat\r\n  my cat&#039;s name is betty\r\nThis is your dog\r\n  my dog&#039;s name is frank\r\nThis is my fish\r\n  my fish&#039;s name is george\r\nThis is my goat\r\n  my goat&#039;s name is adam<\/pre>\n<p>\u4e0b\u9762\u7684\u547d\u4ee4\u53ea\u66ff\u6362\u7b2c3\u5230\u7b2c6\u884c\u7684\u6587\u672c\u3002<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\" data-enlighter-highlight=\"4,5,6,7\">$ sed &quot;3,6s\/my\/your\/g&quot; pets.txt\r\nThis is my cat\r\n  my cat&#039;s name is betty\r\nThis is your dog\r\n  your dog&#039;s name is frank\r\nThis is your fish\r\n  your fish&#039;s name is george\r\nThis is my goat\r\n  my goat&#039;s name is adam<\/pre>\n<p>&nbsp;<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ cat my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my fish, my fish&#039;s name is george\r\nThis is my goat, my goat&#039;s name is adam<\/pre>\n<p>\u53ea\u66ff\u6362\u6bcf\u4e00\u884c\u7684\u7b2c\u4e00\u4e2as\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;s\/s\/S\/1&#039; my.txt\r\nThiS is my cat, my cat&#039;s name is betty\r\nThiS is my dog, my dog&#039;s name is frank\r\nThiS is my fish, my fish&#039;s name is george\r\nThiS is my goat, my goat&#039;s name is adam<\/pre>\n<p>\u53ea\u66ff\u6362\u6bcf\u4e00\u884c\u7684\u7b2c\u4e8c\u4e2as\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;s\/s\/S\/2&#039; my.txt\r\nThis iS my cat, my cat&#039;s name is betty\r\nThis iS my dog, my dog&#039;s name is frank\r\nThis iS my fish, my fish&#039;s name is george\r\nThis iS my goat, my goat&#039;s name is adam<\/pre>\n<p>\u53ea\u66ff\u6362\u7b2c\u4e00\u884c\u7684\u7b2c3\u4e2a\u4ee5\u540e\u7684s\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;s\/s\/S\/3g&#039; my.txt\r\nThis is my cat, my cat&#039;S name iS betty\r\nThis is my dog, my dog&#039;S name iS frank\r\nThis is my fiSh, my fiSh&#039;S name iS george\r\nThis is my goat, my goat&#039;S name iS adam<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E5%A4%9A%E4%B8%AA%E5%8C%B9%E9%85%8D\"><\/span>\u591a\u4e2a\u5339\u914d<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u5982\u679c\u6211\u4eec\u9700\u8981\u4e00\u6b21\u66ff\u6362\u591a\u4e2a\u6a21\u5f0f\uff0c\u53ef\u53c2\u770b\u4e0b\u9762\u7684\u793a\u4f8b\uff1a\uff08\u7b2c\u4e00\u4e2a\u6a21\u5f0f\u628a\u7b2c\u4e00\u884c\u5230\u7b2c\u4e09\u884c\u7684my\u66ff\u6362\u6210your\uff0c\u7b2c\u4e8c\u4e2a\u5219\u628a\u7b2c3\u884c\u4ee5\u540e\u7684This\u66ff\u6362\u6210\u4e86That\uff09<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;1,3s\/my\/your\/g; 3,$s\/This\/That\/g&#039; my.txt\r\nThis is your cat, your cat&#039;s name is betty\r\nThis is your dog, your dog&#039;s name is frank\r\nThat is your fish, your fish&#039;s name is george\r\nThat is my goat, my goat&#039;s name is adam<\/pre>\n<p>\u4e0a\u9762\u7684\u547d\u4ee4\u7b49\u4ef7\u4e8e\uff1a\uff08\u6ce8\uff1a\u4e0b\u9762\u4f7f\u7528\u7684\u662fsed\u7684-e\u547d\u4ee4\u884c\u53c2\u6570\uff09<\/p>\n<p><code data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">sed -e &#039;1,3s\/my\/your\/g&#039; -e &#039;3,$s\/This\/That\/g&#039; my.txt<\/code><\/p>\n<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528&amp;\u6765\u5f53\u505a\u88ab\u5339\u914d\u7684\u53d8\u91cf\uff0c\u7136\u540e\u53ef\u4ee5\u5728\u57fa\u672c\u5de6\u53f3\u52a0\u70b9\u4e1c\u897f\u3002\u5982\u4e0b\u6240\u793a\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;s\/my\/[&amp;]\/g&#039; my.txt\r\nThis is [my] cat, [my] cat&#039;s name is betty\r\nThis is [my] dog, [my] dog&#039;s name is frank\r\nThis is [my] fish, [my] fish&#039;s name is george\r\nThis is [my] goat, [my] goat&#039;s name is adam<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E5%9C%86%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D\"><\/span>\u5706\u62ec\u53f7\u5339\u914d<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u4f7f\u7528\u5706\u62ec\u53f7\u5339\u914d\u7684\u793a\u4f8b\uff1a\uff08\u5706\u62ec\u53f7\u62ec\u8d77\u6765\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6240\u5339\u914d\u7684\u5b57\u7b26\u4e32\u4f1a\u53ef\u4ee5\u5f53\u6210\u53d8\u91cf\u6765\u4f7f\u7528\uff0csed\u4e2d\u4f7f\u7528\u7684\u662f\\1,\\2&#8230;\uff09<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;s\/This is my \\([^,&amp;]*\\),.*is \\(.*\\)\/\\1:\\2\/g&#039; my.txt\r\ncat:betty\r\ndog:frank\r\nfish:george\r\ngoat:adam<\/pre>\n<p>\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u70b9\u590d\u6742\uff0c\u89e3\u5f00\u5982\u4e0b\uff08\u53bb\u6389\u8f6c\u4e49\u5b57\u7b26\uff09\uff1a<\/p>\n<p>\u6b63\u5219\u4e3a\uff1aThis is my (&#91;^,&#93;*),.*is (.*)<br \/>\n\u5339\u914d\u4e3a\uff1aThis is my (cat),&#8230;&#8230;&#8230;.is (betty)<\/p>\n<p>\u7136\u540e\uff1a\\1\u5c31\u662fcat\uff0c\\2\u5c31\u662fbetty<\/p>\n<h4><span class=\"ez-toc-section\" id=\"sed%E7%9A%84%E5%91%BD%E4%BB%A4\"><\/span>sed\u7684\u547d\u4ee4<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u8ba9\u6211\u4eec\u56de\u5230\u6700\u4e00\u5f00\u59cb\u7684\u4f8b\u5b50pets.txt\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u51e0\u4e2a\u547d\u4ee4\uff1a<\/p>\n<h5><span class=\"ez-toc-section\" id=\"N%E5%91%BD%E4%BB%A4\"><\/span>N\u547d\u4ee4<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>\u5148\u6765\u770bN\u547d\u4ee4 \u2014\u2014 \u628a\u4e0b\u4e00\u884c\u7684\u5185\u5bb9\u7eb3\u5165\u5f53\u6210\u7f13\u51b2\u533a\u505a\u5339\u914d\u3002<\/p>\n<p>\u4e0b\u9762\u7684\u7684\u793a\u4f8b\u4f1a\u628a\u539f\u6587\u672c\u4e2d\u7684\u5076\u6570\u884c\u7eb3\u5165\u5947\u6570\u884c\u5339\u914d\uff0c\u800cs\u53ea\u5339\u914d\u5e76\u66ff\u6362\u4e00\u6b21\uff0c\u6240\u4ee5\uff0c\u5c31\u6210\u4e86\u4e0b\u9762\u7684\u7ed3\u679c\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;N;s\/my\/your\/&#039; pets.txt\r\nThis is your cat\r\n  my cat&#039;s name is betty\r\nThis is your dog\r\n  my dog&#039;s name is frank\r\nThis is your fish\r\n  my fish&#039;s name is george\r\nThis is your goat\r\n  my goat&#039;s name is adam<\/pre>\n<p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u539f\u6765\u7684\u6587\u4ef6\u6210\u4e86\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">This is my cat\\n  my cat&#039;s name is betty\r\nThis is my dog\\n  my dog&#039;s name is frank\r\nThis is my fish\\n  my fish&#039;s name is george\r\nThis is my goat\\n  my goat&#039;s name is adam<\/pre>\n<p>\u8fd9\u6837\u4e00\u6765\uff0c\u4e0b\u9762\u7684\u4f8b\u5b50\u4f60\u5c31\u660e\u767d\u4e86\uff0c<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;N;s\/\\n\/,\/&#039; pets.txt\r\nThis is my cat,  my cat&#039;s name is betty\r\nThis is my dog,  my dog&#039;s name is frank\r\nThis is my fish,  my fish&#039;s name is george\r\nThis is my goat,  my goat&#039;s name is adam<\/pre>\n<h5><span class=\"ez-toc-section\" id=\"a%E5%91%BD%E4%BB%A4%E5%92%8Ci%E5%91%BD%E4%BB%A4\"><\/span>a\u547d\u4ee4\u548ci\u547d\u4ee4<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>a\u547d\u4ee4\u5c31\u662fappend\uff0c i\u547d\u4ee4\u5c31\u662finsert\uff0c\u5b83\u4eec\u662f\u7528\u6765\u6dfb\u52a0\u884c\u7684\u3002\u5982\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\" data-enlighter-highlight=\"2,12\"># \u5176\u4e2d\u76841i\u8868\u660e\uff0c\u5176\u8981\u5728\u7b2c1\u884c\u524d\u63d2\u5165\u4e00\u884c\uff08insert\uff09\r\n$ sed &quot;1 i This is my monkey, my monkey&#039;s name is wukong&quot; my.txt\r\nThis is my monkey, my monkey&#039;s name is wukong\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my fish, my fish&#039;s name is george\r\nThis is my goat, my goat&#039;s name is adam\r\n\r\n# \u5176\u4e2d\u76841a\u8868\u660e\uff0c\u5176\u8981\u5728\u6700\u540e\u4e00\u884c\u540e\u8ffd\u52a0\u4e00\u884c\uff08append\uff09\r\n$ sed &quot;$ a This is my monkey, my monkey&#039;s name is wukong&quot; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my monkey, my monkey&#039;s name is wukong\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my fish, my fish&#039;s name is george\r\nThis is my goat, my goat&#039;s name is adam<\/pre>\n<p>\u6211\u4eec\u53ef\u4ee5\u8fd0\u7528\u5339\u914d\u6765\u6dfb\u52a0\u6587\u672c\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\" data-enlighter-highlight=\"6\"># \u6ce8\u610f\u5176\u4e2d\u7684\/fish\/a\uff0c\u8fd9\u610f\u601d\u662f\u5339\u914d\u5230\/fish\/\u540e\u5c31\u8ffd\u52a0\u4e00\u884c\r\n$ sed &quot;\/fish\/a This is my monkey, my monkey&#039;s name is wukong&quot; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my fish, my fish&#039;s name is george\r\nThis is my monkey, my monkey&#039;s name is wukong\r\nThis is my goat, my goat&#039;s name is adam<\/pre>\n<p>\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u662f\u5bf9\u6bcf\u4e00\u884c\u90fd\u633a\u63d2\u5165\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &quot;\/my\/a ----&quot; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\n----\r\nThis is my dog, my dog&#039;s name is frank\r\n----\r\nThis is my fish, my fish&#039;s name is george\r\n----\r\nThis is my goat, my goat&#039;s name is adam\r\n----<\/pre>\n<h5><span class=\"ez-toc-section\" id=\"c%E5%91%BD%E4%BB%A4\"><\/span>c\u547d\u4ee4<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>c \u547d\u4ee4\u662f\u66ff\u6362\u5339\u914d\u884c<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &quot;2 c This is my monkey, my monkey&#039;s name is wukong&quot; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my monkey, my monkey&#039;s name is wukong\r\nThis is my fish, my fish&#039;s name is george\r\nThis is my goat, my goat&#039;s name is adam\r\n\r\n$ sed &quot;\/fish\/c This is my monkey, my monkey&#039;s name is wukong&quot; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my monkey, my monkey&#039;s name is wukong\r\nThis is my goat, my goat&#039;s name is adam<\/pre>\n<h5><span class=\"ez-toc-section\" id=\"d%E5%91%BD%E4%BB%A4\"><\/span>d\u547d\u4ee4<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>\u5220\u9664\u5339\u914d\u884c<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ sed &#039;\/fish\/d&#039; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my goat, my goat&#039;s name is adam\r\n\r\n$ sed &#039;2d&#039; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my fish, my fish&#039;s name is george\r\nThis is my goat, my goat&#039;s name is adam\r\n\r\n$ sed &#039;2,$d&#039; my.txt\r\nThis is my cat, my cat&#039;s name is betty<\/pre>\n<h5><span class=\"ez-toc-section\" id=\"p%E5%91%BD%E4%BB%A4\"><\/span>p\u547d\u4ee4<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>\u6253\u5370\u547d\u4ee4<\/p>\n<p>\u4f60\u53ef\u4ee5\u628a\u8fd9\u4e2a\u547d\u4ee4\u5f53\u6210grep\u5f0f\u7684\u547d\u4ee4<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\"># \u5339\u914dfish\u5e76\u8f93\u51fa\uff0c\u53ef\u4ee5\u770b\u5230fish\u7684\u90a3\u4e00\u884c\u88ab\u6253\u4e86\u4e24\u904d\uff0c\r\n# \u8fd9\u662f\u56e0\u4e3ased\u5904\u7406\u65f6\u4f1a\u628a\u5904\u7406\u7684\u4fe1\u606f\u8f93\u51fa\r\n$ sed &#039;\/fish\/p&#039; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my fish, my fish&#039;s name is george\r\nThis is my fish, my fish&#039;s name is george\r\nThis is my goat, my goat&#039;s name is adam\r\n\r\n# \u4f7f\u7528n\u53c2\u6570\u5c31\u597d\u4e86\r\n$ sed -n &#039;\/fish\/p&#039; my.txt\r\nThis is my fish, my fish&#039;s name is george\r\n\r\n# \u4ece\u4e00\u4e2a\u6a21\u5f0f\u5230\u53e6\u4e00\u4e2a\u6a21\u5f0f\r\n$ sed -n &#039;\/dog\/,\/fish\/p&#039; my.txt\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my fish, my fish&#039;s name is george\r\n\r\n#\u4ece\u7b2c\u4e00\u884c\u6253\u5370\u5230\u5339\u914dfish\u6210\u529f\u7684\u90a3\u4e00\u884c\r\n$ sed -n &#039;1,\/fish\/p&#039; my.txt\r\nThis is my cat, my cat&#039;s name is betty\r\nThis is my dog, my dog&#039;s name is frank\r\nThis is my fish, my fish&#039;s name is george<\/pre>\n<h4><span class=\"ez-toc-section\" id=\"%E5%87%A0%E4%B8%AA%E7%9F%A5%E8%AF%86%E7%82%B9\"><\/span>\u51e0\u4e2a\u77e5\u8bc6\u70b9<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u597d\u4e86\uff0c\u4e0b\u9762\u6211\u4eec\u8981\u4ecb\u7ecd\u56db\u4e2ased\u7684\u57fa\u672c\u77e5\u8bc6\u70b9\uff1a<\/p>\n<h5><span class=\"ez-toc-section\" id=\"Pattern_Space\"><\/span>Pattern Space<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>\u7b2c\u96f6\u4e2a\u662f\u5173\u4e8e-n\u53c2\u6570\u7684\uff0c\u5927\u5bb6\u4e5f\u8bb8\u6ca1\u770b\u61c2\uff0c\u6ca1\u5173\u7cfb\uff0c\u6211\u4eec\u6765\u770b\u4e00\u4e0bsed\u5904\u7406\u6587\u672c\u7684\u4f2a\u4ee3\u7801\uff0c\u5e76\u4e86\u89e3\u4e00\u4e0bPattern Space\u7684\u6982\u5ff5\uff1a<\/p>\n<pre data-enlighter-language=\"c\" class=\"EnlighterJSRAW\">foreach line in file {\r\n    \/\/\u653e\u5165\u628a\u884cPattern_Space\r\n    Pattern_Space &lt;= line;\r\n\r\n    \/\/ \u5bf9\u6bcf\u4e2apattern space\u6267\u884csed\u547d\u4ee4\r\n    Pattern_Space &lt;= EXEC(sed_cmd, Pattern_Space);\r\n\r\n    \/\/ \u5982\u679c\u6ca1\u6709\u6307\u5b9a -n \u5219\u8f93\u51fa\u5904\u7406\u540e\u7684Pattern_Space\r\n    if (sed option hasn&#039;t &quot;-n&quot;)  {\r\n       print Pattern_Space\r\n    }\r\n}<\/pre>\n<h5><span class=\"ez-toc-section\" id=\"Address\"><\/span>Address<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>\u7b2c\u4e00\u4e2a\u662f\u5173\u4e8eaddress\uff0c\u51e0\u4e4e\u4e0a\u8ff0\u6240\u6709\u7684\u547d\u4ee4\u90fd\u662f\u8fd9\u6837\u7684\uff08\u6ce8\uff1a\u5176\u4e2d\u7684!\u8868\u793a\u5339\u914d\u6210\u529f\u540e\u662f\u5426\u6267\u884c\u547d\u4ee4\uff09<\/p>\n<p><strong>&#91;address&#91;,address&#93;&#93;&#91;!&#93;{cmd}<\/strong><\/p>\n<p>address\u53ef\u4ee5\u662f\u4e00\u4e2a\u6570\u5b57\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u6a21\u5f0f\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u9017\u53f7\u8981\u5206\u9694\u4e24\u4e2aaddress \u8868\u793a\u4e24\u4e2aaddress\u7684\u533a\u95f4\uff0c\u53c2\u6267\u884c\u547d\u4ee4cmd\uff0c\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a<\/p>\n<pre data-enlighter-language=\"c\" class=\"EnlighterJSRAW\">\r\nbool bexec = false\r\nforeach line in file {\r\n    if ( match(address1) ){\r\n        bexec = true;\r\n    }\r\n\r\n    if ( bexec == true) {\r\n        EXEC(sed_cmd);\r\n    }\r\n\r\n    if ( match (address2) ) {\r\n        bexec = false;\r\n    }\r\n}<\/pre>\n<p>\u5173\u4e8eaddress\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u4f4d\u7f6e\uff0c\u5982\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\"># \u5176\u4e2d\u7684+3\u8868\u793a\u540e\u9762\u8fde\u7eed3\u884c\r\n$ sed &#039;\/dog\/,+3s\/^\/# \/g&#039; pets.txt\r\nThis is my cat\r\n  my cat&#039;s name is betty\r\n# This is my dog\r\n#   my dog&#039;s name is frank\r\n# This is my fish\r\n#   my fish&#039;s name is george\r\nThis is my goat\r\n  my goat&#039;s name is adam<\/pre>\n<h5><span class=\"ez-toc-section\" id=\"%E5%91%BD%E4%BB%A4%E6%89%93%E5%8C%85\"><\/span>\u547d\u4ee4\u6253\u5305<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>\u7b2c\u4e8c\u4e2a\u662fcmd\u53ef\u4ee5\u662f\u591a\u4e2a\uff0c\u5b83\u4eec\u53ef\u4ee5\u7528\u5206\u53f7\u5206\u5f00\uff0c\u53ef\u4ee5\u7528\u5927\u62ec\u53f7\u62ec\u8d77\u6765\u4f5c\u4e3a\u5d4c\u5957\u547d\u4ee4\u3002\u4e0b\u9762\u662f\u51e0\u4e2a\u4f8b\u5b50\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\" data-enlighter-highlight=\"12,21,31\">$ cat pets.txt\r\nThis is my cat\r\n  my cat&#039;s name is betty\r\nThis is my dog\r\n  my dog&#039;s name is frank\r\nThis is my fish\r\n  my fish&#039;s name is george\r\nThis is my goat\r\n  my goat&#039;s name is adam\r\n\r\n# \u5bf93\u884c\u5230\u7b2c6\u884c\uff0c\u6267\u884c\u547d\u4ee4\/This\/d\r\n$ sed &#039;3,6 {\/This\/d}&#039; pets.txt\r\nThis is my cat\r\n  my cat&#039;s name is betty\r\n  my dog&#039;s name is frank\r\n  my fish&#039;s name is george\r\nThis is my goat\r\n  my goat&#039;s name is adam\r\n\r\n# \u5bf93\u884c\u5230\u7b2c6\u884c\uff0c\u5339\u914d\/This\/\u6210\u529f\u540e\uff0c\u518d\u5339\u914d\/fish\/\uff0c\u6210\u529f\u540e\u6267\u884cd\u547d\u4ee4\r\n$ sed &#039;3,6 {\/This\/{\/fish\/d}}&#039; pets.txt\r\nThis is my cat\r\n  my cat&#039;s name is betty\r\nThis is my dog\r\n  my dog&#039;s name is frank\r\n  my fish&#039;s name is george\r\nThis is my goat\r\n  my goat&#039;s name is adam\r\n\r\n# \u4ece\u7b2c\u4e00\u884c\u5230\u6700\u540e\u4e00\u884c\uff0c\u5982\u679c\u5339\u914d\u5230This\uff0c\u5219\u5220\u9664\u4e4b\uff1b\u5982\u679c\u524d\u9762\u6709\u7a7a\u683c\uff0c\u5219\u53bb\u9664\u7a7a\u683c\r\n$ sed &#039;1,${\/This\/d;s\/^ *\/\/g}&#039; pets.txt\r\nmy cat&#039;s name is betty\r\nmy dog&#039;s name is frank\r\nmy fish&#039;s name is george\r\nmy goat&#039;s name is adam <\/pre>\n<h5><span class=\"ez-toc-section\" id=\"Hold_Space\"><\/span>Hold Space<span class=\"ez-toc-section-end\"><\/span><\/h5>\n<p>\u7b2c\u4e09\u4e2a\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e0b Hold Space<\/p>\n<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\u4e00\u4e0bHold Space\u7684\u6982\u5ff5\uff0c\u6211\u4eec\u5148\u6765\u770b\u56db\u4e2a\u547d\u4ee4\uff1a<\/p>\n<p>g\uff1a \u5c06hold space\u4e2d\u7684\u5185\u5bb9\u62f7\u8d1d\u5230pattern space\u4e2d\uff0c\u539f\u6765pattern space\u91cc\u7684\u5185\u5bb9\u6e05\u9664<br \/>\nG\uff1a \u5c06hold space\u4e2d\u7684\u5185\u5bb9append\u5230pattern space\\n\u540e<br \/>\nh\uff1a \u5c06pattern space\u4e2d\u7684\u5185\u5bb9\u62f7\u8d1d\u5230hold space\u4e2d\uff0c\u539f\u6765\u7684hold space\u91cc\u7684\u5185\u5bb9\u88ab\u6e05\u9664<br \/>\nH\uff1a \u5c06pattern space\u4e2d\u7684\u5185\u5bb9append\u5230hold space\\n\u540e<br \/>\nx\uff1a \u4ea4\u6362pattern space\u548chold space\u7684\u5185\u5bb9<\/p>\n<p>\u8fd9\u4e9b\u547d\u4ee4\u6709\u4ec0\u4e48\u7528\uff1f\u6211\u4eec\u6765\u770b\u4e24\u4e2a\u793a\u4f8b\u5427\uff0c\u7528\u5230\u7684\u793a\u4f8b\u6587\u4ef6\u662f\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\">$ cat t.txt\r\none\r\ntwo\r\nthree<\/pre>\n<p>\u7b2c\u4e00\u4e2a\u793a\u4f8b\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\" data-enlighter-highlight=\"1\">$ sed &#039;H;g&#039; t.txt\r\none\r\n\r\none\r\ntwo\r\n\r\none\r\ntwo\r\nthree<\/pre>\n<p>\u662f\u4e0d\u662f\u6709\u70b9\u6ca1\u770b\u61c2\uff0c\u6211\u4f5c\u4e2a\u56fe\u4f60\u5c31\u770b\u61c2\u4e86\u3002<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter size-full wp-image-9118\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed_demo_00.jpg\" alt=\"\" width=\"592\" height=\"404\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed_demo_00.jpg 592w, https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed_demo_00-300x204.jpg 300w\" sizes=\"(max-width: 592px) 100vw, 592px\" \/><\/p>\n<p>\u7b2c\u4e8c\u4e2a\u793a\u4f8b\uff0c\u53cd\u5e8f\u4e86\u4e00\u4e2a\u6587\u4ef6\u7684\u884c\uff1a<\/p>\n<pre data-enlighter-language=\"shell\" class=\"EnlighterJSRAW\" data-enlighter-highlight=\"1\">$ sed &#039;1!G;h;$!d&#039; t.txt\r\nthree\r\ntwo\r\none<\/pre>\n<p>\u5176\u4e2d\u7684 &#8216;1!G;h;$!d&#8217; \u53ef\u62c6\u89e3\u4e3a\u4e09\u4e2a\u547d\u4ee4<\/p>\n<ul>\n<li>1!G \u2014\u2014 \u53ea\u6709\u7b2c\u4e00\u884c\u4e0d\u6267\u884cG\u547d\u4ee4\uff0c\u5c06hold space\u4e2d\u7684\u5185\u5bb9append\u56de\u5230pattern space<\/li>\n<li>h \u2014\u2014 \u7b2c\u4e00\u884c\u90fd\u6267\u884ch\u547d\u4ee4\uff0c\u5c06pattern space\u4e2d\u7684\u5185\u5bb9\u62f7\u8d1d\u5230hold space\u4e2d<\/li>\n<li>$!d \u2014\u2014 \u9664\u4e86\u6700\u540e\u4e00\u884c\u4e0d\u6267\u884cd\u547d\u4ee4\uff0c\u5176\u5b83\u884c\u90fd\u6267\u884cd\u547d\u4ee4\uff0c\u5220\u9664\u5f53\u524d\u884c<\/li>\n<\/ul>\n<p>\u8fd9\u4e2a\u6267\u884c\u5e8f\u5217\u5f88\u96be\u7406\u89e3\uff0c\u505a\u4e2a\u56fe\u5982\u4e0b\u5927\u5bb6\u5c31\u660e\u767d\u4e86\uff1a<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter size-full wp-image-9110\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed_demo.jpg\" alt=\"\" width=\"623\" height=\"316\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed_demo.jpg 623w, https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed_demo-300x152.jpg 300w\" sizes=\"(max-width: 623px) 100vw, 623px\" \/><\/p>\n<p>\u5c31\u5148\u8bf4\u8fd9\u4e48\u591a\u5427\uff0c\u5e0c\u671b\u5bf9\u5927\u5bb6\u6709\u7528\u3002<\/p>\n<p>\uff08\u5168\u6587\u5b8c\uff09<\/p>\n","raw":"","protected":false},"excerpt":{"rendered":"<p>awk\u4e8e1977\u5e74\u51fa\u751f\uff0c\u4eca\u5e7436\u5c81\u672c\u547d\u5e74\uff0csed\u6bd4awk\u59272-3\u5c81\uff0cawk\u5c31\u50cf\u6797\u59b9\u59b9\uff0csed\u5c31\u662f\u5b9d\u7389\u54e5\u54e5\u4e86\u3002\u6240\u4ee5\u00a0\u6797\u59b9\u59b9\u8df3\u4e86\u4e2aTopless\uff0c\u4ed6\u7684\u54e5\u54e5sed\u5750\u4e0d&#8230;<\/p>\n<p class=\"read-more\"><a class=\"btn btn-default\" href=\"https:\/\/coolshell.cn\/articles\/9104.html\"> Read More<span class=\"screen-reader-text\">  Read More<\/span><\/a><\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[20,1],"tags":[37,661,21],"series":[],"aioseo_notices":[],"views":380107,"post_thumbnail_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","content_first_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","post_medium_image_300":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","post_thumbnail_image_624":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","post_frist_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","post_medium_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","post_large_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","post_full_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","post_all_images":[{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed-superman.png","id":"image0"},{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed_demo_00.jpg","id":"image1"},{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/sed_demo.jpg","id":"image2"}],"videoAdId":"","listAd":"0","listAdId":"","listAdEvery":5,"total_comments":209,"category_name":"Unix\/Linux","post_date":"2013-02-20","like_count":"0","praiseWord":"\u9f13\u52b1","excitationAd":"0","rewardedVideoAdId":"","detailAdId":"","detailAd":"0","enterpriseMinapp":"0","audios":[],"postImageUrl":"http:\/\/coolshell.cn\/wp-content\/uploads\/2016\/09\/coolshell-360x200.jpg","avatarurls":[],"related_posts":[{"ID":"22320","post_title":"eBPF \u4ecb\u7ecd"}],"pageviews":380108,"pageviews_wl":60442,"ratings_average":4,"ratings_total":528,"ratings_users":114,"next_post_id":9410,"next_post_title":"Unix\u8003\u53e4\u8bb0\uff1a\u4e00\u4e2a\u201c\u9057\u5931\u201d\u7684shell","previous_post_id":9070,"previous_post_title":"AWK \u7b80\u660e\u6559\u7a0b"}