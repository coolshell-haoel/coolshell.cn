{"id":9410,"date":"2013-04-26T22:29:56","date_gmt":"2013-04-26T14:29:56","guid":{"rendered":"http:\/\/coolshell.cn\/?p=9410"},"modified":"2013-04-26T22:29:56","modified_gmt":"2013-04-26T14:29:56","slug":"unix%e8%80%83%e5%8f%a4%e8%ae%b0%ef%bc%9a%e4%b8%80%e4%b8%aa%e9%81%97%e5%a4%b1%e7%9a%84shell","status":"publish","type":"post","link":"https:\/\/coolshell.cn\/articles\/9410.html","title":{"rendered":"Unix\u8003\u53e4\u8bb0\uff1a\u4e00\u4e2a\u201c\u9057\u5931\u201d\u7684shell"},"content":{"rendered":"<p><span style=\"color: #cc0000;\"><strong>(\u611f\u8c22\u7f51\u53cbLeo\u6295\u9012\u6b64\u6587)<\/strong><\/span><\/p>\n<p>\u8c28\u4ee5\u6b64\u6587\u7eaa\u5ff5\u4f1f\u5927\u7684\u8ba1\u7b97\u673a\u79d1\u5b66\u5de8\u5320<a href=\"http:\/\/en.wikipedia.org\/wiki\/Ken_Thompson\" target=\"_blank\">Ken Thompson<\/a>\u548c<a href=\"http:\/\/en.wikipedia.org\/wiki\/Dennis_Ritchie\" target=\"_blank\">Dennis Ritchie<\/a>\uff0c\u5e76\u540c\u65f6\u5411\u5176\u4ed6\u6240\u6709\u4e3aUnix\u53d1\u5c55\u505a\u51fa\u8d21\u732e\u7684\u9ed1\u5ba2\u81f4\u656c\u3002<\/p>\n<div id=\"ez-toc-container\" class=\"ez-toc-v2_0_48 counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction\">\n<div class=\"ez-toc-title-container\">\n<p class=\"ez-toc-title\">\u76ee\u5f55<\/p>\n<span class=\"ez-toc-title-toggle\"><\/span><\/div>\n<nav><ul class='ez-toc-list ez-toc-list-level-1 ' ><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-1\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E5%8E%86%E5%8F%B2%E7%9A%84%E5%B0%98%E5%9F%83\" title=\"\u5386\u53f2\u7684\u5c18\u57c3\">\u5386\u53f2\u7684\u5c18\u57c3<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-2\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E5%91%BD%E4%BB%A4%E7%BB%93%E6%9E%84%E5%92%8C%E8%A7%84%E8%8C%83\" title=\"\u547d\u4ee4\u7ed3\u6784\u548c\u89c4\u8303\">\u547d\u4ee4\u7ed3\u6784\u548c\u89c4\u8303<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-3\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E8%A7%A3%E9%87%8A%E5%99%A8%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E7%8E%B0\" title=\"\u89e3\u91ca\u5668\u7684\u539f\u7406\u4e0e\u5b9e\u73b0\">\u89e3\u91ca\u5668\u7684\u539f\u7406\u4e0e\u5b9e\u73b0<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-4\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E9%A2%84%E5%A4%84%E7%90%86preprocessor\" title=\"\u9884\u5904\u7406(preprocessor)\">\u9884\u5904\u7406(preprocessor)<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-5\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E8%AF%8D%E6%B3%95%E6%89%AB%E6%8F%8Flexical_scanning\" title=\"\u8bcd\u6cd5\u626b\u63cf(lexical scanning)\">\u8bcd\u6cd5\u626b\u63cf(lexical scanning)<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-6\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90syntax_parser\" title=\"\u8bed\u6cd5\u5206\u6790(syntax parser)\">\u8bed\u6cd5\u5206\u6790(syntax parser)<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-7\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90Semantic_Analyzer\" title=\"\u8bed\u4e49\u5206\u6790(Semantic Analyzer)\">\u8bed\u4e49\u5206\u6790(Semantic Analyzer)<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-8\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4Executor\" title=\"\u6267\u884c\u547d\u4ee4(Executor)\">\u6267\u884c\u547d\u4ee4(Executor)<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-9\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E5%AD%B0%E4%BC%98%E5%AD%B0%E5%8A%A3\" title=\"\u5b70\u4f18\u5b70\u52a3\">\u5b70\u4f18\u5b70\u52a3<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-10\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#Thompson_Again_Shell\" title=\"Thompson Again Shell?\">Thompson Again Shell?<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-11\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E4%B8%80%E4%BA%9B%E6%84%9F%E6%83%B3\" title=\"\u4e00\u4e9b\u611f\u60f3\">\u4e00\u4e9b\u611f\u60f3<\/a><\/li><li class='ez-toc-page-1 ez-toc-heading-level-4'><a class=\"ez-toc-link ez-toc-heading-12\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\/#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\" title=\"\u53c2\u8003\u8d44\u6599\">\u53c2\u8003\u8d44\u6599<\/a><\/li><\/ul><\/nav><\/div>\n<h4><span class=\"ez-toc-section\" id=\"%E5%8E%86%E5%8F%B2%E7%9A%84%E5%B0%98%E5%9F%83\"><\/span>\u5386\u53f2\u7684\u5c18\u57c3<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>Unix\u4f5c\u4e3a\u4e00\u4e2a\u4e3e\u4e16\u95fb\u540d\u7684\u64cd\u4f5c\u7cfb\u7edf\u5df2\u670940\u4f59\u5e74\u7684\u5386\u53f2\uff0c\u56f4\u7ed5\u7740\u8fd9\u4e2a\u53e4\u8001\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684\u53d1\u5c55\u53c8\u884d\u751f\u51fa\u4e86\u4e00\u7cfb\u5217\u5916\u56f4\u8f6f\u4ef6\u751f\u6001\u7fa4\uff0c\u5176\u4e2d\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u7ec4\u4ef6\u5c31\u662fshell\u3002<strong>\u5b83\u662f\u64cd\u4f5c\u7cfb\u7edf\u6700\u5916\u5c42\u7684\u63a5\u53e3\uff0c\u8d1f\u8d23\u76f4\u63a5\u9762\u5411\u7528\u6237\u4ea4\u4e92\u5e76\u63d0\u4f9b\u5185\u6838\u670d\u52a1\uff0c<\/strong>\u5305\u62ec\u547d\u4ee4\u884c\u63a5\u53e3(CLI)\u6216\u56fe\u5f62\u754c\u9762\u63a5\u53e3(GUI)\u4e24\u79cd\u5f62\u5f0f\u3002\u4ee5CLI\u4e3a\u4f8b\uff0c\u5b83\u63d0\u4f9b\u4e00\u5957\u547d\u4ee4\u89c4\u8303\uff0c\u662f\u4e00\u79cd\u89e3\u91ca\u6027\u8bed\u8a00\uff0c\u5c06\u7528\u6237\u8f93\u5165\u7ecf\u8fc7\u89e3\u91ca\u5668(interpreter)\u8f93\u51fa\u4f7f\u5176\u8f6c\u5316\u6210\u771f\u6b63\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u5b9e\u73b0\u4eba\u673a\u4ea4\u4e92\u7684\u529f\u80fd\u3002<\/p>\n<p>\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e00\u6837\uff0cshell\u4e5f\u7ecf\u5386\u4e86\u4e00\u4e2a\u6f2b\u957f\u7684\u6f14\u53d8\u53f2\u3002\u5982\u4eca\u5927\u90e8\u5206\u8d44\u6599\u8bb2\u8ff0\u6700\u53e4\u8001\u7684shell\u90fd\u662f\u4ece1977\u5e74\u7684<a href=\"http:\/\/en.wikipedia.org\/wiki\/Bourne_shell\" target=\"_blank\">Bourne Shell<\/a>\u8bf4\u8d77\u7684\uff0c\u5b83\u6700\u521d\u79fb\u690d\u5230<a href=\"http:\/\/en.wikipedia.org\/wiki\/Version_7_Unix\" target=\"_blank\">Unix V7<\/a>\u4e0a\uff0c\u88ab\u8ffd\u8ba4\u6574\u4e2ashell\u5bb6\u65cf\u6210\u5458\u7684\u9f3b\u7956\uff0c\u540e\u6765\u7684\u79cd\u7fa4\u90fd\u662f\u4ece\u5176\u8eab\u4e0a\u5206\u652f\u51fa\u6765\u7684\u3002<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" alt=\"Linux shells since 1977 \" src=\"https:\/\/www.ibm.com\/developerworks\/linux\/library\/l-linux-shells\/figure1.gif\" \/><\/p>\n<p>\u5bf9\u4e8e1977\u5e74\u4e4b\u524d\u7684\u5386\u53f2\u5f88\u591a\u8d44\u6599\u5927\u591a\u4e00\u7b14\u5e26\u8fc7\u6216\u7565\u8fc7\u4e0d\u63d0\u3002\u4e8b\u5b9e\u4e0a\uff0c\u7b2c\u4e00\u4e2a\u79fb\u690d\u5230Unix\u4e0a\u7684shell\u5374\u4e0d\u662f<a href=\"http:\/\/en.wikipedia.org\/wiki\/Stephen_Richard_Bourne\" target=\"_blank\">Steve Bourne<\/a>\u5199\u7684\uff0c\u65e9\u57281975\u5e745\u6708\uff0c\u8d1d\u5c14\u5b9e\u9a8c\u5ba4\u5c31\u5bf9\u5916\u53d1\u5e03\u4e86\u7b2c\u4e00\u4e2a\u5e7f\u6cdb\u4f20\u64ad\u7684Unix\u7248\u672c\u2014\u2014<a href=\"http:\/\/en.wikipedia.org\/wiki\/UNIX_V6\" target=\"_blank\">Unix V6<\/a>\uff08\u4e4b\u524d\u5f00\u53d1\u7684\u7248\u672c\u53ea\u4f9b\u5185\u90e8\u7814\u7a76\u4e4b\u7528\uff09\uff0c\u5176\u6839\u76ee\u5f55\u4e0b\u7684\/bin\/sh\u662f\u7b2c\u4e00\u4e2aUnix\u81ea\u5e26\u7684shell\uff0c\u7531Ken Thompson\u5199\u7684\uff0c\u56e0\u6b64\u4e5f\u88ab\u79f0\u4e3a<a href=\"http:\/\/en.wikipedia.org\/wiki\/Thompson_shell\" target=\"_blank\">Thompson Shell<\/a>\u3002\u751a\u81f3\uff0c\u66f4\u65e9\u53ef\u4ee5\u8ffd\u6eaf\u52301971\u5e74\u7684\u65f6\u5019\uff0cThompson Shell\u5c31\u4f5c\u4e3a\u4e00\u4e2a\u72ec\u7acb\u4e8e\u5185\u6838\u7684\u5e94\u7528\u7a0b\u5e8f\u800c\u5b9e\u73b0\u4e86\uff0c\u53ea\u4e0d\u8fc7\u4ece1975\u5e74\u6b63\u5f0f\u95ee\u4e16\u52301977\u5e74\u88ab\u53d6\u4ee3\uff0c\u77ed\u77ed\u4e24\u5e74\u7684\u5bff\u547d\u4f7f\u5f97\u5b83\u5f88\u5c11\u4e3a\u5927\u591a\u6570\u4eba\u6240\u8ba4\u8bc6\u3002<\/p>\n<p><!--more--><\/p>\n<p>\u5173\u4e8eThompson Shell\u88ab\u53d6\u4ee3\u7684\u539f\u56e0\u5728\u540e\u6587\u4e2d\u4f1a\u7ed9\u51fa\u8bf4\u660e\uff0c\u8fd9\u91cc\u7740\u91cd\u4ecb\u7ecd\u4e00\u4e0b\u8be5shell\u672c\u8eab\u7684\u4e00\u4e9b\u6280\u672f\u7ec6\u8282\u3002\u5766\u767d\u8bb2\uff0c\u5173\u4e8eThompson Shell\u7684\u8d44\u6599\u6709\u70b9\u7a00\u7f3a\uff0c\u4f46\u81f3\u5c11\u8fd8\u80fd\u4ece\u7f51\u4e0a\u627e\u5230<a href=\"http:\/\/minnie.tuhs.org\/Archive\/PDP-11\/Distributions\/research\/Dennis_v6\/\" target=\"_blank\">\u6e90\u4ee3\u7801<\/a>\u548c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\" target=\"_blank\">\u5728\u7ebf\u6587\u6863<\/a>\u3002Thompson Shell\u672c\u8eab\u662f\u7531\u4e00\u4e2a\u4e0d\u8db3900\u884c\u4ee3\u7801\u7684\u89e3\u91ca\u5668\u548c\u4e00\u4e9b\u5916\u90e8\u547d\u4ee4\u5de5\u5177\u7ec4\u4ef6(utilities)\u6784\u6210\uff0c\u7528<a href=\"http:\/\/en.wikipedia.org\/wiki\/K%26R_C#K.26R_C\" target=\"_blank\">K&amp;R C<\/a>\u5199\u6210\uff0c\u4e0b\u9762\u7ed9\u51fa\u5404\u4e2a\u7ec4\u4ef6\u7684\u76f8\u5173\u6e90\u7801\u548c\u6587\u6863\u94fe\u63a5\u3002<\/p>\n<ul>\n<li><strong>\u89e3\u91ca\u5668sh<\/strong>\uff1a\u89e3\u6790\u5404\u79cdshell\u547d\u4ee4\uff0c\u5305\u62ec\u5185\u7f6e\u547d\u4ee4\u548c\u5916\u90e8\u547d\u4ee4\uff1b\u6e90\u7801sh.c\uff1b\u5b89\u88c5\u8def\u5f84\/bin\/sh\uff1b\u624b\u518c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/sh.1\" target=\"_blank\">sh(1)<\/a>\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u5185\u7f6e\u547d\u4ee4<\/strong>\u624b\u518c\u5305\u62ec<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/chdir.1\" target=\"_blank\">chdir(1)<\/a>\uff0c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/login.1\" target=\"_blank\">login(1)<\/a>\uff0c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/newgrp.1\" target=\"_blank\">newgrp(1)<\/a>\uff0c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/shift.1\" target=\"_blank\">shift(1)<\/a>\uff0c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/wait.1\" target=\"_blank\">wait(1)<\/a>\u3002<\/li>\n<\/ul>\n<p>\u4e0b\u9762\u662f\u5916\u90e8\u547d\u4ee4\uff1a<\/p>\n<ul>\n<li><strong>exit\u547d\u4ee4<\/strong>\uff1a\u9000\u51fa\u4e00\u4e2a\u6587\u4ef6\uff1b\u6e90\u7801exit.c\uff1b\u5b89\u88c5\u8def\u5f84\/bin\/exit\uff1b\u624b\u518c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/exit.1\" target=\"_blank\">exit(1)<\/a>\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>goto\u547d\u4ee4<\/strong>\uff1a\u5728\u4e00\u4e2a\u6587\u4ef6\u5185\u8df3\u8f6cshell\u63a7\u5236\u6d41\u7a0b\uff1b\u6e90\u7801goto.c\uff1b\u5b89\u88c5\u8def\u5f84\/bin\/goto\uff1b\u624b\u518c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/goto.1\" target=\"_blank\">goto(1)<\/a>\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>if\u547d\u4ee4<\/strong>\uff1a\u6761\u4ef6\u5224\u65ad\u8868\u8fbe\u5f0f\uff0c\u662ftest\u547d\u4ee4\u7684\u524d\u8eab\uff1b\u6e90\u7801if.c\uff1b\u5b89\u88c5\u8def\u5f84\/bin\/if), \u624b\u518c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/if.1\" target=\"_blank\">if(1)<\/a>\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>glob\u547d\u4ee4<\/strong>\uff1a\u6269\u5c55\u547d\u4ee4\u53c2\u6570\u901a\u914d\u7b26\uff1b\u6e90\u7801glob.c\uff1b\u5b89\u88c5\u8def\u5f84\/etc\/glob\uff1b\u624b\u518c<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man8\/glob.8\" target=\"_blank\">glob(8)<\/a>\u3002<\/li>\n<\/ul>\n<h4><span class=\"ez-toc-section\" id=\"%E5%91%BD%E4%BB%A4%E7%BB%93%E6%9E%84%E5%92%8C%E8%A7%84%E8%8C%83\"><\/span>\u547d\u4ee4\u7ed3\u6784\u548c\u89c4\u8303<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u5c3d\u7ba1\u540e\u6765\u906d\u201c\u57cb\u6c70\u201d\uff0cThompson Shell\u4ecd\u6709\u7740\u4e0d\u5bb9\u5426\u8ba4\u7684\u5386\u53f2\u5730\u4f4d\uff0c\u5176\u6700\u5927\u7684\u4ef7\u503c\u5728\u4e8e<strong>\u5b83\u5960\u5b9a\u4e86shell\u547d\u4ee4\u8bed\u8a00\u7ed3\u6784\u548c\u89c4\u8303\u7684\u57fa\u7840\uff0c\u800c\u4e14\u5176\u89e3\u91ca\u5668\u5177\u6709\u8de8\u5e73\u53f0\u7684\u53ef\u79fb\u690d\u6027\uff0c\u5e76\u5f71\u54cd\u5230\u4e86\u540e\u6765\u5305\u62ecBourne Shell\u5728\u5185\u7684\u5404\u79cd\u811a\u672c\u8bed\u8a00\u8bbe\u8ba1\u5b9e\u73b0\u3002<\/strong>\u4e0b\u9762\u6211\u4eec\u5c31\u4ee5\u5176\u4e2d5\u4e2a\u7279\u6027\u91cd\u6e29\u4e00\u4e9b\u5927\u5bb6\u5df2\u7ecf\u8033\u719f\u80fd\u8be6\u7684\u547d\u4ee4\u89c4\u8303\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/sh.1\" target=\"_blank\">sh(1)<\/a>\u624b\u518c\u67e5\u770b\u539f\u59cb\u8d44\u6599\u3002<\/p>\n<ul>\n<li><strong>\u8fc7\u6ee4\u5668\/\u7ba1\u9053\u7ebf(filter\/pipeline)\u3002<\/strong>\u8fd9\u7edd\u5bf9\u662f\u8981\u8f7d\u5165Unix\u53f2\u518c\u7684\u53d1\u660e\uff0c\u521b\u7acb\u8005\u662f<a href=\"http:\/\/en.wikipedia.org\/wiki\/Douglas_McIlroy\" target=\"_blank\">Douglas McIlroy<\/a>\uff0cThompson Shell\u5f15\u5165\u5e76\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u4f1f\u5927\u7684\u6982\u5ff5\u2014\u2014\u4e00\u4e2a\u6216\u591a\u4e2a\u547d\u4ee4\u7ec4\u6210\u4e00\u6839\u8fc7\u6ee4\u5668\u7684\u94fe\u6761\uff0c\u7531&#8217;|&#8217;\u6216&#8217;^&#8217;\u7b26\u53f7\u5206\u9694\u3002\u9664\u6700\u540e\u4e00\u4e2a\u547d\u4ee4\u4e4b\u5916\uff0c\u6bcf\u4e2a\u547d\u4ee4\u7684\u6807\u51c6\u8f93\u51fa\u90fd\u88ab\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u547d\u4ee4\u7684\u6807\u51c6\u8f93\u5165\u3002\u8fd9\u6837\u6bcf\u4e2a\u547d\u4ee4\u90fd\u4f5c\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7684\u8fdb\u7a0b\u6765\u8fd0\u884c\uff0c\u5e76\u901a\u8fc7\u7ba1\u9053\u4e0e\u90bb\u8fd1\u7684\u8fdb\u7a0b\u76f8\u8fde\u63a5\u3002\u5706\u62ec\u5f27\u5185\u7684\u547d\u4ee4\u5e8f\u5217\u6574\u4f53\u4e0a\u53ef\u4ee5\u66ff\u4ee3\u5355\u4e2a\u547d\u4ee4\u4f5c\u4e3a\u8fc7\u6ee4\u5668\u5b9e\u73b0\uff0c\u6bd4\u5982\u7528\u6237\u53ef\u4ee5\u8f93\u5165&#8221;(A;B)|C&#8221;\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u547d\u4ee4\u5e8f\u5217\u548c\u540e\u53f0\u8fdb\u7a0b\u3002<\/strong>\u5206\u53f7&#8217;;&#8217;\u6307\u793a\u591a\u4e2a\u547d\u4ee4\u5e8f\u5217\u5316\u6267\u884c\u3002&#8217;&amp;&#8217;\u7b26\u53f7\u6307\u793a\u8be5\u547d\u4ee4\u5728\u540e\u53f0\u5f02\u6b65\u6267\u884c\uff0c\u4f7f\u5f97\u524d\u9762\u7684\u7ba1\u9053\u7ebf\u4e0d\u5fc5\u7b49\u5f85\u5176\u7ec8\u6b62\uff0c\u4ec5\u4ec5\u62a5\u544a\u4e00\u4e2a\u8fdb\u7a0bid\uff0c\u8fd9\u6837\u7528\u6237\u4ee5\u540e\u53ef\u4ee5\u901a\u8fc7kill\u547d\u4ee4\u4e0e\u5b83\u901a\u4fe1\u3002\u6709\u76ca\u4e8e\u8fdb\u7a0b\u7ba1\u7406\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>I\/O\u91cd\u5b9a\u5411\u3002<\/strong>\u5b83\u5229\u7528\u4e86Unix\u8bbe\u8ba1\u4e0a\u7684\u4e00\u4e2a\u91cd\u8981\u7279\u6027\u2014\u2014<strong>\u4e00\u5207\u7686\u6587\u4ef6<\/strong>\uff0c\u7528\u4e09\u4e2a\u7b26\u53f7\u8868\u793a\uff1a&#8221;\u91cd\u5b9a\u5411\u8f93\u51fa\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u5b83\uff0c\u5982\u679c\u6587\u4ef6\u5b58\u5728\u5219\u622a\u65ad\u5b83\uff1b&#8217;&gt;&gt;&#8217;\u8ffd\u52a0\u6a21\u5f0f\u91cd\u5b9a\u5411\u8f93\u51fa\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u5b83\uff0c\u5982\u679c\u6587\u4ef6\u5b58\u5728\u5219\u8ffd\u52a0\u8f93\u51fa\u81f3\u672b\u5c3e\u5904\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u901a\u914d\u7b26\u6269\u5c55(globbing)\u3002<\/strong>\u901a\u914d\u7b26\u7684\u6982\u5ff5\u6e90\u81ea\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4f7f\u5f97\u89e3\u91ca\u5668\u667a\u80fd\u5730\u5904\u7406\u7528\u6237\u4e0d\u5b8c\u5168\u8f93\u5165\uff0c\u6bd4\u5982\u8bb0\u4e0d\u6e05\u6587\u4ef6\u540d\u3001\u4e00\u6b21\u6027\u8f93\u5165\u591a\u4e2a\u6587\u4ef6\u7b49\u3002&#8217;?&#8217;\u5339\u914d\u4efb\u610f\u5355\u4e00\u5b57\u7b26\uff1b&#8217;*&#8217;\u5339\u914d\u4efb\u610f\u5b57\u7b26\u4e32\uff08\u5305\u62ec\u7a7a\u4e32\uff09\uff1b\u6210\u5bf9'[&#8216;\u548c&#8217;]&#8217;\u5b9a\u4e49\u4e86\u5b57\u7b26\u96c6\u5408\u4e00\u4e2a\u7c7b\uff0c\u53ef\u5339\u914d\u65b9\u62ec\u53f7\u5185\u4efb\u610f\u6210\u5458\uff0c\u7528&#8217;-&#8216;\u4e24\u7aef\u53ef\u6307\u5b9a\u4e00\u7cfb\u5217\u8fde\u7eed\u5b57\u7b26\u5339\u914d\u8303\u56f4\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u53c2\u6570\u4f20\u9012\u3002<\/strong>\u8fd9\u91cc\u4e3b\u8981\u5f15\u5165\u4e86\u4f4d\u7f6e\u53c2\u6570\u548c\u9009\u9879\u53c2\u6570\u7684\u6982\u5ff5\uff1a&#8217;$n&#8217;\u6307\u793ashell\u8c03\u7528\u7684\u7b2cn\u4e2a\u53c2\u6570\u66ff\u4ee3\uff1b\u8fd8\u5b9a\u4e49\u4e86\u4e24\u4e2a\u9009\u9879\u53c2\u6570&#8217;-t&#8217;\u548c&#8217;-c&#8217;\uff0c\u524d\u8005\u7528\u4e8e\u4ea4\u4e92\uff0c\u5bfc\u81f4shell\u4ece\u6807\u51c6\u8f93\u5165\u4e2d\u8bfb\u5165\u4e00\u884c\u4f5c\u4e3a\u7528\u6237\u6267\u884c\u7684\u7cfb\u7edf\u547d\u4ee4\uff0c\u540e\u8005\u6307\u793ashell\u5c06\u9644\u5e26\u7684\u4e0b\u4e00\u4e2a\u53c2\u6570\u4f5c\u4e3a\u547d\u4ee4\u6267\u884c\uff08\u53ef\u6b63\u786e\u5904\u7406\u6362\u884c\u7b26\uff09\uff0c\u662f\u5bf9&#8217;-t&#8217;\u7684\u8865\u5145\uff0c\u7279\u522b\u662f\u8c03\u7528\u8005\u5df2\u7ecf\u8bfb\u53d6\u4e86\u547d\u4ee4\u5176\u4e2d\u67d0\u4e9b\u5b57\u7b26\u7684\u60c5\u51b5\u4e0b\u3002\u5982\u679c\u4e0d\u5e26\u9009\u9879\u53c2\u6570\u5219\u76f4\u63a5\u8bfb\u53d6\u6587\u4ef6\u540d<\/li>\n<\/ul>\n<h4><span class=\"ez-toc-section\" id=\"%E8%A7%A3%E9%87%8A%E5%99%A8%E7%9A%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E7%8E%B0\"><\/span>\u89e3\u91ca\u5668\u7684\u539f\u7406\u4e0e\u5b9e\u73b0<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u63a5\u4e0b\u6765\u9a6c\u4e0a\u8981\u8fdb\u5165\u6838\u5fc3\u90e8\u5206\u4e86\uff0c\u4e3a\u4e86\u641e\u61c2shell\u89e3\u91ca\u5668\u539f\u7406\uff0c\u6211\u4eec\u8981\u5bf9\u5176\u6574\u4e2a\u5de5\u4f5c\u6d41\u7a0b\u505a\u4e2a\u63cf\u8ff0\uff08\u8fd9\u91cc\u7ed9\u51fa\u4e00\u4efd\u5e26\u6ce8\u89e3\u7684sh.c\u6e90\u7801\u5256\u6790\uff09\u3002\u8bfb\u8fc7\u300a\u7f16\u8bd1\u539f\u7406\u300b\u7684\u540c\u5b66\u77e5\u9053\uff0c\u89e3\u91ca\u5668\u7684\u5b9e\u73b0\u8ddf\u7f16\u8bd1\u5668\u5dee\u4e0d\u591a\uff0c\u53ea\u4e0d\u8fc7\u7701\u7565\u4e86\u751f\u6210\u76ee\u6807\u4ee3\u7801\u8fd9\u4e00\u6b65\uff0c\u76f4\u63a5\u5c06\u7528\u6237\u8f93\u5165\uff08shell\u547d\u4ee4\uff09\u8f6c\u5316\u6210\u8f93\u51fa\uff08\u7cfb\u7edf\u8c03\u7528\uff09\u3002<strong>\u8f6f\u4ef6\u524d\u7aef\u662f\u4e00\u81f4\u7684\uff0c\u5305\u62ec\u9884\u5904\u7406\u3001\u8bcd\u6cd5\u626b\u63cf\u3001\u8bed\u6cd5\u5206\u6790\u548c\u8bed\u4e49\u5206\u6790\uff0c\u6700\u540e\u8fd8\u8981\u9644\u52a0\u4e00\u4e2a\u8fdb\u7a0b\u7ba1\u7406\u3002<\/strong>\u5f53\u7136\u76f8\u8f83\u4e8e\u73b0\u4ee3\u7f16\u8bd1\u5668\uff0cThompson Shell\u89e3\u91ca\u5668\u5728\u7b97\u6cd5\u548c\u89c4\u6a21\u4e0a\u90fd\u8981\u7b80\u5355\u5f97\u591a\uff0c\u4e0d\u8fc7\u539f\u7406\u4e0a\u662f\u76f8\u901a\u7684\uff0c\u4f55\u51b5\u5e74\u4ee3\u4e0a\u8981\u6bd4Lex &amp; Yacc\u8fd8\u8981\u65e9\u3002\u9ebb\u96c0\u867d\u5c0f\uff0c\u4e94\u810f\u4ff1\u5168\uff0c\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u4eceThompson Shell\u53bb\u5165\u624b\u7f16\u8bd1\u539f\u7406\u6216\u8bb8\u4e0d\u5931\u4e3a\u4e00\u79cd\u597d\u9009\u62e9\u3002<\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E9%A2%84%E5%A4%84%E7%90%86preprocessor\"><\/span>\u9884\u5904\u7406(preprocessor)<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u540cC\u9884\u5904\u7406\u5668\u9700\u8981\u4e8b\u5148\u5c06\u6e90\u4ee3\u7801\u4e2d\u5305\u542b\u7684\u5b8f\u548c\u5934\u6587\u4ef6\u5c55\u5f00\u4e00\u6837\uff0cThompson Shell\u9996\u5148\u9700\u8981\u5904\u7406\u547d\u4ee4\u4e2d\u7684<strong>\u9009\u9879\u53c2\u6570<\/strong>\u548c<strong>\u4f4d\u7f6e\u53c2\u6570<\/strong>\u3002\u9009\u9879\u53c2\u6570\u6709\u4e24\u79cd&#8217;-t&#8217;\u548c&#8217;-c&#8217;\uff0c\u51b3\u5b9a\u4e86shell\u4ece\u6807\u51c6\u8f93\u5165\u8fd8\u662f\u53c2\u6570\u7f13\u5b58\u4e2d\u8bfb\u53d6\u5b57\u7b26\uff08\u89c1<a href=\"http:\/\/minnie.tuhs.org\/cgi-bin\/utree.pl?file=V6\/usr\/man\/man1\/sh.1\" target=\"_blank\">sh(1)<\/a>\uff09\u3002\u6b64\u5916\u5b57\u7b26\u5e8f\u5217\u4e2d\u8fd8\u8981\u5904\u7406<strong>\u53cd\u659c\u6760&#8217;\\&#8217;<\/strong>\uff0c\u5224\u65ad\u662f\u8f6c\u4e49\u5b57\u7b26\u8fd8\u662f\u884c\u63a5\u7eed\u7b26\uff0c\u524d\u8005\u5bf9\u4e0b\u4e00\u4e2a\u5b57\u7b26\u8bbe\u7f6e\u5f15\u7528\u6807\u8bc6\uff0c\u8868\u660e\u505a\u666e\u901a\u5b57\u7b26\u5904\u7406\uff0c\u540e\u8005\u5c06\u7d27\u90bb\u5176\u540e\u6362\u884c\u7b26\u8fc7\u6ee4\u6389\u3002<\/p>\n<p>\u4f4d\u7f6e\u53c2\u6570\u662f<strong>\u7f8e\u5143\u7b26\u53f7&#8217;$&#8217;<\/strong>\u6253\u5934\u7684\uff0c\u540e\u5e26\u4e00\u4e2a\u6570\u5b57\uff0c\u5982&#8217;$n&#8217;\uff0c\u9884\u5904\u7406\u5668\u5bf9shell\u547d\u4ee4\u53c2\u6570\u4ece\u5934\u5f00\u59cb\u8ba1\u6570\uff0c\u8fd4\u56de\u6570\u5b57n\u6307\u5b9a\u7684\u53c2\u6570\u4f4d\u7f6e\u3002\u5982\u679c\u9047\u4e0adouble&#8217;$$&#8217;\uff0c\u5219\u8868\u793a\u5f53\u524d\u7684\u8fdb\u7a0b\u6807\u8bc6\uff0c\u8c03\u7528getpid()\u83b7\u53d6\u3002<\/p>\n<p>\u6ce8\u610f\u5230\u9884\u5904\u7406\u5668\u9700\u8981\u4e00\u6b21\u8bfb\u53d6\u591a\u4e2a\u5b57\u7b26\uff0c\u8fd9\u6837\u5c31\u4f1a\u591a\u8bfb\u4e00\u4e2a\u4e0d\u5fc5\u8981\u7684\u5b57\u7b26\u3002\u5bf9\u6b64\u89e3\u91ca\u5668\u63d0\u4f9b\u4e86\u4e00\u79cd<strong>\u9884\u8bfb(peek)<\/strong>\u65b9\u5f0f\uff0c\u5373\u6bcf\u6b21\u4ece\u8f93\u5165\u6d41\u8bfb\u53d6\u4e00\u4e2a\u5b57\u7b26\u65f6\uff0c\u653e\u5165\u4e00\u4e2a\u9884\u8bfb\u7f13\u5b58\u91cc\uff08\u53ea\u6709\u4e00\u4e2aint\u5927\u5c0f\u7684\u5806\u6808\uff09\uff0c\u4e5f\u53eb<strong>\u56de\u9000(push back)<\/strong>\u3002\u6b64\u540e\u5148\u4ece\u9884\u8bfb\u7f13\u5b58\u4e2d\u8bfb\u53d6\uff0c\u5982\u679c\u7f13\u5b58\u88ab\u8bfb\u5b8c\uff0c\u5219\u4ece\u8f93\u5165\u6d41\u4e2d\u8bfb\u53d6\u3002<\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E8%AF%8D%E6%B3%95%E6%89%AB%E6%8F%8Flexical_scanning\"><\/span>\u8bcd\u6cd5\u626b\u63cf(lexical scanning)<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u7ecf\u8fc7\u9884\u5904\u7406\u540e\u7684\u5b57\u7b26\u5e8f\u5217\u5c06\u88ab\u5207\u5272\u6210\u4e3a\u4e00\u7cfb\u5217<strong>\u8bcd\u6cd5\u8bb0\u53f7(token)<\/strong>\uff0c\u5b89\u7f6e\u5728token\u5217\u8868\u4e2d\uff0c\u626b\u63cf\u5668\u5c06\u5bf9\u4ee5\u4e0b\u51e0\u7c7b\u5b57\u7b26\u505a\u5982\u4e0b\u5904\u7406\u3002<\/p>\n<ul>\n<li><strong>\u7a7a\u683c\u548ctab<\/strong>\uff1a\u7b80\u5355\u8fc7\u6ee4\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u5f15\u53f7<\/strong>\uff1a\u9700\u8981\u6210\u5bf9\u51fa\u73b0\uff0c\u5b57\u7b26\u672c\u8eab\u88ab\u8fc7\u6ee4\uff0c\u4e00\u5bf9\u5f15\u53f7\u4e4b\u95f4\u6240\u6709\u5b57\u7b26\u90fd\u88ab\u8bbe\u7f6e\u5f15\u7528\u6807\u8bc6\uff0c\u4f5c\u4e3a\u4e00\u4e2atoken\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u5143\u5b57\u7b26<\/strong>\uff1a\u5982&#8217;&amp;&#8217;\uff0c&#8217;|&#8217;\u7b49\uff0c\u5b57\u7b26\u672c\u8eab\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ectoken\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u5176\u4ed6\u5b57\u7b26<\/strong>\uff1a\u4e00\u5f8b\u586b\u5145token\uff0c\u76f4\u5230\u78b0\u4e0a\u4ee5\u4e0a\u5b57\u7b26\u5206\u9694\u4e3a\u6b62\u3002<\/li>\n<\/ul>\n<p>\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5f53\u6211\u4eec\u8f93\u5165\u547d\u4ee4&#8221;(ls; cat tail) &gt;junk&#8221;\uff0c\u90a3\u4e48token\u5217\u8868\u6620\u50cf\u5c06\u662f\u8fd9\u6837\u7684\uff1a<\/p>\n<p style=\"text-align: center;\"><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter  wp-image-9537\" alt=\"\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg\" width=\"523\" height=\"176\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg 872w, https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1-300x101.jpg 300w\" sizes=\"(max-width: 523px) 100vw, 523px\" \/><\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90syntax_parser\"><\/span>\u8bed\u6cd5\u5206\u6790(syntax parser)<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u8bed\u6cd5\u5206\u6790\u5c31\u662f\u5c06token\u5217\u8868\u4e2d\u7684\u5143\u7d20\u4f5c\u4e3a<strong>\u8868\u8fbe\u5f0f(expression)<\/strong>\u5e76\u4ee5\u8282\u70b9\u4e3a\u5355\u4f4d\u6784\u5efa\u8bed\u6cd5\u6811\uff0c\u7b80\u5355\u547d\u4ee4\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u800c\u590d\u5408\u547d\u4ee4\u4ee5\u53ca\u547d\u4ee4\u5e8f\u5217\u662f\u591a\u4e2a\u8868\u8fbe\u5f0f\u7684\u7ec4\u5408\u3002Thompson Shell\u4e2d\u4ee5\u7b80\u5355\u6570\u7ec4\u4f5c\u4e3a\u8bed\u6cd5\u6811\u7684\u5bb9\u5668\uff0c\u5b9e\u9645\u4e0a\u8fd9\u662f\u7ed3\u6784\u4f53\u7684\u4e00\u79cd\u53d8\u5f62\uff0c\u53ea\u4e0d\u8fc7\u6bcf\u4e2a\u6210\u5458\u5b57\u6bb5\u5927\u5c0f\u90fd\u4e00\u6837\uff08\u90fd\u662fsizeof int\uff09\u800c\u5df2\u3002\u4e00\u4e2a\u8bed\u6cd5\u6811\u8282\u70b9\u6700\u591a\u67096\u4e2a\u5b57\u6bb5\uff08\u5927\u5c0f\u6839\u636e\u7c7b\u578b\u53ef\u53d8\uff09\uff0c\u5206\u522b\u662f<\/p>\n<ul>\n<li><strong>DTYP\uff08\u8282\u70b9\u7c7b\u578b\uff09<\/strong>\uff1a\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u552f\u4e00\u7684\u7c7b\u578b\uff0c\u53c8\u5206\u4e3a\u56db\u79cd\u2014\u2014TCOM\uff08\u7b80\u5355\u547d\u4ee4\uff09\u3001TPAR\uff08\u590d\u5408\u547d\u4ee4\uff09\u3001TFIL\uff08\u8fc7\u6ee4\u5668\/\u7ba1\u9053\u7ebf\uff09\u3001TLST\uff08\u547d\u4ee4\u5e8f\u5217\uff09\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>DLEF\uff08\u5de6\u5b50\u6811\u8282\u70b9\uff09<\/strong>\uff1a\u76f8\u5f53\u4e8e\u94fe\u8868\u6307\u9488\uff0c\u6839\u636eDTYP\u5b9a\u4e49\u6709\u6240\u4e0d\u540c\u3002\u5982\u8fc7\u6ee4\u5668\u7c7b\u578b\u5de6\u5b50\u6811\u8282\u70b9\u4e3a\u524d\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u91cd\u5b9a\u5411\u6587\u4ef6\uff0c\u53f3\u5b50\u6811\u8282\u70b9\u4e3a\u540e\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u5165\u91cd\u5b9a\u5411\u6587\u4ef6\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>DRIG\uff08\u53f3\u5b50\u6811\u8282\u70b9\uff09<\/strong>\uff1a\u540c\u4e0a\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>DFLG\uff08\u8282\u70b9\u5c5e\u6027\uff09<\/strong>\uff1a\u8fd9\u662f\u4e2a\u6807\u5fd7\u4f4d(flag)\uff0c\u51b3\u5b9a\u8be5\u8282\u70b9\u5305\u542b\u547d\u4ee4\u7684\u5c5e\u6027\u4ee5\u53ca\u4ee5\u4ec0\u4e48\u6837\u7684\u72b6\u6001\u6267\u884c\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>DSPR\uff08\u5b50\u547d\u4ee4\uff09<\/strong>\uff1a\u4e24\u91cd\u542b\u4e49\uff0c\u5bf9\u4e8e\u7b80\u5355\u547d\u4ee4\uff0c\u8be5\u5b57\u6bb5\u4e3a\u7a7a\uff1b\u5bf9\u4e8e\u590d\u5408\u547d\u4ee4\uff0c\u8be5\u5b57\u6bb5\u6307\u5411\u5b50\u8bed\u6cd5\u6811\u8282\u70b9\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>DCOM\uff08\u547d\u4ee4\u5b57\u7b26\uff09<\/strong>\uff1a\u5f15\u7528\u547d\u4ee4\u5b57\u7b26\u5e8f\u5217\u3002<\/li>\n<\/ul>\n<p>\u8bed\u6cd5\u6811\u8282\u70b9\u751f\u6210\u987a\u5e8f\u6839\u636etoken\u5217\u8868\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684<strong>\u4f18\u5148\u7ea7(priority)<\/strong>\u800c\u5b9a\uff0c\u9996\u5148\u904d\u5386\u6574\u4e2a\u5217\u8868\uff0c\u627e\u5230\u4f18\u5148\u7ea7\u6700\u9ad8\u7684token\u4f5c\u4e3a\u6839\u8282\u70b9\uff0c\u518d\u5206\u522b\u751f\u6210\u5de6\u53f3\u5b50\u6811\uff0c\u8fd9\u662f\u4e00\u79cd\u6700\u7b80\u5355\u7684<strong>\u81ea\u9876\u5411\u4e0b(top-down)<\/strong>\u89e3\u51b3\u65b9\u6848\u3002\u5404\u4e2atoken\u4f18\u5148\u7ea7\u89c6DTYP\u5b57\u6bb5\u800c\u5b9a<\/p>\n<table class=\"aligncenter\" width=\"367\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p align=\"center\">\u4f18\u5148\u7ea7<\/p>\n<\/td>\n<td valign=\"top\" width=\"180\">\n<p align=\"center\">Token<\/p>\n<\/td>\n<td valign=\"top\" width=\"96\">\n<p align=\"center\">DTYP<\/p>\n<\/td>\n<\/tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p align=\"center\">\u7b2c\u4e00\u7ea7<\/p>\n<\/td>\n<td valign=\"top\" width=\"180\">\n<p align=\"center\">&#8216;&amp;&#8217; \u00a0&#8216;;&#8217; \u00a0&#8216;\\n&#8217;<\/p>\n<\/td>\n<td valign=\"top\" width=\"96\">\n<p align=\"center\">TLST<\/p>\n<\/td>\n<\/tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p align=\"center\">\u7b2c\u4e8c\u7ea7<\/p>\n<\/td>\n<td valign=\"top\" width=\"180\">\n<p align=\"center\">&#8216;|&#8217; \u00a0&#8216;^&#8217;<\/p>\n<\/td>\n<td valign=\"top\" width=\"96\">\n<p align=\"center\">TFIL<\/p>\n<\/td>\n<\/tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p align=\"center\">\u7b2c\u4e09\u7ea7<\/p>\n<\/td>\n<td valign=\"top\" width=\"180\">\n<p align=\"center\">\u00a0&#8216;(&#8216; \u00a0&#8216;)&#8217;<\/p>\n<\/td>\n<td valign=\"top\" width=\"96\">\n<p align=\"center\">TPAR<\/p>\n<\/td>\n<\/tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p align=\"center\">\u7b2c\u56db\u7ea7<\/p>\n<\/td>\n<td valign=\"top\" width=\"180\">\n<p align=\"center\">\u5176\u5b83\u5b57\u7b26<\/p>\n<\/td>\n<td valign=\"top\" width=\"96\">\n<p align=\"center\">TCOM<\/p>\n<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<p>\u8bed\u6cd5\u6811\u7684\u6784\u5efa\u8fc7\u7a0b\u4e2d\u8fd8\u4f7f\u7528\u4e86\u4e00\u79cd\u57fa\u4e8e<strong>\u201c\u6709\u9650\u72b6\u6001\u673a(finite-state machine)\u201d<\/strong>\u7684\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\uff0c\u5176\u5b9e\u73b0\u662f\u5c06\u6574\u4e2a\u903b\u8f91\u6d41\u7a0b\u5212\u5206\u4e3a\u56db\u4e2a\u72b6\u6001\uff1asyntax\u3001syn1\u3001syn2\u3001syn3\uff0c\u5bf9\u5e94\u4e8e\u4e0a\u9762token\u4f18\u5148\u7ea7\uff0c\u7a0b\u5e8f\u5728\u6bcf\u4e2a\u72b6\u6001\u4e0b\u90fd\u751f\u6210\u4e00\u4e2a\u76f8\u5e94\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u540c\u65f6\u8fd8\u751f\u6210\u56db\u79cd\u7b56\u7565\uff0c\u4ee5\u51b3\u8bae\u4e0b\u4e00\u6b65\u5c06\u8f6c\u79fb\u5230\u4f55\u79cd\u72b6\u6001\uff08\u6839\u636e\u4f18\u5148\u7ea7\u641c\u7d22\u5bf9\u5e94\u7684token\uff09\u3002\u8fd9\u4e2a\u56db\u79cd\u7b56\u7565\u5206\u522b\u662f<\/p>\n<ul>\n<li><strong>\u751f\u6210\u5de6\u5b50\u6811<\/strong>\uff1a\u5de6\u8fb9token\u5217\u8868\u9012\u8fdb\u5230\u4e0b\u5c42\u72b6\u6001\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u751f\u6210\u53f3\u5b50\u6811<\/strong>\uff1a\u53f3\u8fb9token\u5217\u8868\u5e76\u56de\u6eaf\u5230\u4e0a\u5c42\u72b6\u6001\u6216\u9012\u5f52\u8c03\u7528\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u627e\u4e0d\u5230\u5bf9\u5e94token<\/strong>\uff1a\u4fdd\u6301\u539f\u6709token\u5217\u8868\u9012\u8fdb\u5230\u4e0b\u5c42\u72b6\u6001\u3002<\/li>\n<\/ul>\n<ul>\n<li><strong>\u751f\u6210\u8282\u70b9<\/strong>\uff1a\u76f4\u63a5\u8fd4\u56de\u8282\u70b9\u3002<\/li>\n<\/ul>\n<p>\u5f53\u6211\u4eec\u904d\u5386\u5b8c\u6574\u4e2atoken\u5217\u8868\u540e\uff0c\u7a0b\u5e8f\u603b\u662f\u80fd\u8fd4\u56de\u6700\u521d\u7684\u8c03\u7528\u70b9\uff0c\u5373\u6839\u8282\u70b9\u4e0a\uff0c\u4ece\u800c\u751f\u6210\u4e00\u68f5\u5b8c\u6574\u7684\u8bed\u6cd5\u6811\u3002\u8fd9\u79cd\u7b97\u6cd5\u7684\u597d\u5904\u662f<strong>\u7a0b\u5e8f\u5458\u4e0d\u5fc5\u5173\u6ce8\u5177\u4f53\u5b9e\u73b0\u7684\u6bcf\u4e2a\u7ec6\u679d\u672b\u8282\uff0c\u53ea\u8981\u5173\u6ce8\u76f8\u5e94\u7684\u72b6\u6001\u5e76\u5236\u5b9a\u5bf9\u5e94\u7684\u8f6c\u79fb\u7b56\u7565\u5373\u53ef\u3002<\/strong>\u8fd8\u503c\u5f97\u4e00\u63d0\u7684\u662f\u6bcf\u4e2a\u8f6c\u79fb\u7b56\u7565\u90fd\u662f\u53d1\u751f\u5728\u8d4b\u503c\u8bed\u53e5\u6216\u8fd4\u56de\u8bed\u53e5\u4e0a\uff0c\u5e76\u4f7f\u7528\u51fd\u6570\u5b9e\u53c2\u4fdd\u5b58\u4e34\u65f6\u53d8\u91cf\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u8c03\u7528\u6b21\u6570\u8fc7\u591a\u5bfc\u81f4\u5806\u6808\u6ea2\u51fa\u3002<\/p>\n<p>\u4f9d\u65e7\u4e3e\u4e24\u4e2a\u4e2a\u4f8b\u5b50\uff0c\u6bd4\u5982\u547d\u4ee4&#8221;A &amp; ; B | C&#8221;\u5bf9\u5e94\u7684\u8bed\u6cd5\u6811<\/p>\n<p style=\"text-align: center;\"><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter  wp-image-9538\" alt=\"\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe2.jpg\" width=\"350\" height=\"264\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe2.jpg 546w, https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe2-300x226.jpg 300w\" sizes=\"(max-width: 350px) 100vw, 350px\" \/><\/p>\n<p>\u547d\u4ee4&#8221;(A ; B) | C&#8221;\u5bf9\u5e94\u7684\u8bed\u6cd5\u6811\uff1a<\/p>\n<p style=\"text-align: center;\"><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter  wp-image-9539\" alt=\"\" src=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe3.jpg\" width=\"350\" height=\"345\" srcset=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe3.jpg 584w, https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe3-300x295.jpg 300w\" sizes=\"(max-width: 350px) 100vw, 350px\" \/><\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90Semantic_Analyzer\"><\/span>\u8bed\u4e49\u5206\u6790(Semantic Analyzer)<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u8bed\u6cd5\u5206\u6790\u4ec5\u4ec5\u505c\u7559\u5728token\u8868\u8fbe\u5f0f\u5408\u6cd5\u6027\u5c42\u9762\u4e0a\uff0c\u5b83\u5e76\u4e0d\u77e5\u9053\u8be5\u8868\u8fbe\u5f0f\u662f\u5426\u6709\u610f\u4e49\uff0c\u6bd4\u5982\u54ea\u4e9b\u547d\u4ee4\u662f\u8981\u540e\u53f0\u8fd0\u884c\uff0c\u54ea\u4e9b\u547d\u4ee4\u7684I\/O\u88ab\u91cd\u5b9a\u5411\u5230\u7ba1\u9053\u7ebf\u4e0a\uff0c\u901a\u914d\u7b26\u8be5\u5982\u4f55\u6269\u5c55\u7b49\u7b49\uff0c\u8fd9\u65f6\u5019\u8981\u9760\u8bed\u4e49\u5206\u6790\u4e86\u3002\u8fd9\u91cc\u7684\u201c\u8bed\u4e49\u201d\u4f53\u73b0\u5728\u5bf9\u7279\u6b8a\u5b57\u7b26\u7684\u52a8\u6001\u5904\u7406\u4ee5\u53ca\u8bed\u6cd5\u6811\u8282\u70b9\u7684\u5b57\u6bb5\u8bbe\u7f6e\uff0c\u6839\u636e<strong>\u4e0a\u4e0b\u6587(context)<\/strong>\u800c\u5b9a\u3002\u6bd4\u5982\u5bf9\u4e8e\u5143\u5b57\u7b26&#8217;&gt;&#8217;\uff0c\u6211\u4eec\u8981\u5224\u65ad\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u54ea\u4e2a\u6587\u4ef6\uff0c\u662f\u622a\u65ad\u8fd8\u662f\u8ffd\u52a0\u3002\u5bf9\u4e8e\u901a\u914d\u7b26&#8217;?&#8217;\u3001&#8217;*&#8217;\u548c'[&#8230;]&#8217;\uff0c\u6211\u4eec\u8981\u51b3\u5b9a\u5bf9\u54ea\u4e9b\u5b57\u7b26\u8fdb\u884c\u6269\u5c55\uff0c\u8fd9\u4e9b\u5728\/etc\/glob\u4e2d\u4e13\u95e8\u5904\u7406\u3002\u5bf9\u4e8e\u8bed\u6cd5\u6811\u8282\u70b9\uff0c\u9664\u4e86\u81ea\u8eab\u56fa\u6709\u5c5e\u6027\u4e4b\u5916\uff0c\u8fd8\u9700\u8981\u7ee7\u627f\u4e0a\u5c42\u8282\u70b9\u7684\u5c5e\u6027\uff0c\u4ee5\u53ca\u4e0b\u63a8\u5c5e\u6027\u5230\u4e0b\u5c42\u5b50\u6811\u8282\u70b9\uff0c\u4e0b\u9762\u5217\u4e86\u4e00\u5f20\u8868\u683c\u8bf4\u660e\u3002<\/p>\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td valign=\"top\" width=\"67\">\n<p align=\"center\">DTYP<\/p>\n<\/td>\n<td valign=\"top\" width=\"217\">\n<p align=\"center\">DLEF\/DRIG<\/p>\n<\/td>\n<td valign=\"top\" width=\"227\">\n<p align=\"center\">DFLG<\/p>\n<\/td>\n<td valign=\"top\" width=\"57\">\n<p align=\"center\">DSPR<\/p>\n<\/td>\n<\/tr>\n<tr>\n<td valign=\"top\" width=\"67\">\n<p align=\"center\">TLST<\/p>\n<\/td>\n<td valign=\"top\" width=\"217\">\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u4e5f\u53ef\u4ee5\u662f\u5176\u5b83\u8282\u70b9\uff0c\u7c7b\u578b\u53ef\u4ee5\u662fTLST\/TFIL\/TCOM<\/td>\n<td valign=\"top\" width=\"227\">\u81ea\u8eab\u5c5e\u6027\u4e3a0\uff1b\u5982\u679c\u5e26&#8217;&amp;&#8217;\uff0c\u5219\u4e0b\u63a8\u5c5e\u6027FINT|FAND|FPRS\u5230\u5de6\u53f3\u5b50\u6811\uff08\u5ffd\u7565\u4fe1\u53f7\u3001\u540e\u53f0\u5f02\u6b65\uff0c\u6253\u5370pid\uff09<\/td>\n<td valign=\"top\" width=\"57\">\u7a7a<\/td>\n<\/tr>\n<tr>\n<td valign=\"top\" width=\"67\">\n<p align=\"center\">TFIL<\/p>\n<\/td>\n<td valign=\"top\" width=\"217\">\u5fc5\u987b\u540c\u65f6\u5b58\u5728\u3001\uff0c\u7c7b\u578b\u53ea\u80fd\u662fTCOM\u6216TPAR<\/td>\n<td valign=\"top\" width=\"227\">\u81ea\u8eab\u5c5e\u6027\u7ee7\u627f\u81ea\u4e0a\u5c42TLST\uff1b\u4e0b\u63a8FPIN\u5230\u5de6\u5b50\u6811\u8282\u70b9\uff1b\u4e0b\u63a8FPOU\u5230\u53f3\u5b50\u6811\u8282\u70b9\u3002<\/td>\n<td valign=\"top\" width=\"57\">\u7a7a<\/td>\n<\/tr>\n<tr>\n<td valign=\"top\" width=\"67\">\n<p align=\"center\">TPAR<\/p>\n<\/td>\n<td valign=\"top\" width=\"217\">\u7a7a<\/td>\n<td rowspan=\"2\" valign=\"top\" width=\"227\">\u7ee7\u627f\u4e0a\u5c42\u7684TLST\u548cTFIL\uff1b\u5982\u679c\u662f\u8ffd\u52a0\u6a21\u5f0f\u91cd\u5b9a\u5411\u8f93\u51fa\uff0c\u52a0\u4e0aFCAT\uff1b\u5982\u679c\u662f\u590d\u5408\u547d\u4ee4\u4e2d\u6700\u540e\u4e00\u4e2a\u5b50\u547d\u4ee4\uff0c\u52a0\u4e0aFPAR\uff0c \u5c06\u4e0d\u4f1afork\u5b50\u8fdb\u7a0b\u3002<\/td>\n<td valign=\"top\" width=\"57\">\u5b50\u547d\u4ee4<\/td>\n<\/tr>\n<tr>\n<td valign=\"top\" width=\"67\">\n<p align=\"center\">TCOM<\/p>\n<\/td>\n<td valign=\"top\" width=\"217\">\u5de6\u5b50\u6811\u8282\u70b9\u4e3a\u8f93\u5165\u91cd\u5b9a\u5411\u6587\u4ef6\uff0c\u53f3\u5b50\u6811\u4e3a\u8282\u70b9\u8f93\u51fa\u91cd\u5b9a\u5411\u6587\u4ef6\u3002<\/td>\n<td valign=\"top\" width=\"57\">\u7a7a<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<h4><span class=\"ez-toc-section\" id=\"%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4Executor\"><\/span>\u6267\u884c\u547d\u4ee4(Executor)<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u5f53\u524d\u9762\u4e00\u7cfb\u5217\u6b65\u9aa4\u4e4b\u540e\uff0c\u5982\u679c\u9519\u8bef\u8ba1\u6570\u4e3a0\uff0c\u5219\u89e3\u91ca\u5668\u4ece\u8bed\u6cd5\u6811\u7684\u6839\u8282\u70b9\u5f00\u59cb\uff0c<strong>\u6df1\u5ea6\u4f18\u5148\u904d\u5386<\/strong>\u6240\u6709\u8282\u70b9\uff0c\u5e76\u6839\u636e\u524d\u9762\u8bed\u6cd5\u548c\u8bed\u4e49\u5206\u6790\u5f97\u5230\u7684\u7c7b\u578b\u548c\u5c5e\u6027\uff0c\u4e00\u4e00\u6267\u884c\u6240\u5305\u542b\u7684\u547d\u4ee4\uff0c\u4ee5\u751f\u6210\u6700\u540e\u7684\u7cfb\u7edf\u8c03\u7528\u3002<\/p>\n<p>\u5bf9\u4e8e<strong>\u547d\u4ee4\u5e8f\u5217(TLST)\u8282\u70b9<\/strong>\uff0c\u4ece\u5de6\u81f3\u53f3\u987a\u5e8f\u6267\u884c\u5b50\u6811\u8282\u70b9\u547d\u4ee4\u3002<\/p>\n<p>\u5bf9\u4e8e<strong>\u8fc7\u6ee4\u5668(TFIL)\u8282\u70b9<\/strong>\uff0c\u521b\u5efa\u7ba1\u9053\u6587\u4ef6\u53e5\u67c4\uff0c\u4f5c\u4e3a\u5de6\u53f3\u5b50\u6811\u7684\u91cd\u5b9a\u5411\u6587\u4ef6\u3002<\/p>\n<p>\u5bf9\u4e8e<strong>\u7b80\u5355\u547d\u4ee4(TCOM)\u548c\u590d\u5408\u547d\u4ee4(TPAR)\u8282\u70b9<\/strong>\uff0c\u9996\u5148\u7b5b\u9009\u51fa\u7cfb\u7edf\u5185\u7f6e\u547d\u4ee4(built-in)\uff0c\u5bf9\u4e8e\u5269\u4e0b\u7684\u5916\u90e8\u547d\u4ee4\u5219fork\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u6267\u884c\u5b83\u3002\u5982\u679c\u662f\u590d\u5408\u547d\u4ee4\u4e2d\u6700\u540e\u4e00\u4e2a\u5b50\u547d\u4ee4\uff0c\u90a3\u4e48\u4ecd\u5728\u539f\u6765\u7684\u8fdb\u7a0b\u4e0a\u6267\u884c\u800c\u4e0d\u5fc5\u521b\u5efa\u65b0\u8fdb\u7a0b\u3002\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84\u6309\u5148\u540e\u987a\u5e8f\u641c\u7d22\uff1a\u2460\u672c\u5730\u8def\u5f84\uff1b\u2461\/bin\uff1b\u2462\/usr\/bin\u3002<\/p>\n<p><strong>\u591a\u8fdb\u7a0b\u73af\u5883\u4e0b\uff0c\u7279\u522b\u8981\u6ce8\u610f\u6587\u4ef6\u53e5\u67c4\u7ba1\u7406<\/strong>\u3002\u547d\u4ee4\u95f4\u5171\u4eab\u6807\u51c6\u8f93\u5165\u8f93\u51fa\u8bbe\u5907\u4e4b\u5916\uff0c\u8fd8\u4f1a\u91cd\u5b9a\u5411\u5230\u7ba1\u9053\u7ebf\uff0c\u800c\u7236\u8fdb\u7a0b\u5728fork\u4e4b\u540e\u5b50\u8fdb\u7a0b\u4f1a\u83b7\u53d6\u4e00\u4efd\u6587\u4ef6\u53e5\u67c4\u62f7\u8d1d\uff0c\u6240\u4ee5<span style=\"color: #ff0000;\"><strong>\u7236\u8fdb\u7a0b\u5fc5\u987b\u5728fork\u4e4b\u540e\u7acb\u5373\u5173\u95ed\u95f2\u7f6e\u7684\u7ba1\u9053\u7ebf\u53e5\u67c4\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u4ee5\u514d\u9020\u6210\u8d44\u6e90\u6cc4\u6f0f\uff0c\u5b50\u8fdb\u7a0b\u4e5f\u5c06\u5728\u91cd\u5b9a\u5411\u4e4b\u540e\u5173\u95ed\u7ba1\u9053\u7ebf\u53e5\u67c4\u3002<\/strong><\/span><\/p>\n<p>\u5bf9\u4e8e<strong>\u540e\u53f0\u547d\u4ee4<\/strong>\u9700\u8981\u6253\u5370pid\uff0c\u4f46\u4e0d\u9700\u8981\u54cd\u5e94\u4e2d\u65ad\u4fe1\u53f7\uff0c\u7236\u8fdb\u7a0b\u4e5f\u4e0d\u5fc5\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ec8\u6b62\u3002\u5176\u4f59\u8fdb\u7a0b\u547d\u4ee4\u6267\u884c\u4e2d\u53ef\u6355\u83b7\u4e2d\u65ad\u4fe1\u53f7\uff0c\u5e76\u8f6c\u5165\u76f8\u5e94\u7684\u5904\u7406\u51fd\u6570\u3002<\/p>\n<p>\u89e3\u91ca\u5668\u7528\u5185\u7f6e\u7684errno\u5168\u5c40\u53d8\u91cf\u4fdd\u5b58\u8fdb\u7a0b\u7ec8\u6b62\u72b6\u6001\uff0c\u5e76\u751f\u6210<strong>\u7ec8\u6b62\u62a5\u544a(termination report)<\/strong>\uff0c\u7cfb\u7edf\u8c03\u7528wait()\u7528\u4e8e\u8fd4\u56de\u7ec8\u6b62\u8fdb\u7a0b\u7684pid\u5e76\u8f93\u51fa\u62a5\u544a\u6d88\u606f\u7d22\u5f15\u3002<\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E5%AD%B0%E4%BC%98%E5%AD%B0%E5%8A%A3\"><\/span>\u5b70\u4f18\u5b70\u52a3<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u5c3d\u7ba1Thompson Shell\u662f\u4e00\u6b3e\u4f18\u79c0\u7684\u547d\u4ee4\u89e3\u91ca\u5668\uff0c\u8fd8\u4ea7\u751f\u4e86\u591a\u9879\u5386\u53f2\u521b\u4e3e\uff0c\u4f46\u9057\u61be\u7684\u662f\u4f9d\u7136\u5f97\u4e0d\u5230\u547d\u8fd0\u5973\u795e\u7684\u5782\u9752\uff0c\u8fd9\u8981\u5f52\u548e\u4e8e\u5176\u81ea\u8eab\u7684\u7f3a\u9677\u2014\u2014<strong>\u529f\u80fd\u5355\u4e00\u3001\u547d\u4ee4\u5206\u6563\u3001\u63a7\u5236\u6d41\u8fc7\u4e8e\u7b80\u5355\uff0c\u5c1a\u65e0\u6cd5\u7528\u6765\u7f16\u5199\u811a\u672c(script)<\/strong>\u3002\u968f\u7740Unix\u65e5\u76ca\u58ee\u5927\uff0c\u5b83\u5df2\u7ecf\u65e0\u6cd5\u5e94\u4ed8\u8d8b\u4e8e\u7e41\u6742\u7684\u7f16\u7a0b\u9879\u76ee\u4e86\u3002\u90a3\u65f6\u8fd8\u51fa\u73b0\u4e86\u4e00\u4e2a\u53eb<a href=\"http:\/\/en.wikipedia.org\/wiki\/John_Mashey\" target=\"_blank\">John Mashey<\/a>\u7684\u4eba\u5199\u7684<a href=\"http:\/\/en.wikipedia.org\/wiki\/PWB_shell\" target=\"_blank\">PWB Shell<\/a>\uff08\u53c8\u53eb\u505aMashey Shell\uff09\uff0c\u57fa\u4e8eThompson Shell\u505a\u4e86\u4e9b\u6539\u8fdb\uff0c\u6269\u5c55\u4e86\u547d\u4ee4\u96c6\uff0c\u589e\u52a0\u4e86shell\u53d8\u91cf\uff0c\u8fd8\u589e\u52a0\u4e86if-then-else-endif\uff0cfor\uff0cwhile\u7b49\u63a7\u5236\u903b\u8f91\u3002\u4e0d\u5e78\u7684\u662f\u5b83\u6bd4Thompson Shell\u66f4\u77ed\u547d\uff0c\u56e0\u4e3a1977\u5e74\u5b83\u9047\u4e0a\u4e86\u4e00\u4e2a\u5f3a\u52b2\u7684\u5bf9\u624b\u3002<\/p>\n<p>\u6ca1\u9519\uff0c\u90a3\u5c31\u662fBourne Shell\uff0c\u5b83\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u771f\u6b63\u5b9e\u73b0\u4e86\u7ed3\u6784\u5316\u811a\u672c\u7f16\u7a0b\uff0c\u6bd4\u4e4b\u524d\u7684shell\u5b9e\u73b0\u5f97\u90fd\u8981\u597d\uff0c\u66f4\u8981\u547d\u7684\u662f\u5b83\u4e0e\u524d\u4e24\u4e2ashell\u90fd\u4e0d\u517c\u5bb9\uff0c\u4e8e\u662f\u4e00\u573a\u6807\u51c6\u5316\u7684\u8bba\u6218\u5f00\u59cb\u4e86\u3002\u5728<a href=\"http:\/\/en.wikipedia.org\/wiki\/David_Korn_(computer_scientist)\" target=\"_blank\">David G. Korn<\/a>\uff08<a href=\"http:\/\/en.wikipedia.org\/wiki\/Korn_shell\" target=\"_blank\">ksh<\/a>\u4f5c\u8005\uff09\u5199\u7684<a href=\"http:\/\/www.in-ulm.de\/~mascheck\/bourne\/korn.html\" target=\"_blank\">&#8220;ksh &#8211; An Extensible High Level Language&#8221;<\/a>\u4e00\u6587\u4e2d\u63d0\u53ca\uff0cSteve Bourne\u548cJohn Mashey\u5728\u4e09\u6b21\u8fde\u7eed\u7684Unix\u7528\u6237\u7ec4\u96c6\u4f1a\u4e0a\u4e89\u8bba\u4ed6\u4eec\u5404\u81ea\u7684\u7406\u7531\u3002\u5728\u8fd9\u4e9b\u96c6\u4f1a\u4e4b\u95f4\uff0c\u5404\u81ea\u589e\u8fdb\u4ed6\u4eec\u7684shell\u6765\u62e5\u6709\u5bf9\u65b9\u7684\u529f\u80fd\u3002\u8fd8\u8bbe\u7acb\u4e86\u4e00\u4e2a\u59d4\u5458\u4f1a\u6765\u9009\u62e9\u6807\u51c6shell\uff0c\u6700\u7ec8\u8fd8\u662f\u9009\u62e9\u4e86Bourne shell\u4f5c\u4e3a\u6807\u51c6\u3002<\/p>\n<p>\u4e8e\u662f\u4eceUnix V7\u5f00\u59cb\u5c31\u6709\u4e86\u524d\u9762\u6240\u8bf4\u7684&#8221;Bourne Shell Family&#8221;\u3002\u7136\u800c\u5386\u53f2\u4e0a\u6ca1\u6709\u5b8c\u7f8e\u7684\u6280\u672f\uff0c\u968f\u7740\u516b\u3001\u4e5d\u5341\u5e74\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u8fc5\u731b\u53d1\u5c55\uff0c\u9488\u5bf9Bourne Shell\u7684\u8bdf\u75c5\u4e5f\u8d8a\u6765\u8d8a\u591a\u4e86\u3002\u5728\u89e3\u91ca\u5668\u672c\u8eab\u5b9e\u73b0\u4e0a\uff0c\u6211\u770b\u5230\u7f51\u4e0a\u4e00\u4e2a\u5bf9\u5176\u8bc4\u4ef7\u662f<a href=\"http:\/\/lwn.net\/Articles\/471015\/\" target=\"_blank\">&#8220;universally considered to be one of the most horrible C code ever written&#8221;<\/a>\uff0c\u81f3\u4e8e\u539f\u56e0\u53bb\u770b\u4e00\u4e0bmac.h\u5c31\u77e5\u9053\u4e86\uff0c\u5305\u62ec\u57fa\u672c\u8fd0\u7b97\u7b26\u3001\u5173\u952e\u5b57\u5728\u5185\u7684\u5927\u91cf\u5b8f\u5b9a\u4e49\u4f7f\u5f97\u6574\u4e2a\u4ee3\u7801\u770b\u4e0a\u53bb\u7b80\u76f4\u4e0d\u662fC\u5199\u7684\uff0c\u4e5f\u8bb8Bourne\u662f\u60f3\u628a\u89e3\u91ca\u5668\u6253\u9020\u6210\u81ea\u5df1\u72ec\u7279\u7684\u98ce\u683c\u5427\uff0c\u4e5f\u96be\u602a\u540e\u6765\u7684bash\u4ee5<strong>&#8220;born again&#8221;<\/strong>\u547d\u540d\u5c31\u662f\u5bf9\u5176\u7956\u5148\u7684\u620f\u8c11\u6027\u8c03\u4f83\u3002\u53e6\u5916<a href=\"http:\/\/www.in-ulm.de\/~mascheck\/bourne\/segv.html\" target=\"_blank\">\u5185\u5b58\u7ba1\u7406<\/a>\u4e0a\u7684\u4e00\u4e9b\u6bdb\u75c5\u5e26\u6765\u5e73\u53f0\u53ef\u79fb\u690d\u6027\u95ee\u9898\uff0c\u81f3\u4e8e\u5176\u4e2d\u7684\u6280\u672f\u7ec6\u8282\u6709\u70b9\u9ad8\u7ea7\uff0c\u8d85\u51fa\u672c\u6587\u8303\u7574\u3002<\/p>\n<h4><span class=\"ez-toc-section\" id=\"Thompson_Again_Shell\"><\/span>Thompson Again Shell?<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u867d\u7136\u5386\u53f2\u6ca1\u6709\u7ed9Thompson Shell\u4e00\u4e2a\u673a\u4f1a\uff0c\u4f46\u5b83\u5e76\u975e\u5c31\u6b64\u540cUnix V6\u90a3\u6837\u4e00\u540c\u6ca6\u4e3a\u5f00\u6e90\u535a\u7269\u9986\u4e0a\u7684\u53e4\u8001\u201c\u5316\u77f3\u201d\u3002\u4f5c\u4e3a\u51fa\u81ea\u9876\u7ea7\u9ed1\u5ba2\u4e4b\u624b\u7684\u4f5c\u54c1\uff0c\u4f5c\u4e3a\u4f34\u968fUnix\u90a3\u6837\u4f1f\u5927\u64cd\u4f5c\u7cfb\u7edf\u4e00\u540c\u66fe\u7ecf\u6d41\u884c\u8ba1\u7b97\u673a\u7684\u4ea7\u7269\uff0c\u81f3\u4eca\u4ecd\u53d7\u56fd\u5185\u5916\u7a0b\u5e8f\u5458\u7684\u7f05\u6000\uff0c\u6216\u5c06\u5176\u6539\u5199\uff0c\u6216\u4e3a\u5176\u4f5c\u6ce8\u3002\u6bd4\u5982\u56fd\u5916\u4e00\u4e2a\u7ad9\u70b9<a href=\"http:\/\/v6shell.org\/\" target=\"_blank\">v6shell.org<\/a>\u4e0a\u5c31\u5b9e\u73b0\u4e86\u4e00\u4e2a\u514d\u8d39\u5f00\u6e90\u7684\u53ef\u79fb\u690d\u6027shell\uff0c\u5b83\u517c\u5bb9\u5e76\u6269\u5145\u539f\u6765\u7684Thompson Shell\u5e76\u4e14\u53ef\u7528\u6765\u505a\u811a\u672c\u7f16\u7a0b\u3002\u518d\u6bd4\u5982\u4e2d\u56fd\u7a0b\u5e8f\u5458<a href=\"http:\/\/blog.chinaunix.net\/uid-20106293-id-142129.html\" target=\"_blank\">\u5bd2\u8749\u9000\u58eb<\/a>\u5728\u5176\u4e2a\u4eba\u535a\u5ba2\u4e0a\u53d1\u5e03\u4e86\u4e00\u4e2a\u6ce8\u89e3\u7248\uff0c\u5e76\u5bf9\u539f\u7248\u505a\u4e86\u4e00\u4e9b\u6539\u5199\uff0c\u4e3b\u8981\u662f\u5c06<strong>K&amp;R C<\/strong>\u8f6c\u4e3a<strong>ANSI C<\/strong>\uff0c\u5e76\u4e14\u7b26\u5408<strong>POSIX\u89c4\u8303<\/strong>\uff0c\u4f7f\u539f\u672c\u6666\u6da9\u96be\u61c2\u7684\u6e90\u7801\u53d8\u5f97\u6e05\u6670\u6613\u8bfb\u8d77\u6765\u3002\u6b63\u662f\u56e0\u4e3a\u63a5\u89e6\u5230\u4ed6\u7684\u7248\u672c\u6fc0\u8d77\u4e86\u6211\u5bf9\u8001Unix\u7684\u8003\u53e4\u5174\u8da3\uff0c\u624d\u6709\u4e86\u8fd9\u7bc7\u201c\u8003\u53e4\u7b14\u8bb0\u201d\u3002\u6211\u5728\u60f3\u4e0d\u77e5\u4eca\u540e\u4f1a\u4e0d\u4f1a\u50cfbash\u90a3\u6837\uff0c\u51fa\u4e00\u4e2atash\u6765\u5462\uff1f<\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E4%B8%80%E4%BA%9B%E6%84%9F%E6%83%B3\"><\/span>\u4e00\u4e9b\u611f\u60f3<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p>\u672c\u6765\u5168\u6587\u5e94\u8be5\u5c31\u6b64\u7ed3\u675f\u4e86\uff0c\u4f46\u6b64\u65f6\u6b64\u523b\u4e0d\u7981\u60f3\u591a\u8bf4\u51e0\u53e5\u3002\u8fd9\u7bc7\u7b14\u8bb0\u5f53\u521d\u5e76\u975e\u6709\u610f\u800c\u4e3a\u4e4b\uff0c\u5728hacking\u6e90\u7801\u7684\u8fc7\u7a0b\u4e2d\u611f\u60f3\u79ef\u7d2f\u591a\u4e86\u4e5f\u5c31\u9010\u6e10\u6210\u7ae0\u4e86\u3002\u770b\u4ee3\u7801\u3001\u4f5c\u6ce8\u89e3\u3001\u67e5\u8d44\u6599\u3001\u5199\u6b64\u6587\uff0c\u524d\u540e\u5386\u7ecf\u56db\u4e2a\u591a\u793c\u62dc\uff0c\u662f\u5728\u7e41\u6742\u7684\u5de5\u4f5c\u4e2d\u201c\u6324\u4e73\u6c9f\u201d\u6324\u51fa\u6765\u7684\u96f6\u6563\u65f6\u95f4\u7247\u62fc\u51d1\u8d77\u6765\u7684\uff0c\u867d\u7136\u6587\u5b57\u4e0d\u957f\u4f46\u4e5f\u7b97\u8017\u8d39\u4e86\u4e00\u756a\u5fc3\u8840\uff0c\u9178\u751c\u82e6\u8fa3\u5fc3\u4e2d\u81ea\u660e\uff0c\u4f53\u4f1a\u5230\u8e0f\u4e0a\u793e\u4f1a\u4e4b\u540e\u6f5c\u4e0b\u5fc3\u505a\u7814\u7a76\u4e4b\u8270\u96be\u3002\u5982\u4eca\u9762\u5bf9\u8fd9\u6837\u4e00\u4efd\u4e0d\u5230900\u884c\u5199\u6210\u7684\uff0c\u6ca1\u6709\u4e00\u884c\u591a\u4f59\u7684\u4ee3\u7801\uff0c<strong>\u7b80\u6d01(clarity)\u3001\u5e72\u51c0(clean)\u3001\u5feb\u901f(fast)\uff0c<\/strong>\u8fd9\u5c31\u662fPure C\u7684\u9b45\u529b\uff0c\u6211\u6df1\u4e3a\u8fd9\u79cd\u539a\u91cd\u7684\u7f16\u7a0b\u529f\u529b\u6240\u6298\u670d\uff0c\u6b63\u6240\u8c13<strong>\u201c\u5927\u9053\u81f3\u7b80\u201d<\/strong>\u5427\u3002\u867d\u7136\u8981\u5b8c\u5168\u5f04\u61c2\u5b83\u9700\u8981\u5f88\u591a\u65f6\u95f4\uff0c\u4f46\u6211\u76f8\u4fe1\u8fd9\u79cd\u4ee3\u4ef7\u5374\u662f\u503c\u5f97\u7684\u3002<\/p>\n<p>\u6700\u540e\u518d\u516b\u5366\u4e00\u4e0b\uff0c2011\u5e74Dennis Ritchie\u53bb\u4e16\u4e86\uff0c\u6709\u4eba\u751f\u524d\u95ee\u8fc7\u4ed6\u201c\u5b66C\u9700\u8981\u591a\u4e45\u624d\u80fd\u6210\u4e3a\u719f\u7ec3\u5f00\u53d1\u8005\u5e76\u5199\u51fa\u91cd\u8981\u4ea7\u54c1\u4ee3\u7801\uff1f\u201d\uff0cRitchie\u56de\u7b54\u201c\u6211\u4e0d\u77e5\u9053\uff0c\u6211\u4ece\u6ca1\u53bb\u5b66\u8fc7C\u3002\u201d<a href=\"http:\/\/www.cs.columbia.edu\/~aho\/Talks\/12-09-07_DMR.pdf\" target=\"_blank\">(I don\u2019t know. I never had to learn C.)<\/a>\u5176\u5b9e\u8fd9\u91cc\u5df2\u7ecf\u7ed9\u51fa\u4e86\u7b54\u6848\u2014\u2014<strong>\u90a3\u5c31\u662f\u6ca1\u6709\u6bd4\u53bb\u9605\u8bfbUnix\u6e90\u4ee3\u7801\u66f4\u597d\u7684\u9009\u62e9\u4e86\uff0c\u67d0\u79cd\u610f\u4e49\u4e0aC\u8bed\u8a00\u5c31\u662f\u4e3aUnix\u800c\u751f\u7684\u3002<\/strong><\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter\" alt=\"Dennis Mac Ritchie\" src=\"http:\/\/th05.deviantart.net\/fs71\/PRE\/f\/2011\/296\/7\/2\/dennis_ritchie_by_juanosborne-d4dooi9.jpg\" width=\"611\" height=\"314\" \/><\/p>\n<h4><span class=\"ez-toc-section\" id=\"%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\"><\/span>\u53c2\u8003\u8d44\u6599<span class=\"ez-toc-section-end\"><\/span><\/h4>\n<p><a href=\"http:\/\/www.tuhs.org\/\" target=\"_blank\">The Unix Heritage Society<\/a>\uff1aUnix\u793e\u533a\u9057\u4ea7\uff0c\u4e0a\u9762\u6709v6\u548cv7\u4ee5\u53ca\u5176\u5b83\u4e00\u4e9b\u884d\u751f\u7248\u672c\u7684\u64cd\u4f5c\u7cfb\u7edf\u6e90\u4ee3\u7801\u3002<\/p>\n<p><a href=\"http:\/\/www.in-ulm.de\/~mascheck\/bourne\/\" target=\"_blank\">The Traditional Bourne Shell Family<\/a>\uff1aBourne Shell\u5bb6\u65cf\u7b80\u53f2\u3002<\/p>\n<p><a href=\"http:\/\/v6shell.org\/\" target=\"_blank\">v6shell<\/a>\uff1aosh\uff0c\u4e00\u4e2a\u57fa\u4e8eThompson Shell\u7684\u5f00\u6e90\u53ef\u79fb\u690d\u6027old shell\u3002<\/p>\n<p><a href=\"http:\/\/blog.chinaunix.net\/uid-20106293-id-142129.html\" target=\"_blank\">\u5bd2\u8749\u9000\u58eb\u7684\u535a\u5ba2<\/a>\uff1aThompson Shell\u7684\u4e00\u4e2a\u6ce8\u89e3\u7248\u3002<\/p>\n<p><a href=\"https:\/\/www.ibm.com\/developerworks\/linux\/library\/l-linux-shells\/index.html?ca=drs-\" target=\"_blank\">Evolution of shells in Linux<\/a>\uff1a\u7b80\u8ff0Linux Shell\u6f14\u53d8\u53f2\u3002<\/p>\n<p>\u9644\u5f55\u4e00\u4e2a\u4e2d\u6587\u6ce8\u91ca\u7684 <a href=\"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/shell\u6e90\u7801.zip\">shell\u6e90\u7801<\/a><\/p>\n<p>\uff08\u5168\u6587\u5b8c\uff09<\/p>\n","raw":"","protected":false},"excerpt":{"rendered":"<p>(\u611f\u8c22\u7f51\u53cbLeo\u6295\u9012\u6b64\u6587) \u8c28\u4ee5\u6b64\u6587\u7eaa\u5ff5\u4f1f\u5927\u7684\u8ba1\u7b97\u673a\u79d1\u5b66\u5de8\u5320Ken Thompson\u548cDennis Ritchie\uff0c\u5e76\u540c\u65f6\u5411\u5176\u4ed6\u6240\u6709\u4e3aUnix\u53d1\u5c55\u505a\u51fa\u8d21\u732e\u7684\u9ed1\u5ba2&#8230;<\/p>\n<p class=\"read-more\"><a class=\"btn btn-default\" href=\"https:\/\/coolshell.cn\/articles\/9410.html\"> Read More<span class=\"screen-reader-text\">  Read More<\/span><\/a><\/p>\n","protected":false},"author":15168,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[5,20,18,52],"tags":[126,667,239,555,21],"series":[],"aioseo_notices":[],"views":48525,"post_thumbnail_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","content_first_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","post_medium_image_300":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","post_thumbnail_image_624":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","post_frist_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","post_medium_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","post_large_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","post_full_image":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","post_all_images":[{"imagesurl":"https:\/\/www.ibm.com\/developerworks\/linux\/library\/l-linux-shells\/figure1.gif","id":"image0"},{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe1.jpg","id":"image1"},{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe2.jpg","id":"image2"},{"imagesurl":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/04\/\u56fe3.jpg","id":"image3"},{"imagesurl":"http:\/\/th05.deviantart.net\/fs71\/PRE\/f\/2011\/296\/7\/2\/dennis_ritchie_by_juanosborne-d4dooi9.jpg","id":"image4"}],"videoAdId":"","listAd":"0","listAdId":"","listAdEvery":5,"total_comments":26,"category_name":"C\/C++\u8bed\u8a00","post_date":"2013-04-26","like_count":"0","praiseWord":"\u9f13\u52b1","excitationAd":"0","rewardedVideoAdId":"","detailAdId":"","detailAd":"0","enterpriseMinapp":"0","audios":[],"postImageUrl":"http:\/\/coolshell.cn\/wp-content\/uploads\/2016\/09\/coolshell-360x200.jpg","avatarurls":[],"related_posts":[],"pageviews":48526,"pageviews_wl":45921,"ratings_average":4,"ratings_total":162,"ratings_users":39,"next_post_id":9543,"next_post_title":"\u201cC++\u7684\u6570\u7ec4\u4e0d\u652f\u6301\u591a\u6001\u201d\uff1f","previous_post_id":9308,"previous_post_title":"\u201c\u4f5c\u73af\u4fdd\u7684\u7a0b\u5e8f\u5458\uff0c\u4ece\u4e0d\u7528\u767e\u5ea6\u5f00\u59cb\u201d"}