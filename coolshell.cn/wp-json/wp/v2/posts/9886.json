{"id":9886,"date":"2013-07-14T11:08:23","date_gmt":"2013-07-14T03:08:23","guid":{"rendered":"http:\/\/coolshell.cn\/?p=9886"},"modified":"2013-07-15T10:21:09","modified_gmt":"2013-07-15T02:21:09","slug":"%e4%ba%8c%e5%8f%89%e6%a0%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e7%ae%97%e6%b3%95","status":"publish","type":"post","link":"https:\/\/coolshell.cn\/articles\/9886.html","title":{"rendered":"\u4e8c\u53c9\u6811\u8fed\u4ee3\u5668\u7b97\u6cd5"},"content":{"rendered":"<p><strong>\uff08\u611f\u8c22\u00a0<\/strong><a href=\"http:\/\/weibo.com\/weidagang\" target=\"_blank\">@\u6587\u827a\u590d\u5174\u8bb0<\/a><strong>\uff08todd\uff09 \u6295\u9012\u6b64\u6587\uff09<\/strong><\/p>\n<p>\u4e8c\u53c9\u6811(Binary Tree)\u7684\u524d\u5e8f\u3001\u4e2d\u5e8f\u548c\u540e\u7eed\u904d\u5386\u662f\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u57fa\u672c\u95ee\u9898\uff0c\u57fa\u4e8e\u9012\u5f52\u7684\u4e8c\u53c9\u6811\u904d\u5386\u7b97\u6cd5\u66f4\u662f\u9012\u5f52\u7684\u7ecf\u5178\u5e94\u7528\u3002<\/p>\n<p>\u5047\u8bbe\u4e8c\u53c9\u6811\u7ed3\u70b9\u5b9a\u4e49\u5982\u4e0b\uff1a<\/p>\n<pre data-enlighter-language=\"cpp\" class=\"EnlighterJSRAW\">\r\n\/\/ C++\r\nstruct Node {\r\n    int value;\r\n    Node *left;\r\n    Node *right;\r\n}\r\n<\/pre>\n<p>\u4e2d\u5e8f\u9012\u5f52\u904d\u5386\u7b97\u6cd5\uff1a<\/p>\n<pre data-enlighter-language=\"cpp\" class=\"EnlighterJSRAW\">\r\n\/\/ C++\r\nvoid inorder_traverse(Node *node) {\r\n    if (NULL != node-&gt;left) {\r\n        inorder_traverse(node-&gt;left);\r\n    }\r\n    do_something(node);\r\n    if (NULL != node-&gt;right) {\r\n        inorder_traverse(node-&gt;right);\r\n    }\r\n}\r\n<\/pre>\n<p>\u524d\u5e8f\u548c\u540e\u5e8f\u904d\u5386\u7b97\u6cd5\u7c7b\u4f3c\u3002<\/p>\n<p>\u4f46\u662f\uff0c\u4ec5\u6709\u904d\u5386\u7b97\u6cd5\u662f\u4e0d\u591f\u7684\uff0c\u5728\u8bb8\u591a\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5bf9\u904d\u5386\u672c\u8eab\u8fdb\u884c\u62bd\u8c61\u3002\u5047\u5982\u6709\u4e00\u4e2a\u6c42\u548c\u7684\u51fd\u6570sum\uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u80fd\u5e94\u7528\u4e8e\u94fe\u8868\uff0c\u6570\u7ec4\uff0c\u4e8c\u53c9\u6811\u7b49\u7b49\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u62bd\u8c61\u51fa\u8fed\u4ee3\u5668(Iterator)\u7684\u6982\u5ff5\uff0c\u901a\u8fc7<strong>\u8fed\u4ee3\u5668\u628a\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\u89e3\u8026\u4e86<\/strong>\uff0c\u4f7f\u5f97\u901a\u7528\u7b97\u6cd5\u80fd\u5e94\u7528\u4e8e\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\u3002\u6211\u4eec\u53ef\u4ee5\u628asum\u51fd\u6570\u5b9a\u4e49\u4e3a\uff1a<\/p>\n<p><!--more--><\/p>\n<pre data-enlighter-language=\"cpp\" class=\"EnlighterJSRAW\">\r\nint sum(Iterator it)\r\n<\/pre>\n<p>\u94fe\u8868\u4f5c\u4e3a\u4e00\u79cd\u7ebf\u6027\u7ed3\u6784\uff0c\u5b83\u7684\u8fed\u4ee3\u5668\u5b9e\u73b0\u975e\u5e38\u7b80\u5355\u548c\u76f4\u89c2\uff0c\u800c\u4e8c\u53c9\u6811\u7684\u8fed\u4ee3\u5668\u5b9e\u73b0\u5219\u4e0d\u90a3\u4e48\u5bb9\u6613\uff0c\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u5c06\u9012\u5f52\u904d\u5386\u8f6c\u6362\u4e3a\u8fed\u4ee3\u5668\u3002\u7a76\u5176\u539f\u56e0\uff0c\u8fd9\u662f\u56e0\u4e3a\u4e8c\u53c9\u6811\u9012\u5f52\u904d\u5386\u8fc7\u7a0b\u662f\u7f16\u8bd1\u5668\u5728\u8c03\u7528\u6808\u4e0a\u81ea\u52a8\u8fdb\u884c\u7684\uff0c\u7a0b\u5e8f\u5458\u5bf9\u8fd9\u4e2a\u8fc7\u7a0b\u7f3a\u4e4f\u8db3\u591f\u7684\u63a7\u5236\u3002\u65e2\u7136\u5982\u6b64\uff0c\u90a3\u4e48\u6211\u4eec\u5982\u679c\u53ef\u4ee5\u81ea\u5df1\u6765\u63a7\u5236\u6574\u4e2a\u8c03\u7528\u6808\u7684\u8fdb\u6808\u548c\u51fa\u6808\u4e0d\u662f\u5c31\u8fbe\u5230\u63a7\u5236\u7684\u76ee\u7684\u4e86\u5417\uff1f\u6211\u4eec\u5148\u6765\u770b\u770b\u4e8c\u53c9\u6811\u904d\u5386\u7684\u975e\u9012\u5f52\u7b97\u6cd5\uff1a<\/p>\n<pre data-enlighter-language=\"cpp\" class=\"EnlighterJSRAW\">\r\n\/\/ C++\r\nvoid inorder_traverse_nonrecursive(Node *node) {\r\n    Stack stack;\r\n    do {\r\n        \/\/ node\u4ee3\u8868\u5f53\u524d\u51c6\u5907\u5904\u7406\u7684\u5b50\u6811\uff0c\u5c42\u5c42\u5411\u4e0b\u628a\u5de6\u5b69\u5b50\u538b\u6808\uff0c\u5bf9\u5e94\u9012\u5f52\u7b97\u6cd5\u7684\u5de6\u5b50\u6811\u9012\u5f52\r\n        while (NULL != node) {\r\n            stack.push(node);\r\n            node = node-&gt;left;\r\n        }\r\n        do {\r\n            Node *top = stack.top();\r\n            stack.pop(); \/\/\u5f39\u51fa\u6808\u9876\uff0c\u5bf9\u5e94\u9012\u5f52\u7b97\u6cd5\u7684\u51fd\u6570\u8fd4\u56de\r\n            do_something(top);\r\n            if (NULL != top-&gt;right) {\r\n                node = top-&gt;right; \/\/\u5c06\u5f53\u524d\u5b50\u6811\u7f6e\u4e3a\u521a\u521a\u904d\u5386\u8fc7\u7684\u7ed3\u70b9\u7684\u53f3\u5b69\u5b50\uff0c\u5bf9\u5e94\u9012\u5f52\u7b97\u6cd5\u7684\u53f3\u5b50\u6811\u9012\u5f52\r\n                break;\r\n            }\r\n        }\r\n        while (!stack.empty());\r\n    }\r\n    while (!stack.empty());\r\n}\r\n<\/pre>\n<p>\u901a\u8fc7\u57fa\u4e8e\u6808\u7684\u975e\u9012\u5f52\u7b97\u6cd5\u6211\u4eec\u83b7\u5f97\u4e86\u5bf9\u4e8e\u904d\u5386\u8fc7\u7a0b\u7684\u63a7\u5236\uff0c\u4e0b\u9762\u6211\u4eec\u8003\u8651\u5982\u4f55\u5c06\u5176\u5c01\u88c5\u4e3a\u8fed\u4ee3\u5668\u5462\uff1f \u8fd9\u91cc\u5173\u952e\u5728\u4e8e\u7406\u89e3\u904d\u5386\u7684\u8fc7\u7a0b\u662f\u7531\u6808\u7684\u72b6\u6001\u6765\u8868\u793a\u7684\uff0c\u6240\u4ee5\u663e\u7136\u8fed\u4ee3\u5668\u5185\u90e8\u5e94\u8be5\u5305\u542b\u4e00\u4e2a\u6808\u7ed3\u6784\uff0c\u6bcf\u6b21\u8fed\u4ee3\u7684\u8fc7\u7a0b\u5c31\u662f\u5bf9\u6808\u7684\u64cd\u4f5c\u3002\u5047\u8bbe\u8fed\u4ee3\u5668\u7684\u63a5\u53e3\u4e3a\uff1a<\/p>\n<pre data-enlighter-language=\"cpp\" class=\"EnlighterJSRAW\">\r\n\/\/ C++\r\nclass Iterator {\r\n    public:\r\n        virtual Node* next() = 0;\r\n};\r\n<\/pre>\n<p>\u4e0b\u9762\u662f\u4e00\u4e2a\u4e8c\u53c9\u6811\u4e2d\u5e8f\u904d\u5386\u8fed\u4ee3\u5668\u7684\u5b9e\u73b0\uff1a<\/p>\n<pre data-enlighter-language=\"cpp\" class=\"EnlighterJSRAW\">\r\n\/\/C++\r\nclass InorderIterator : public Iterator {\r\n    public:\r\n        InorderIterator(Node *node) {\r\n            Node *current = node;\r\n            while (NULL != current) {\r\n                mStack.push(current);\r\n                current = current-&gt;left;\r\n            }\r\n        }\r\n        virtual Node* next() {\r\n            if (mStack.empty()) {\r\n                return NULL;\r\n            }\r\n            Node *top = mStack.top();\r\n            mStack.pop();\r\n            if (NULL != top-&gt;right) {\r\n                Node *current = top-&gt;right;\r\n                while (NULL != current) {\r\n                    mStack.push(current);\r\n                    current = current-&gt;left;\r\n                }\r\n            }\r\n            return top;\r\n         }\r\n    private:\r\n        std::stack&lt;Node*&gt; mStack;\r\n};\r\n<\/pre>\n<p>\u4e0b\u9762\u6211\u4eec\u518d\u6765\u8003\u5bdf\u4e00\u4e0b\u8fd9\u4e2a\u8fed\u4ee3\u5668\u5b9e\u73b0\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u590d\u6742\u5ea6\u3002\u5f88\u663e\u7136\uff0c\u7531\u4e8e\u6808\u4e2d\u6700\u591a\u9700\u8981\u4fdd\u5b58\u6240\u6709\u7684\u7ed3\u70b9\uff0c\u6240\u4ee5\u5176\u7a7a\u95f4\u590d\u6742\u5ea6\u662fO(n)\u7684\u3002\u90a3\u4e48\u65f6\u95f4\u590d\u6742\u5ea6\u5462\uff1f\u4e00\u6b21next()\u8c03\u7528\u4e5f\u6700\u591a\u4f1a\u8fdb\u884cn\u6b21\u6808\u64cd\u4f5c\uff0c\u800c\u6574\u4e2a\u904d\u5386\u8fc7\u7a0b\u9700\u8981\u8c03\u7528n\u6b21next()\uff0c\u90a3\u4e48\u662f\u4e0d\u662f\u6574\u4e2a\u8fed\u4ee3\u5668\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662fO(n^2)\u5462\uff1f\u7b54\u6848\u662f\u5426\u5b9a\u7684\uff01\u56e0\u4e3a\u6bcf\u4e2a\u7ed3\u70b9\u53ea\u4f1a\u8fdb\u6808\u548c\u51fa\u6808\u4e00\u6b21\uff0c\u6240\u4ee5\u6574\u4e2a\u8fed\u4ee3\u8fc7\u7a0b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4f9d\u7136\u4e3aO(n)\u3002\u5176\u5b9e\uff0c\u8fd9\u548c\u9012\u5f52\u904d\u5386\u7684\u65f6\u7a7a\u590d\u6742\u5ea6\u5b8c\u5168\u4e00\u6837\u3002<\/p>\n<p>\u9664\u4e86\u4e0a\u9762\u663e\u5f0f\u5229\u7528\u6808\u63a7\u5236\u4ee3\u7801\u6267\u884c\u987a\u5e8f\u5916\uff0c\u5728\u652f\u6301yield\u8bed\u4e49\u7684\u8bed\u8a00\uff08C#, Python\u7b49)\u4e2d\uff0c\u8fd8\u6709\u66f4\u4e3a\u76f4\u63a5\u7684\u505a\u6cd5\u3002\u4e0b\u9762\u57fa\u4e8eyield\u7684\u4e8c\u53c9\u6811\u4e2d\u5e8f\u904d\u5386\u7684Python\u5b9e\u73b0\uff1a<\/p>\n<pre data-enlighter-language=\"python\" class=\"EnlighterJSRAW\">\r\n\/\/ Python\r\ndef inorder(t):\r\n    if t:\r\n        for x in inorder(t.left):\r\n            yield x\r\n        yield t.label\r\n        for x in inorder(t.right):\r\n            yield x\r\n<\/pre>\n<p>yield\u4e0ereturn\u533a\u522b\u7684\u4e00\u79cd\u901a\u4fd7\u89e3\u91ca\u662fyield\u8fd4\u56de\u65f6\u7cfb\u7edf\u4f1a\u4fdd\u7559\u51fd\u6570\u8c03\u7528\u7684\u72b6\u6001\uff0c\u4e0b\u6b21\u8be5\u51fd\u6570\u88ab\u8c03\u7528\u65f6\u4f1a\u63a5\u7740\u4ece\u4e0a\u6b21\u7684\u6267\u884c\u70b9\u7ee7\u7eed\u6267\u884c\uff0c\u8fd9\u662f\u4e00\u79cd\u4e0e\u6808\u8bed\u4e49\u6240\u5b8c\u5168\u4e0d\u540c\u7684\u6d41\u7a0b\u63a7\u5236\u8bed\u4e49\u3002\u6211\u4eec\u77e5\u9053Python\u7684\u89e3\u91ca\u5668\u662fC\u5199\u7684\uff0c\u4f46\u662fC\u5e76\u4e0d\u652f\u6301yield\u8bed\u4e49\uff0c\u90a3\u4e48\u89e3\u91ca\u5668\u662f\u5982\u4f55\u505a\u5230\u5bf9yield\u7684\u652f\u6301\u7684\u5462\uff1f \u6709\u4e86\u4e0a\u9762\u628a\u9012\u5f52\u904d\u5386\u53d8\u6362\u4e3a\u8fed\u4ee3\u904d\u5386\u7684\u7ecf\u9a8c\uff0c\u76f8\u4fe1\u4f60\u5df2\u7ecf\u731c\u5230Python\u89e3\u91ca\u5668\u4e00\u5b9a\u662f\u5bf9yield\u4ee3\u7801\u8fdb\u884c\u4e86\u67d0\u79cd\u53d8\u6362\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u80fd\u591f\u5b9e\u73b0\u9012\u5f52\u53d8\u975e\u9012\u5f52\uff0c\u4e0d\u59a8\u5c1d\u8bd5\u4e00\u4e0b\u80fd\u5426\u5199\u4e00\u6bb5\u7f16\u8bd1\u7a0b\u5e8f\u5c06yield\u4ee3\u7801\u53d8\u6362\u4e3a\u975eyield\u4ee3\u7801\u3002<\/p>\n","raw":"","protected":false},"excerpt":{"rendered":"<p>\uff08\u611f\u8c22\u00a0@\u6587\u827a\u590d\u5174\u8bb0\uff08todd\uff09 \u6295\u9012\u6b64\u6587\uff09 \u4e8c\u53c9\u6811(Binary Tree)\u7684\u524d\u5e8f\u3001\u4e2d\u5e8f\u548c\u540e\u7eed\u904d\u5386\u662f\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u57fa\u672c\u95ee\u9898\uff0c\u57fa\u4e8e\u9012\u5f52\u7684\u4e8c\u53c9\u6811\u904d\u5386\u7b97\u6cd5\u66f4\u662f\u9012&#8230;<\/p>\n<p class=\"read-more\"><a class=\"btn btn-default\" href=\"https:\/\/coolshell.cn\/articles\/9886.html\"> Read More<span class=\"screen-reader-text\">  Read More<\/span><\/a><\/p>\n","protected":false},"author":3213,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[5,33,10,23,3],"tags":[76,59],"series":[],"aioseo_notices":[],"views":41840,"post_thumbnail_image":"","content_first_image":"","post_medium_image_300":"","post_thumbnail_image_624":"","post_frist_image":"","post_medium_image":"","post_large_image":"","post_full_image":"","post_all_images":[],"videoAdId":"","listAd":"0","listAdId":"","listAdEvery":5,"total_comments":54,"category_name":"C\/C++\u8bed\u8a00","post_date":"2013-07-14","like_count":"0","praiseWord":"\u9f13\u52b1","excitationAd":"0","rewardedVideoAdId":"","detailAdId":"","detailAd":"0","enterpriseMinapp":"0","audios":[],"postImageUrl":"http:\/\/coolshell.cn\/wp-content\/uploads\/2016\/09\/coolshell-360x200.jpg","avatarurls":[],"related_posts":[],"pageviews":41841,"pageviews_wl":39189,"ratings_average":3,"ratings_total":75,"ratings_users":24,"next_post_id":10115,"next_post_title":"C\u8bed\u8a00\u5168\u5c40\u53d8\u91cf\u90a3\u4e9b\u4e8b\u513f","previous_post_id":9917,"previous_post_title":"Alan Cox\uff1a\u5927\u6559\u5802\u3001\u5e02\u96c6\u4e0e\u5e02\u8bae\u4f1a"}